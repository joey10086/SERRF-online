(function(I,D){'object'==typeof exports&&'object'==typeof module?module.exports=D():'function'==typeof define&&define.amd?define([],D):'object'==typeof exports?exports.ML=D():I.ML=D()})('undefined'==typeof self?this:self,function(){return function(R){function I(E){if(D[E])return D[E].exports;var O=D[E]={i:E,l:!1,exports:{}};return R[E].call(O.exports,O,O.exports,I),O.l=!0,O.exports}var D={};return I.m=R,I.c=D,I.d=function(E,O,G){I.o(E,O)||Object.defineProperty(E,O,{configurable:!1,enumerable:!0,get:G})},I.n=function(E){var O=E&&E.__esModule?function(){return E['default']}:function(){return E};return I.d(O,'a',O),O},I.o=function(E,O){return Object.prototype.hasOwnProperty.call(E,O)},I.p='',I(I.s=53)}([function(R,I,D){'use strict';function E(de){return de&&de.__esModule?de:{default:de}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(5);Object.defineProperty(I,'default',{enumerable:!0,get:function(){return E(O).default}}),Object.defineProperty(I,'Matrix',{enumerable:!0,get:function(){return E(O).default}});var G=D(7);Object.defineProperty(I,'abstractMatrix',{enumerable:!0,get:function(){return E(G).default}});var Z=D(66);Object.defineProperty(I,'wrap',{enumerable:!0,get:function(){return Z.wrap}});var $=D(20);Object.defineProperty(I,'WrapperMatrix2D',{enumerable:!0,get:function(){return E($).default}});var ee=D(19);Object.defineProperty(I,'WrapperMatrix1D',{enumerable:!0,get:function(){return E(ee).default}});var te=D(67);Object.defineProperty(I,'solve',{enumerable:!0,get:function(){return te.solve}}),Object.defineProperty(I,'inverse',{enumerable:!0,get:function(){return te.inverse}});var ie=D(68);Object.defineProperty(I,'linearDependencies',{enumerable:!0,get:function(){return ie.linearDependencies}});var ne=D(8);Object.defineProperty(I,'SingularValueDecomposition',{enumerable:!0,get:function(){return E(ne).default}}),Object.defineProperty(I,'SVD',{enumerable:!0,get:function(){return E(ne).default}});var oe=D(69);Object.defineProperty(I,'EigenvalueDecomposition',{enumerable:!0,get:function(){return E(oe).default}}),Object.defineProperty(I,'EVD',{enumerable:!0,get:function(){return E(oe).default}});var ae=D(70);Object.defineProperty(I,'CholeskyDecomposition',{enumerable:!0,get:function(){return E(ae).default}}),Object.defineProperty(I,'CHO',{enumerable:!0,get:function(){return E(ae).default}});var se=D(10);Object.defineProperty(I,'LuDecomposition',{enumerable:!0,get:function(){return E(se).default}}),Object.defineProperty(I,'LU',{enumerable:!0,get:function(){return E(se).default}});var le=D(21);Object.defineProperty(I,'QrDecomposition',{enumerable:!0,get:function(){return E(le).default}}),Object.defineProperty(I,'QR',{enumerable:!0,get:function(){return E(le).default}})},function(R){'use strict';function E(G,Z){for(var $=0,ee=0;ee<G.length;ee++)$+=(G[ee]-Z[ee])*(G[ee]-Z[ee]);return $}function O(G,Z){return Math.sqrt(E(G,Z))}R.exports=O,O.squared=E},function(R,I,D){'use strict';function E($){return $&&$.__esModule?$:{default:$}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(121);Object.defineProperty(I,'maybeToPrecision',{enumerable:!0,get:function(){return E(O).default}});var G=D(122);Object.defineProperty(I,'checkArrayLength',{enumerable:!0,get:function(){return E(G).default}});class Z{constructor(){if(new.target===Z)throw new Error('BaseRegression must be subclassed')}predict($){if('number'==typeof $)return this._predict($);if(Array.isArray($)){for(var ee=Array($.length),te=0;te<$.length;te++)ee[te]=this._predict($[te]);return ee}throw new TypeError('x must be a number or array')}_predict(){throw new Error('_predict must be implemented')}train(){}toString(){return''}toLaTeX(){return''}score($,ee){if(!Array.isArray($)||!Array.isArray(ee)||$.length!==ee.length)throw new Error('x and y must be arrays of the same length');for(var te=$.length,ie=Array(te),ne=0;ne<te;ne++)ie[ne]=this._predict($[ne]);for(var oe=0,ae=0,se=0,le=0,de=0,ue=0,ce=0,me=0;me<te;me++)oe+=ie[me],ae+=ee[me],de+=ie[me]*ie[me],ue+=ee[me]*ee[me],ce+=ie[me]*ee[me],0!==ee[me]&&(se+=(ee[me]-ie[me])*(ee[me]-ie[me])/ee[me]),le=(ee[me]-ie[me])*(ee[me]-ie[me]);var ge=(te*ce-oe*ae)/Math.sqrt((te*de-oe*oe)*(te*ue-ae*ae));return{r:ge,r2:ge*ge,chi2:se,rmsd:le*le/te}}}I.default=Z},function(R,I,D){'use strict';function E(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(7),G=E(O),Z=D(5),$=E(Z);class ee extends(0,G.default)(){constructor(te,ie,ne){super(),this.matrix=te,this.rows=ie,this.columns=ne}static get[Symbol.species](){return $.default}}I.default=ee},function(R,I,D){'use strict';I.array=D(24),I.matrix=D(9)},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(7),G=function(ee){return ee&&ee.__esModule?ee:{default:ee}}(O),Z=D(6);class $ extends(0,G.default)(Array){constructor(ee,te){var ie;if(1===arguments.length&&'number'==typeof ee)return Array(ee);if($.isMatrix(ee))return ee.clone();if(Number.isInteger(ee)&&0<ee){if(super(ee),Number.isInteger(te)&&0<te)for(ie=0;ie<ee;ie++)this[ie]=Array(te);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(ee)){var ne=ee;if(ee=ne.length,te=ne[0].length,'number'!=typeof te||0===te)throw new TypeError('Data must be a 2D array with at least one element');for(super(ee),ie=0;ie<ee;ie++){if(ne[ie].length!==te)throw new RangeError('Inconsistent array dimensions');this[ie]=[].concat(ne[ie])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=ee,this.columns=te,this}set(ee,te,ie){return this[ee][te]=ie,this}get(ee,te){return this[ee][te]}removeRow(ee){if((0,Z.checkRowIndex)(this,ee),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(ee,1),this.rows-=1,this}addRow(ee,te){return void 0===te&&(te=ee,ee=this.rows),(0,Z.checkRowIndex)(this,ee,!0),te=(0,Z.checkRowVector)(this,te,!0),this.splice(ee,0,te),this.rows+=1,this}removeColumn(ee){if((0,Z.checkColumnIndex)(this,ee),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var te=0;te<this.rows;te++)this[te].splice(ee,1);return this.columns-=1,this}addColumn(ee,te){'undefined'==typeof te&&(te=ee,ee=this.columns),(0,Z.checkColumnIndex)(this,ee,!0),te=(0,Z.checkColumnVector)(this,te);for(var ie=0;ie<this.rows;ie++)this[ie].splice(ee,0,te[ie]);return this.columns+=1,this}}I.default=$},function(R,I,D){'use strict';function te(me,ge){if('object'!=typeof ge)throw new TypeError('unexpected type for row indices');var pe=ge.some(he=>{return 0>he||he>=me.rows});if(pe)throw new RangeError('row indices are out of range');return Array.isArray(ge)||(ge=Array.from(ge)),ge}function ie(me,ge){if('object'!=typeof ge)throw new TypeError('unexpected type for column indices');var pe=ge.some(he=>{return 0>he||he>=me.columns});if(pe)throw new RangeError('column indices are out of range');return Array.isArray(ge)||(ge=Array.from(ge)),ge}function de(me,ge){if('number'!=typeof ge)throw new TypeError(`${me} must be a number`)}Object.defineProperty(I,'__esModule',{value:!0}),I.checkRowIndex=function(me,ge,pe){var he=pe?me.rows:me.rows-1;if(0>ge||ge>he)throw new RangeError('Row index out of range')},I.checkColumnIndex=function(me,ge,pe){var he=pe?me.columns:me.columns-1;if(0>ge||ge>he)throw new RangeError('Column index out of range')},I.checkRowVector=function(me,ge){if(ge.to1DArray&&(ge=ge.to1DArray()),ge.length!==me.columns)throw new RangeError('vector size must be the same as the number of columns');return ge},I.checkColumnVector=function(me,ge){if(ge.to1DArray&&(ge=ge.to1DArray()),ge.length!==me.rows)throw new RangeError('vector size must be the same as the number of rows');return ge},I.checkIndices=function(me,ge,pe){return{row:te(me,ge),column:ie(me,pe)}},I.checkRowIndices=te,I.checkColumnIndices=ie,I.checkRange=function(me,ge,pe,he,fe){if(5!==arguments.length)throw new RangeError('expected 4 arguments');if(de('startRow',ge),de('endRow',pe),de('startColumn',he),de('endColumn',fe),ge>pe||he>fe||0>ge||ge>=me.rows||0>pe||pe>=me.rows||0>he||he>=me.columns||0>fe||fe>=me.columns)throw new RangeError('Submatrix indices are out of range')},I.getRange=function(me,ge){for(var pe=Array(ge-me+1),he=0;he<pe.length;he++)pe[he]=me+he;return pe},I.sumByRow=function(me){for(var ge=ce.default.zeros(me.rows,1),pe=0;pe<me.rows;++pe)for(var he=0;he<me.columns;++he)ge.set(pe,0,ge.get(pe,0)+me.get(pe,he));return ge},I.sumByColumn=function(me){for(var ge=ce.default.zeros(1,me.columns),pe=0;pe<me.rows;++pe)for(var he=0;he<me.columns;++he)ge.set(0,he,ge.get(0,he)+me.get(pe,he));return ge},I.sumAll=function(me){for(var ge=0,pe=0;pe<me.rows;pe++)for(var he=0;he<me.columns;he++)ge+=me.get(pe,he);return ge};var ue=D(5),ce=function(me){return me&&me.__esModule?me:{default:me}}(ue)},function(R,I,D){'use strict';function E(ke){return ke&&ke.__esModule?ke:{default:ke}}Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(ke){function je(st,lt){return st-lt}function Me(st,lt){for(var dt in lt)st=st.replace(new RegExp(`%${dt}%`,'g'),lt[dt]);return st}ke===void 0&&(ke=Object);class Pe extends ke{static get[Symbol.species](){return this}static from1DArray(st,lt,dt){if(st*lt!==dt.length)throw new RangeError('Data length does not match given dimensions');for(var ct=new this(st,lt),mt=0;mt<st;mt++)for(var gt=0;gt<lt;gt++)ct.set(mt,gt,dt[mt*lt+gt]);return ct}static rowVector(st){for(var lt=new this(1,st.length),dt=0;dt<st.length;dt++)lt.set(0,dt,st[dt]);return lt}static columnVector(st){for(var lt=new this(st.length,1),dt=0;dt<st.length;dt++)lt.set(dt,0,st[dt]);return lt}static empty(st,lt){return new this(st,lt)}static zeros(st,lt){return this.empty(st,lt).fill(0)}static ones(st,lt){return this.empty(st,lt).fill(1)}static rand(st,lt,dt){dt===void 0&&(dt=Math.random);for(var ut=this.empty(st,lt),ct=0;ct<st;ct++)for(var mt=0;mt<lt;mt++)ut.set(ct,mt,dt());return ut}static randInt(st,lt,dt,ut){dt===void 0&&(dt=1e3),ut===void 0&&(ut=Math.random);for(var ct=this.empty(st,lt),mt=0;mt<st;mt++)for(var gt=0,pt;gt<lt;gt++)pt=Math.floor(ut()*dt),ct.set(mt,gt,pt);return ct}static eye(st,lt,dt){lt===void 0&&(lt=st),dt===void 0&&(dt=1);for(var ut=Math.min(st,lt),ct=this.zeros(st,lt),mt=0;mt<ut;mt++)ct.set(mt,mt,dt);return ct}static diag(st,lt,dt){var ut=st.length;lt===void 0&&(lt=ut),dt===void 0&&(dt=lt);for(var ct=Math.min(ut,lt,dt),mt=this.zeros(lt,dt),gt=0;gt<ct;gt++)mt.set(gt,gt,st[gt]);return mt}static min(st,lt){st=this.checkMatrix(st),lt=this.checkMatrix(lt);for(var dt=st.rows,ut=st.columns,ct=new this(dt,ut),mt=0;mt<dt;mt++)for(var gt=0;gt<ut;gt++)ct.set(mt,gt,Math.min(st.get(mt,gt),lt.get(mt,gt)));return ct}static max(st,lt){st=this.checkMatrix(st),lt=this.checkMatrix(lt);for(var dt=st.rows,ut=st.columns,ct=new this(dt,ut),mt=0;mt<dt;mt++)for(var gt=0;gt<ut;gt++)ct.set(mt,gt,Math.max(st.get(mt,gt),lt.get(mt,gt)));return ct}static checkMatrix(st){return Pe.isMatrix(st)?st:new this(st)}static isMatrix(st){return null!=st&&'Matrix'===st.klass}get size(){return this.rows*this.columns}apply(st){if('function'!=typeof st)throw new TypeError('callback must be a function');for(var lt=this.rows,dt=this.columns,ut=0;ut<lt;ut++)for(var ct=0;ct<dt;ct++)st.call(this,ut,ct);return this}to1DArray(){for(var st=Array(this.size),lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)st[lt*this.columns+dt]=this.get(lt,dt);return st}to2DArray(){for(var st=Array(this.rows),lt=0;lt<this.rows;lt++){st[lt]=Array(this.columns);for(var dt=0;dt<this.columns;dt++)st[lt][dt]=this.get(lt,dt)}return st}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var st=0;st<this.rows;st++)for(var lt=0;lt<=st;lt++)if(this.get(st,lt)!==this.get(lt,st))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(st,lt){st=st||1,lt=lt||1;for(var dt=new this.constructor[Symbol.species](this.rows*st,this.columns*lt),ut=0;ut<st;ut++)for(var ct=0;ct<lt;ct++)dt.setSubMatrix(this,this.rows*ut,this.columns*ct);return dt}fill(st){for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,st);return this}neg(){return this.mulS(-1)}getRow(st){(0,ne.checkRowIndex)(this,st);for(var lt=Array(this.columns),dt=0;dt<this.columns;dt++)lt[dt]=this.get(st,dt);return lt}getRowVector(st){return this.constructor.rowVector(this.getRow(st))}setRow(st,lt){(0,ne.checkRowIndex)(this,st),lt=(0,ne.checkRowVector)(this,lt);for(var dt=0;dt<this.columns;dt++)this.set(st,dt,lt[dt]);return this}swapRows(st,lt){(0,ne.checkRowIndex)(this,st),(0,ne.checkRowIndex)(this,lt);for(var dt=0,ut;dt<this.columns;dt++)ut=this.get(st,dt),this.set(st,dt,this.get(lt,dt)),this.set(lt,dt,ut);return this}getColumn(st){(0,ne.checkColumnIndex)(this,st);for(var lt=Array(this.rows),dt=0;dt<this.rows;dt++)lt[dt]=this.get(dt,st);return lt}getColumnVector(st){return this.constructor.columnVector(this.getColumn(st))}setColumn(st,lt){(0,ne.checkColumnIndex)(this,st),lt=(0,ne.checkColumnVector)(this,lt);for(var dt=0;dt<this.rows;dt++)this.set(dt,st,lt[dt]);return this}swapColumns(st,lt){(0,ne.checkColumnIndex)(this,st),(0,ne.checkColumnIndex)(this,lt);for(var dt=0,ut;dt<this.rows;dt++)ut=this.get(dt,st),this.set(dt,st,this.get(dt,lt)),this.set(dt,lt,ut);return this}addRowVector(st){st=(0,ne.checkRowVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)+st[dt]);return this}subRowVector(st){st=(0,ne.checkRowVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)-st[dt]);return this}mulRowVector(st){st=(0,ne.checkRowVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)*st[dt]);return this}divRowVector(st){st=(0,ne.checkRowVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)/st[dt]);return this}addColumnVector(st){st=(0,ne.checkColumnVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)+st[lt]);return this}subColumnVector(st){st=(0,ne.checkColumnVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)-st[lt]);return this}mulColumnVector(st){st=(0,ne.checkColumnVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)*st[lt]);return this}divColumnVector(st){st=(0,ne.checkColumnVector)(this,st);for(var lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.set(lt,dt,this.get(lt,dt)/st[lt]);return this}mulRow(st,lt){(0,ne.checkRowIndex)(this,st);for(var dt=0;dt<this.columns;dt++)this.set(st,dt,this.get(st,dt)*lt);return this}mulColumn(st,lt){(0,ne.checkColumnIndex)(this,st);for(var dt=0;dt<this.rows;dt++)this.set(dt,st,this.get(dt,st)*lt);return this}max(){for(var st=this.get(0,0),lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.get(lt,dt)>st&&(st=this.get(lt,dt));return st}maxIndex(){for(var st=this.get(0,0),lt=[0,0],dt=0;dt<this.rows;dt++)for(var ut=0;ut<this.columns;ut++)this.get(dt,ut)>st&&(st=this.get(dt,ut),lt[0]=dt,lt[1]=ut);return lt}min(){for(var st=this.get(0,0),lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)this.get(lt,dt)<st&&(st=this.get(lt,dt));return st}minIndex(){for(var st=this.get(0,0),lt=[0,0],dt=0;dt<this.rows;dt++)for(var ut=0;ut<this.columns;ut++)this.get(dt,ut)<st&&(st=this.get(dt,ut),lt[0]=dt,lt[1]=ut);return lt}maxRow(st){(0,ne.checkRowIndex)(this,st);for(var lt=this.get(st,0),dt=1;dt<this.columns;dt++)this.get(st,dt)>lt&&(lt=this.get(st,dt));return lt}maxRowIndex(st){(0,ne.checkRowIndex)(this,st);for(var lt=this.get(st,0),dt=[st,0],ut=1;ut<this.columns;ut++)this.get(st,ut)>lt&&(lt=this.get(st,ut),dt[1]=ut);return dt}minRow(st){(0,ne.checkRowIndex)(this,st);for(var lt=this.get(st,0),dt=1;dt<this.columns;dt++)this.get(st,dt)<lt&&(lt=this.get(st,dt));return lt}minRowIndex(st){(0,ne.checkRowIndex)(this,st);for(var lt=this.get(st,0),dt=[st,0],ut=1;ut<this.columns;ut++)this.get(st,ut)<lt&&(lt=this.get(st,ut),dt[1]=ut);return dt}maxColumn(st){(0,ne.checkColumnIndex)(this,st);for(var lt=this.get(0,st),dt=1;dt<this.rows;dt++)this.get(dt,st)>lt&&(lt=this.get(dt,st));return lt}maxColumnIndex(st){(0,ne.checkColumnIndex)(this,st);for(var lt=this.get(0,st),dt=[0,st],ut=1;ut<this.rows;ut++)this.get(ut,st)>lt&&(lt=this.get(ut,st),dt[0]=ut);return dt}minColumn(st){(0,ne.checkColumnIndex)(this,st);for(var lt=this.get(0,st),dt=1;dt<this.rows;dt++)this.get(dt,st)<lt&&(lt=this.get(dt,st));return lt}minColumnIndex(st){(0,ne.checkColumnIndex)(this,st);for(var lt=this.get(0,st),dt=[0,st],ut=1;ut<this.rows;ut++)this.get(ut,st)<lt&&(lt=this.get(ut,st),dt[0]=ut);return dt}diag(){for(var st=Math.min(this.rows,this.columns),lt=Array(st),dt=0;dt<st;dt++)lt[dt]=this.get(dt,dt);return lt}sum(st){return'row'===st?(0,ne.sumByRow)(this):'column'===st?(0,ne.sumByColumn)(this):(0,ne.sumAll)(this)}mean(){return this.sum()/this.size}prod(){for(var st=1,lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)st*=this.get(lt,dt);return st}norm(st='frobenius'){var lt=0;if('max'===st)return this.max();if('frobenius'===st){for(var dt=0;dt<this.rows;dt++)for(var ut=0;ut<this.columns;ut++)lt+=this.get(dt,ut)*this.get(dt,ut);return Math.sqrt(lt)}throw new RangeError(`unknown norm type: ${st}`)}cumulativeSum(){for(var st=0,lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)st+=this.get(lt,dt),this.set(lt,dt,st);return this}dot(st){Pe.isMatrix(st)&&(st=st.to1DArray());var lt=this.to1DArray();if(lt.length!==st.length)throw new RangeError('vectors do not have the same size');for(var dt=0,ut=0;ut<lt.length;ut++)dt+=lt[ut]*st[ut];return dt}mmul(st){st=this.constructor.checkMatrix(st),this.columns!==st.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var lt=this.rows,dt=this.columns,ut=st.columns,ct=new this.constructor[Symbol.species](lt,ut),mt=Array(dt),gt=0;gt<ut;gt++){for(var pt=0;pt<dt;pt++)mt[pt]=st.get(pt,gt);for(var ht=0,ft;ht<lt;ht++){for(ft=0,pt=0;pt<dt;pt++)ft+=this.get(ht,pt)*mt[pt];ct.set(ht,gt,ft)}}return ct}strassen2x2(st){var lt=new this.constructor[Symbol.species](2,2),dt=this.get(0,0),ut=st.get(0,0),ct=this.get(0,1),mt=st.get(0,1),gt=this.get(1,0),pt=st.get(1,0),ht=this.get(1,1),ft=st.get(1,1),xt=(dt+ht)*(ut+ft),yt=(gt+ht)*ut,bt=dt*(mt-ft),wt=ht*(pt-ut),vt=(dt+ct)*ft;return lt.set(0,0,xt+wt-vt+(ct-ht)*(pt+ft)),lt.set(0,1,bt+vt),lt.set(1,0,yt+wt),lt.set(1,1,xt-yt+bt+(gt-dt)*(ut+mt)),lt}strassen3x3(st){var lt=new this.constructor[Symbol.species](3,3),dt=this.get(0,0),ut=this.get(0,1),ct=this.get(0,2),mt=this.get(1,0),gt=this.get(1,1),pt=this.get(1,2),ht=this.get(2,0),ft=this.get(2,1),xt=this.get(2,2),yt=st.get(0,0),bt=st.get(0,1),wt=st.get(0,2),vt=st.get(1,0),kt=st.get(1,1),jt=st.get(1,2),Mt=st.get(2,0),Pt=st.get(2,1),St=st.get(2,2),Ct=(dt-mt)*(-bt+kt),zt=(-dt+mt+gt)*(yt-bt+kt),Dt=(mt+gt)*(-yt+bt),Vt=dt*yt,Lt=(-dt+ht+ft)*(yt-wt+jt),Tt=(-dt+ht)*(wt-jt),Ft=(ht+ft)*(-yt+wt),Ot=(-ct+ft+xt)*(kt+Mt-Pt),Nt=(ct-xt)*(kt-Pt),qt=ct*Mt,Bt=(ft+xt)*(-Mt+Pt),Xt=(-ct+gt+pt)*(jt+Mt-St),Yt=(ct-pt)*(jt-St),Ut=(gt+pt)*(-Mt+St);return lt.set(0,0,Vt+qt+ut*vt),lt.set(0,1,(dt+ut+ct-mt-gt-ft-xt)*kt+zt+Dt+Vt+Ot+qt+Bt),lt.set(0,2,Vt+Lt+Ft+(dt+ut+ct-gt-pt-ht-ft)*jt+qt+Xt+Ut),lt.set(1,0,Ct+gt*(-yt+bt+vt-kt-jt-Mt+St)+zt+Vt+qt+Xt+Yt),lt.set(1,1,Ct+zt+Dt+Vt+pt*Pt),lt.set(1,2,qt+Xt+Yt+Ut+mt*wt),lt.set(2,0,Vt+Lt+Tt+ft*(-yt+wt+vt-kt-jt-Mt+Pt)+Ot+Nt+qt),lt.set(2,1,Ot+Nt+qt+Bt+ht*bt),lt.set(2,2,Vt+Lt+Tt+Ft+xt*St),lt}mmulStrassen(st){function lt(xt,yt,bt){var wt=xt.rows,vt=xt.columns;if(wt===yt&&vt===bt)return xt;var kt=Pe.zeros(yt,bt);return kt=kt.setSubMatrix(xt,0,0),kt}function dt(xt,yt,bt,wt){if(512>=bt||512>=wt)return xt.mmul(yt);1==bt%2&&1==wt%2?(xt=lt(xt,bt+1,wt+1),yt=lt(yt,bt+1,wt+1)):1==bt%2?(xt=lt(xt,bt+1,wt),yt=lt(yt,bt+1,wt)):1==wt%2&&(xt=lt(xt,bt,wt+1),yt=lt(yt,bt,wt+1));var vt=parseInt(xt.rows/2,10),kt=parseInt(xt.columns/2,10),jt=xt.subMatrix(0,vt-1,0,kt-1),Mt=yt.subMatrix(0,vt-1,0,kt-1),Pt=xt.subMatrix(0,vt-1,kt,xt.columns-1),St=yt.subMatrix(0,vt-1,kt,yt.columns-1),Rt=xt.subMatrix(vt,xt.rows-1,0,kt-1),Ct=yt.subMatrix(vt,yt.rows-1,0,kt-1),It=xt.subMatrix(vt,xt.rows-1,kt,xt.columns-1),zt=yt.subMatrix(vt,yt.rows-1,kt,yt.columns-1),Dt=dt(Pe.add(jt,It),Pe.add(Mt,zt),vt,kt),Vt=dt(Pe.add(Rt,It),Mt,vt,kt),Lt=dt(jt,Pe.sub(St,zt),vt,kt),Tt=dt(It,Pe.sub(Ct,Mt),vt,kt),Ft=dt(Pe.add(jt,Pt),zt,vt,kt),At=dt(Pe.sub(Rt,jt),Pe.add(Mt,St),vt,kt),Et=dt(Pe.sub(Pt,It),Pe.add(Ct,zt),vt,kt),Ot=Pe.add(Dt,Tt);Ot.sub(Ft),Ot.add(Et);var Nt=Pe.add(Lt,Ft),qt=Pe.add(Vt,Tt),Bt=Pe.sub(Dt,Vt);Bt.add(Lt),Bt.add(At);var Xt=Pe.zeros(2*Ot.rows,2*Ot.columns);return Xt=Xt.setSubMatrix(Ot,0,0),Xt=Xt.setSubMatrix(Nt,Ot.rows,0),Xt=Xt.setSubMatrix(qt,0,Ot.columns),Xt=Xt.setSubMatrix(Bt,Ot.rows,Ot.columns),Xt.subMatrix(0,bt-1,0,wt-1)}var ut=this.clone(),ct=ut.rows,mt=ut.columns,gt=st.rows,pt=st.columns;mt!==gt&&console.warn(`Multiplying ${ct} x ${mt} and ${gt} x ${pt} matrix: dimensions do not match.`);var ht=Math.max(ct,gt),ft=Math.max(mt,pt);return ut=lt(ut,ht,ft),st=lt(st,ht,ft),dt(ut,st,ht,ft)}scaleRows(st,lt){if(st=void 0===st?0:st,lt=void 0===lt?1:lt,st>=lt)throw new RangeError('min should be strictly smaller than max');for(var dt=this.constructor.empty(this.rows,this.columns),ut=0,ct;ut<this.rows;ut++)ct=(0,Z.default)(this.getRow(ut),{min:st,max:lt}),dt.setRow(ut,ct);return dt}scaleColumns(st,lt){if(st=void 0===st?0:st,lt=void 0===lt?1:lt,st>=lt)throw new RangeError('min should be strictly smaller than max');for(var dt=this.constructor.empty(this.rows,this.columns),ut=0,ct;ut<this.columns;ut++)ct=(0,Z.default)(this.getColumn(ut),{min:st,max:lt}),dt.setColumn(ut,ct);return dt}kroneckerProduct(st){st=this.constructor.checkMatrix(st);for(var lt=this.rows,dt=this.columns,ut=st.rows,ct=st.columns,mt=new this.constructor[Symbol.species](lt*ut,dt*ct),gt=0;gt<lt;gt++)for(var pt=0;pt<dt;pt++)for(var ht=0;ht<ut;ht++)for(var ft=0;ft<ct;ft++)mt[ut*gt+ht][ct*pt+ft]=this.get(gt,pt)*st.get(ht,ft);return mt}transpose(){for(var st=new this.constructor[Symbol.species](this.columns,this.rows),lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)st.set(dt,lt,this.get(lt,dt));return st}sortRows(st){st===void 0&&(st=je);for(var lt=0;lt<this.rows;lt++)this.setRow(lt,this.getRow(lt).sort(st));return this}sortColumns(st){st===void 0&&(st=je);for(var lt=0;lt<this.columns;lt++)this.setColumn(lt,this.getColumn(lt).sort(st));return this}subMatrix(st,lt,dt,ut){(0,ne.checkRange)(this,st,lt,dt,ut);for(var ct=new this.constructor[Symbol.species](lt-st+1,ut-dt+1),mt=st;mt<=lt;mt++)for(var gt=dt;gt<=ut;gt++)ct[mt-st][gt-dt]=this.get(mt,gt);return ct}subMatrixRow(st,lt,dt){if(void 0===lt&&(lt=0),void 0===dt&&(dt=this.columns-1),lt>dt||0>lt||lt>=this.columns||0>dt||dt>=this.columns)throw new RangeError('Argument out of range');for(var ut=new this.constructor[Symbol.species](st.length,dt-lt+1),ct=0;ct<st.length;ct++)for(var mt=lt;mt<=dt;mt++){if(0>st[ct]||st[ct]>=this.rows)throw new RangeError(`Row index out of range: ${st[ct]}`);ut.set(ct,mt-lt,this.get(st[ct],mt))}return ut}subMatrixColumn(st,lt,dt){if(void 0===lt&&(lt=0),void 0===dt&&(dt=this.rows-1),lt>dt||0>lt||lt>=this.rows||0>dt||dt>=this.rows)throw new RangeError('Argument out of range');for(var ut=new this.constructor[Symbol.species](dt-lt+1,st.length),ct=0;ct<st.length;ct++)for(var mt=lt;mt<=dt;mt++){if(0>st[ct]||st[ct]>=this.columns)throw new RangeError(`Column index out of range: ${st[ct]}`);ut.set(mt-lt,ct,this.get(mt,st[ct]))}return ut}setSubMatrix(st,lt,dt){st=this.constructor.checkMatrix(st);var ut=lt+st.rows-1,ct=dt+st.columns-1;(0,ne.checkRange)(this,lt,ut,dt,ct);for(var mt=0;mt<st.rows;mt++)for(var gt=0;gt<st.columns;gt++)this[lt+mt][dt+gt]=st.get(mt,gt);return this}selection(st,lt){for(var dt=(0,ne.checkIndices)(this,st,lt),ut=new this.constructor[Symbol.species](st.length,lt.length),ct=0,mt;ct<dt.row.length;ct++){mt=dt.row[ct];for(var gt=0,pt;gt<dt.column.length;gt++)pt=dt.column[gt],ut[ct][gt]=this.get(mt,pt)}return ut}trace(){for(var st=Math.min(this.rows,this.columns),lt=0,dt=0;dt<st;dt++)lt+=this.get(dt,dt);return lt}transposeView(){return new ae.default(this)}rowView(st){return(0,ne.checkRowIndex)(this,st),new le.default(this,st)}columnView(st){return(0,ne.checkColumnIndex)(this,st),new ye.default(this,st)}flipRowView(){return new we.default(this)}flipColumnView(){return new ve.default(this)}subMatrixView(st,lt,dt,ut){return new ue.default(this,st,lt,dt,ut)}selectionView(st,lt){return new me.default(this,st,lt)}rowSelectionView(st){return new pe.default(this,st)}columnSelectionView(st){return new fe.default(this,st)}det(){if(this.isSquare()){var st,lt,dt,ut;if(2===this.columns)return st=this.get(0,0),lt=this.get(0,1),dt=this.get(1,0),ut=this.get(1,1),st*ut-lt*dt;if(3===this.columns){var ct,mt,gt;return ct=this.selectionView([1,2],[1,2]),mt=this.selectionView([1,2],[0,2]),gt=this.selectionView([1,2],[0,1]),st=this.get(0,0),lt=this.get(0,1),dt=this.get(0,2),st*ct.det()-lt*mt.det()+dt*gt.det()}return new ee.default(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(st){void 0===st&&(st=Number.EPSILON);for(var lt=new ie.default(this,{autoTranspose:!0}),dt=lt.leftSingularVectors,ut=lt.rightSingularVectors,ct=lt.diagonal,mt=0;mt<ct.length;mt++)ct[mt]=Math.abs(ct[mt])>st?1/ct[mt]:0;return ct=this.constructor[Symbol.species].diag(ct),ut.mmul(ct.mmul(dt.transposeView()))}clone(){for(var st=new this.constructor[Symbol.species](this.rows,this.columns),lt=0;lt<this.rows;lt++)for(var dt=0;dt<this.columns;dt++)st.set(lt,dt,this.get(lt,dt));return st}}Pe.prototype.klass='Matrix',Pe.random=Pe.rand,Pe.diagonal=Pe.diag,Pe.prototype.diagonal=Pe.prototype.diag,Pe.identity=Pe.eye,Pe.prototype.negate=Pe.prototype.neg,Pe.prototype.tensorProduct=Pe.prototype.kroneckerProduct,Pe.prototype.determinant=Pe.prototype.det;var Se=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,Re=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,Ce=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,Ie=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,ze=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,De=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,Ve=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,Le=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,Te=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,Fe=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,Ae=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,Oe=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],Ne,qe=eval;for(var Be of Oe){var Xe=qe(Me(Se,{name:Be[1],op:Be[0]})),Ye=qe(Me(Re,{name:`${Be[1]}S`,op:Be[0]})),Ue=qe(Me(Ce,{name:`${Be[1]}M`,op:Be[0]})),We=qe(Me(Ie,{name:Be[1]}));for(Ne=1;Ne<Be.length;Ne++)Pe.prototype[Be[Ne]]=Xe,Pe.prototype[`${Be[Ne]}S`]=Ye,Pe.prototype[`${Be[Ne]}M`]=Ue,Pe[Be[Ne]]=We}var Ge=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(st){Ge.push([`Math.${st}`,st])});for(var Ke of Ge){var Qe=qe(Me(ze,{name:Ke[1],method:Ke[0]})),Ze=qe(Me(De,{name:Ke[1]}));for(Ne=1;Ne<Ke.length;Ne++)Pe.prototype[Ke[Ne]]=Qe,Pe[Ke[Ne]]=Ze}var He=[['Math.pow',1,'pow']];for(var Je of He){var $e='arg0';for(Ne=1;Ne<Je[1];Ne++)$e+=`, arg${Ne}`;if(1!==Je[1]){var et=qe(Me(Ve,{name:Je[2],method:Je[0],args:$e})),tt=qe(Me(Le,{name:Je[2],args:$e}));for(Ne=2;Ne<Je.length;Ne++)Pe.prototype[Je[Ne]]=et,Pe[Je[Ne]]=tt}else{var it={name:Je[2],args:$e,method:Je[0]},nt=qe(Me(Ae,it)),ot=qe(Me(Te,it)),rt=qe(Me(Fe,it)),at=qe(Me(Le,it));for(Ne=2;Ne<Je.length;Ne++)Pe.prototype[Je[Ne]]=nt,Pe.prototype[`${Je[Ne]}M`]=rt,Pe.prototype[`${Je[Ne]}S`]=ot,Pe[Je[Ne]]=at}}return Pe};var G=D(55),Z=E(G),$=D(10),ee=E($),te=D(8),ie=E(te),ne=D(6),oe=D(57),ae=E(oe),se=D(58),le=E(se),de=D(59),ue=E(de),ce=D(60),me=E(ce),ge=D(61),pe=E(ge),he=D(62),fe=E(he),xe=D(63),ye=E(xe),be=D(64),we=E(be),_e=D(65),ve=E(_e)},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(0),O=D(11);class G{constructor(Z,$={}){Z=E.WrapperMatrix2D.checkMatrix(Z);var ee=Z.rows,te=Z.columns,ie=$.computeLeftSingularVectors,oe=$.computeRightSingularVectors,se=$.autoTranspose,de=!!(void 0===ie||ie),ue=!!(void 0===oe||oe),ce=!1,me;if(!(ee<te))me=Z.clone();else if(!(void 0!==se&&se))me=Z.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{me=Z.transpose(),ee=me.rows,te=me.columns,ce=!0;var ge=de;de=ue,ue=ge}for(var pe=Math.min(ee,te),he=Math.min(ee+1,te),fe=Array(he),xe=(0,O.getFilled2DArray)(ee,pe,0),ye=(0,O.getFilled2DArray)(te,te,0),be=Array(te),we=Array(ee),_e=Array(he),ve=0;ve<he;ve++)_e[ve]=ve;for(var ke=Math.min(ee-1,te),je=Math.max(0,Math.min(te-2,ee)),Me=Math.max(ke,je),Pe=0;Pe<Me;Pe++){if(Pe<ke){fe[Pe]=0;for(var Se=Pe;Se<ee;Se++)fe[Pe]=(0,O.hypotenuse)(fe[Pe],me[Se][Pe]);if(0!==fe[Pe]){0>me[Pe][Pe]&&(fe[Pe]=-fe[Pe]);for(var Re=Pe;Re<ee;Re++)me[Re][Pe]/=fe[Pe];me[Pe][Pe]+=1}fe[Pe]=-fe[Pe]}for(var Ce=Pe+1;Ce<te;Ce++){if(Pe<ke&&0!==fe[Pe]){for(var Ie=0,ze=Pe;ze<ee;ze++)Ie+=me[ze][Pe]*me[ze][Ce];Ie=-Ie/me[Pe][Pe];for(var De=Pe;De<ee;De++)me[De][Ce]+=Ie*me[De][Pe]}be[Ce]=me[Pe][Ce]}if(de&&Pe<ke)for(var Ve=Pe;Ve<ee;Ve++)xe[Ve][Pe]=me[Ve][Pe];if(Pe<je){be[Pe]=0;for(var Le=Pe+1;Le<te;Le++)be[Pe]=(0,O.hypotenuse)(be[Pe],be[Le]);if(0!==be[Pe]){0>be[Pe+1]&&(be[Pe]=0-be[Pe]);for(var Te=Pe+1;Te<te;Te++)be[Te]/=be[Pe];be[Pe+1]+=1}if(be[Pe]=-be[Pe],Pe+1<ee&&0!==be[Pe]){for(var Fe=Pe+1;Fe<ee;Fe++)we[Fe]=0;for(var Ae=Pe+1;Ae<ee;Ae++)for(var Ee=Pe+1;Ee<te;Ee++)we[Ae]+=be[Ee]*me[Ae][Ee];for(var Oe=Pe+1,Ne;Oe<te;Oe++){Ne=-be[Oe]/be[Pe+1];for(var qe=Pe+1;qe<ee;qe++)me[qe][Oe]+=Ne*we[qe]}}if(ue)for(var Be=Pe+1;Be<te;Be++)ye[Be][Pe]=be[Be]}}var Xe=Math.min(te,ee+1);if(ke<te&&(fe[ke]=me[ke][ke]),ee<Xe&&(fe[Xe-1]=0),je+1<Xe&&(be[je]=me[je][Xe-1]),be[Xe-1]=0,de){for(var Ye=ke;Ye<pe;Ye++){for(var Ue=0;Ue<ee;Ue++)xe[Ue][Ye]=0;xe[Ye][Ye]=1}for(var We=ke-1;0<=We;We--)if(0!==fe[We]){for(var Ge=We+1,Ke;Ge<pe;Ge++){Ke=0;for(var Qe=We;Qe<ee;Qe++)Ke+=xe[Qe][We]*xe[Qe][Ge];Ke=-Ke/xe[We][We];for(var Ze=We;Ze<ee;Ze++)xe[Ze][Ge]+=Ke*xe[Ze][We]}for(var He=We;He<ee;He++)xe[He][We]=-xe[He][We];xe[We][We]=1+xe[We][We];for(var Je=0;Je<We-1;Je++)xe[Je][We]=0}else{for(var $e=0;$e<ee;$e++)xe[$e][We]=0;xe[We][We]=1}}if(ue)for(var et=te-1;0<=et;et--){if(et<je&&0!==be[et])for(var tt=et+1,it;tt<te;tt++){it=0;for(var nt=et+1;nt<te;nt++)it+=ye[nt][et]*ye[nt][tt];it=-it/ye[et+1][et];for(var ot=et+1;ot<te;ot++)ye[ot][tt]+=it*ye[ot][et]}for(var rt=0;rt<te;rt++)ye[rt][et]=0;ye[et][et]=1}for(var at=Xe-1,st=0,lt=Number.EPSILON;0<Xe;){var dt=void 0,ut=void 0;for(dt=Xe-2;-1<=dt&&-1!==dt;dt--){var ct=Number.MIN_VALUE+lt*Math.abs(fe[dt]+Math.abs(fe[dt+1]));if(Math.abs(be[dt])<=ct||Number.isNaN(be[dt])){be[dt]=0;break}}if(dt===Xe-2)ut=4;else{var mt=void 0;for(mt=Xe-1;mt>=dt&&mt!==dt;mt--){var gt=(mt===Xe?0:Math.abs(be[mt]))+(mt===dt+1?0:Math.abs(be[mt-1]));if(Math.abs(fe[mt])<=lt*gt){fe[mt]=0;break}}mt===dt?ut=3:mt===Xe-1?ut=1:(ut=2,dt=mt)}switch(dt++,ut){case 1:{var pt=be[Xe-2];be[Xe-2]=0;for(var ht=Xe-2;ht>=dt;ht--){var ft=(0,O.hypotenuse)(fe[ht],pt),xt=fe[ht]/ft,yt=pt/ft;if(fe[ht]=ft,ht!==dt&&(pt=-yt*be[ht-1],be[ht-1]=xt*be[ht-1]),ue)for(var bt=0;bt<te;bt++)ft=xt*ye[bt][ht]+yt*ye[bt][Xe-1],ye[bt][Xe-1]=-yt*ye[bt][ht]+xt*ye[bt][Xe-1],ye[bt][ht]=ft}break}case 2:{var wt=be[dt-1];be[dt-1]=0;for(var vt=dt;vt<Xe;vt++){var kt=(0,O.hypotenuse)(fe[vt],wt),jt=fe[vt]/kt,Mt=wt/kt;if(fe[vt]=kt,wt=-Mt*be[vt],be[vt]=jt*be[vt],de)for(var Pt=0;Pt<ee;Pt++)kt=jt*xe[Pt][vt]+Mt*xe[Pt][dt-1],xe[Pt][dt-1]=-Mt*xe[Pt][vt]+jt*xe[Pt][dt-1],xe[Pt][vt]=kt}break}case 3:{var St=Math.max(Math.abs(fe[Xe-1]),Math.abs(fe[Xe-2]),Math.abs(be[Xe-2]),Math.abs(fe[dt]),Math.abs(be[dt])),Rt=fe[Xe-1]/St,Ct=fe[Xe-2]/St,It=be[Xe-2]/St,zt=fe[dt]/St,Dt=be[dt]/St,Vt=((Ct+Rt)*(Ct-Rt)+It*It)/2,Lt=Rt*It*(Rt*It),Tt=0;(0!=Vt||0!=Lt)&&(Tt=0>Vt?0-Math.sqrt(Vt*Vt+Lt):Math.sqrt(Vt*Vt+Lt),Tt=Lt/(Vt+Tt));for(var Ft=(zt+Rt)*(zt-Rt)+Tt,At=zt*Dt,Et=dt,Ot;Et<Xe-1;Et++){Ot=(0,O.hypotenuse)(Ft,At),0===Ot&&(Ot=Number.MIN_VALUE);var Nt=Ft/Ot,qt=At/Ot;if(Et!==dt&&(be[Et-1]=Ot),Ft=Nt*fe[Et]+qt*be[Et],be[Et]=Nt*be[Et]-qt*fe[Et],At=qt*fe[Et+1],fe[Et+1]=Nt*fe[Et+1],ue)for(var Bt=0;Bt<te;Bt++)Ot=Nt*ye[Bt][Et]+qt*ye[Bt][Et+1],ye[Bt][Et+1]=-qt*ye[Bt][Et]+Nt*ye[Bt][Et+1],ye[Bt][Et]=Ot;if(Ot=(0,O.hypotenuse)(Ft,At),0==Ot&&(Ot=Number.MIN_VALUE),Nt=Ft/Ot,qt=At/Ot,fe[Et]=Ot,Ft=Nt*be[Et]+qt*fe[Et+1],fe[Et+1]=-qt*be[Et]+Nt*fe[Et+1],At=qt*be[Et+1],be[Et+1]=Nt*be[Et+1],de&&Et<ee-1)for(var Xt=0;Xt<ee;Xt++)Ot=Nt*xe[Xt][Et]+qt*xe[Xt][Et+1],xe[Xt][Et+1]=-qt*xe[Xt][Et]+Nt*xe[Xt][Et+1],xe[Xt][Et]=Ot}be[Xe-2]=Ft,++st;break}case 4:{if(0>=fe[dt]&&(fe[dt]=0>fe[dt]?-fe[dt]:0,ue))for(var Yt=0;Yt<=at;Yt++)ye[Yt][dt]=-ye[Yt][dt];for(;dt<at&&!(fe[dt]>=fe[dt+1]);){var Ut=fe[dt];if(fe[dt]=fe[dt+1],fe[dt+1]=Ut,ue&&dt<te-1)for(var Wt=0;Wt<te;Wt++)Ut=ye[Wt][dt+1],ye[Wt][dt+1]=ye[Wt][dt],ye[Wt][dt]=Ut;if(de&&dt<ee-1)for(var Gt=0;Gt<ee;Gt++)Ut=xe[Gt][dt+1],xe[Gt][dt+1]=xe[Gt][dt],xe[Gt][dt]=Ut;dt++}st=0,Xe--;break}}}if(ce){var Kt=ye;ye=xe,xe=Kt}this.m=ee,this.n=te,this.s=fe,this.U=xe,this.V=ye}solve(Z){for(var $=Z,ee=this.threshold,te=this.s.length,ie=E.Matrix.zeros(te,te),ne=0;ne<te;ne++)ie[ne][ne]=Math.abs(this.s[ne])<=ee?0:1/this.s[ne];for(var oe=this.U,ae=this.rightSingularVectors,se=ae.mmul(ie),le=ae.rows,de=oe.length,ue=E.Matrix.zeros(le,de),ce=0;ce<le;ce++)for(var me=0,ge;me<de;me++){ge=0;for(var pe=0;pe<te;pe++)ge+=se[ce][pe]*oe[me][pe];ue[ce][me]=ge}return ue.mmul($)}solveForDiagonal(Z){return this.solve(E.Matrix.diag(Z))}inverse(){for(var Z=this.V,$=this.threshold,ee=Z.length,te=Z[0].length,ie=new E.Matrix(ee,this.s.length),ne=0;ne<ee;ne++)for(var oe=0;oe<te;oe++)ie[ne][oe]=Math.abs(this.s[oe])>$?Z[ne][oe]/this.s[oe]:0;for(var ae=this.U,se=ae.length,le=ae[0].length,de=new E.Matrix(ee,se),ue=0;ue<ee;ue++)for(var ce=0,me;ce<se;ce++){me=0;for(var ge=0;ge<le;ge++)me+=ie[ue][ge]*ae[ce][ge];de[ue][ce]=me}return de}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var Z=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,$=0,ee=this.s,te=0,ie=ee.length;te<ie;te++)ee[te]>Z&&$++;return $}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return E.Matrix.isMatrix(this.U)||(this.U=new E.Matrix(this.U)),this.U}get rightSingularVectors(){return E.Matrix.isMatrix(this.V)||(this.V=new E.Matrix(this.V)),this.V}get diagonalMatrix(){return E.Matrix.diag(this.s)}}I.default=G},function(R,I,D){'use strict';function E(G,Z){return G-Z}var O=D(24);I.max=function(Z){for(var G=-Infinity,$=0;$<Z.length;$++)for(var ee=0;ee<Z[$].length;ee++)Z[$][ee]>G&&(G=Z[$][ee]);return G},I.min=function(Z){for(var G=Infinity,$=0;$<Z.length;$++)for(var ee=0;ee<Z[$].length;ee++)Z[$][ee]<G&&(G=Z[$][ee]);return G},I.minMax=function(Z){for(var $=Infinity,ee=-Infinity,te=0;te<Z.length;te++)for(var ie=0;ie<Z[te].length;ie++)Z[te][ie]<$&&($=Z[te][ie]),Z[te][ie]>ee&&(ee=Z[te][ie]);return{min:$,max:ee}},I.entropy=function(Z,$){'undefined'==typeof $&&($=0);for(var ee=0,te=Z.length,ie=Z[0].length,ne=0;ne<te;ne++)for(var oe=0;oe<ie;oe++)ee+=Z[ne][oe]*Math.log(Z[ne][oe]+$);return-ee},I.mean=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe,ae;if(-1===$){for(ie=[0],ne=ee*te,oe=0;oe<ee;oe++)for(ae=0;ae<te;ae++)ie[0]+=Z[oe][ae];ie[0]/=ne}else if(0===$)for(ie=Array(te),ne=ee,ae=0;ae<te;ae++){for(ie[ae]=0,oe=0;oe<ee;oe++)ie[ae]+=Z[oe][ae];ie[ae]/=ne}else if(1===$)for(ie=Array(ee),ne=te,ae=0;ae<ee;ae++){for(ie[ae]=0,oe=0;oe<te;oe++)ie[ae]+=Z[ae][oe];ie[ae]/=ne}else throw new Error('Invalid dimension');return ie},I.sum=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe;if(-1===$)for(ie=[0],ne=0;ne<ee;ne++)for(oe=0;oe<te;oe++)ie[0]+=Z[ne][oe];else if(0===$)for(ie=Array(te),oe=0;oe<te;oe++)for(ie[oe]=0,ne=0;ne<ee;ne++)ie[oe]+=Z[ne][oe];else if(1===$)for(ie=Array(ee),oe=0;oe<ee;oe++)for(ie[oe]=0,ne=0;ne<te;ne++)ie[oe]+=Z[oe][ne];else throw new Error('Invalid dimension');return ie},I.product=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe;if(-1===$)for(ie=[1],ne=0;ne<ee;ne++)for(oe=0;oe<te;oe++)ie[0]*=Z[ne][oe];else if(0===$)for(ie=Array(te),oe=0;oe<te;oe++)for(ie[oe]=1,ne=0;ne<ee;ne++)ie[oe]*=Z[ne][oe];else if(1===$)for(ie=Array(ee),oe=0;oe<ee;oe++)for(ie[oe]=1,ne=0;ne<te;ne++)ie[oe]*=Z[oe][ne];else throw new Error('Invalid dimension');return ie},I.standardDeviation=function(Z,$,ee){for(var te=I.variance(Z,$,ee),ie=te.length,ne=0;ne<ie;ne++)te[ne]=Math.sqrt(te[ne]);return te},I.variance=function(Z,$,ee){'undefined'==typeof ee&&(ee=!0),$=$||I.mean(Z);var te=Z.length;if(0===te)return[];for(var ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var ae=0,se=0,le=0,de=0;de<te;de++)le=Z[de][oe]-$[oe],ae+=le,se+=le*le;ne[oe]=ee?(se-ae*ae/te)/(te-1):(se-ae*ae/te)/te}return ne},I.median=function(Z){for(var $=Z.length,ee=Z[0].length,te=Array(ee),ie=0,ne;ie<ee;ie++){ne=Array($);for(var oe=0;oe<$;oe++)ne[oe]=Z[oe][ie];ne.sort(E);var ae=ne.length;te[ie]=0==ae%2?0.5*(ne[ae/2]+ne[ae/2-1]):ne[Math.floor(ae/2)]}return te},I.mode=function(Z){var $=Z.length,ee=Z[0].length,te=Array(ee),ie,ne;for(ie=0;ie<ee;ie++){for(var oe=Array($),ae=0;ae<$;ae++)oe[ae]=0;var se=Array($),le=0;for(ne=0;ne<$;ne++){var de=se.indexOf(Z[ne][ie]);0<=de?oe[de]++:(se[le]=Z[ne][ie],oe[le]=1,le++)}var ue=0,ce=0;for(ne=0;ne<le;ne++)oe[ne]>ue&&(ue=oe[ne],ce=ne);te[ie]=se[ce]}return te},I.skewness=function(Z,$){'undefined'==typeof $&&($=!0);for(var ee=I.mean(Z),te=Z.length,ie=ee.length,ne=Array(ie),oe=0;oe<ie;oe++){for(var ae=0,se=0,le=0,de;le<te;le++)de=Z[le][oe]-ee[oe],ae+=de*de,se+=de*de*de;var ue=ae/te,ce=se/te,me=ce/Math.pow(ue,3/2);if($){var ge=Math.sqrt(te*(te-1));ne[oe]=ge/(te-2)*me}else ne[oe]=me}return ne},I.kurtosis=function(Z,$){'undefined'==typeof $&&($=!0);for(var ee=I.mean(Z),te=Z.length,ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var ae=0,se=0,le=0,de;le<te;le++)de=Z[le][oe]-ee[oe],ae+=de*de,se+=de*de*de*de;var ue=ae/te,ce=se/te;if($){var me=ae/(te-1),pe=se/(me*me);ne[oe]=te*(te+1)/((te-1)*(te-2)*(te-3))*pe-3*((te-1)*(te-1)/((te-2)*(te-3)))}else ne[oe]=ce/(ue*ue)-3}return ne},I.standardError=function(Z){for(var $=Z.length,ee=I.standardDeviation(Z),te=ee.length,ie=Array(te),ne=Math.sqrt($),oe=0;oe<te;oe++)ie[oe]=ee[oe]/ne;return ie},I.covariance=function(Z,$){return I.scatter(Z,void 0,$)},I.scatter=function(Z,$,ee){'undefined'==typeof ee&&(ee=0),'undefined'==typeof $&&(0===ee?$=Z.length-1:1==ee&&($=Z[0].length-1));var te=I.mean(Z,ee),ie=Z.length;if(0===ie)return[[]];var ne=Z[0].length,oe,ae,se,le,de;if(0===ee){for(oe=Array(ne),ae=0;ae<ne;ae++)oe[ae]=Array(ne);for(ae=0;ae<ne;ae++)for(se=ae;se<ne;se++){for(le=0,de=0;de<ie;de++)le+=(Z[de][se]-te[se])*(Z[de][ae]-te[ae]);le/=$,oe[ae][se]=le,oe[se][ae]=le}}else if(1===ee){for(oe=Array(ie),ae=0;ae<ie;ae++)oe[ae]=Array(ie);for(ae=0;ae<ie;ae++)for(se=ae;se<ie;se++){for(le=0,de=0;de<ne;de++)le+=(Z[se][de]-te[se])*(Z[ae][de]-te[ae]);le/=$,oe[ae][se]=le,oe[se][ae]=le}}else throw new Error('Invalid dimension');return oe},I.correlation=function(Z){var $=I.mean(Z),ee=I.standardDeviation(Z,!0,$),te=I.zScores(Z,$,ee),ie=Z.length,ne=Z[0].length,oe,ae,se=Array(ne);for(oe=0;oe<ne;oe++)se[oe]=Array(ne);for(oe=0;oe<ne;oe++)for(ae=oe;ae<ne;ae++){for(var le=0,de=0,ue=te.length;de<ue;de++)le+=te[de][ae]*te[de][oe];le/=ie-1,se[oe][ae]=le,se[ae][oe]=le}return se},I.zScores=function(Z,$,ee){return $=$||I.mean(Z),'undefined'==typeof ee&&(ee=I.standardDeviation(Z,!0,$)),I.standardize(I.center(Z,$,!1),ee,!0)},I.center=function(Z,$,ee){$=$||I.mean(Z);var te=Z,ie=Z.length,ne,oe,ae;if(!ee)for(te=Array(ie),ne=0;ne<ie;ne++)te[ne]=Array(Z[ne].length);for(ne=0;ne<ie;ne++){var se=te[ne];for(oe=0,ae=se.length;oe<ae;oe++)se[oe]=Z[ne][oe]-$[oe]}return te},I.standardize=function(Z,$,ee){'undefined'==typeof $&&($=I.standardDeviation(Z));var te=Z,ie=Z.length,ne,oe,ae;if(!ee)for(te=Array(ie),ne=0;ne<ie;ne++)te[ne]=Array(Z[ne].length);for(ne=0;ne<ie;ne++){var se=te[ne],le=Z[ne];for(oe=0,ae=se.length;oe<ae;oe++)0===$[oe]||isNaN($[oe])||(se[oe]=le[oe]/$[oe])}return te},I.weightedVariance=function(Z,$){var ee=I.mean(Z),te=Z.length;if(0===te)return[];for(var ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var ae=0,se=0,le=0,de=0;de<te;de++){var ue=Z[de][oe]-ee[oe],ce=$[de];ae+=ce*(ue*ue),le+=ce,se+=ce*ce}ne[oe]=ae*(le/(le*le-se))}return ne},I.weightedMean=function(Z,$,ee){'undefined'==typeof ee&&(ee=0);var te=Z.length;if(0===te)return[];var ie=Z[0].length,ne,oe,ae,se,le,de;if(0===ee){for(ne=Array(ie),oe=0;oe<ie;oe++)ne[oe]=0;for(oe=0;oe<te;oe++)for(de=Z[oe],le=$[oe],se=0;se<ie;se++)ne[se]+=de[se]*le}else if(1===ee){for(ne=Array(te),oe=0;oe<te;oe++)ne[oe]=0;for(se=0;se<te;se++)for(de=Z[se],le=$[se],oe=0;oe<ie;oe++)ne[se]+=de[oe]*le}else throw new Error('Invalid dimension');var ue=O.sum($);if(0!==ue)for(oe=0,ae=ne.length;oe<ae;oe++)ne[oe]/=ue;return ne},I.weightedCovariance=function(Z,$,ee,te){te=te||0,ee=ee||I.weightedMean(Z,$,te);for(var ie=0,ne=0,oe=0,ae=$.length;oe<ae;oe++)ie+=$[oe],ne+=$[oe]*$[oe];var se=ie/(ie*ie-ne);return I.weightedScatter(Z,$,ee,se,te)},I.weightedScatter=function(Z,$,ee,te,ie){ie=ie||0,ee=ee||I.weightedMean(Z,$,ie),'undefined'==typeof te&&(te=1);var ne=Z.length;if(0===ne)return[[]];var oe=Z[0].length,ae,se,le,de,ue;if(0===ie){for(ae=Array(oe),se=0;se<oe;se++)ae[se]=Array(oe);for(se=0;se<oe;se++)for(le=se;le<oe;le++){for(ue=0,de=0;de<ne;de++)ue+=$[de]*(Z[de][le]-ee[le])*(Z[de][se]-ee[se]);ae[se][le]=ue*te,ae[le][se]=ue*te}}else if(1===ie){for(ae=Array(ne),se=0;se<ne;se++)ae[se]=Array(ne);for(se=0;se<ne;se++)for(le=se;le<ne;le++){for(ue=0,de=0;de<oe;de++)ue+=$[de]*(Z[le][de]-ee[le])*(Z[se][de]-ee[se]);ae[se][le]=ue*te,ae[le][se]=ue*te}}else throw new Error('Invalid dimension');return ae}},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(0);class O{constructor(G){G=E.WrapperMatrix2D.checkMatrix(G);var Z=G.clone(),$=Z.rows,ee=Z.columns,te=Array($),ie=1,ne,oe,ae,se,le,de,ue,ce,me;for(ne=0;ne<$;ne++)te[ne]=ne;for(ce=Array($),oe=0;oe<ee;oe++){for(ne=0;ne<$;ne++)ce[ne]=Z.get(ne,oe);for(ne=0;ne<$;ne++){for(me=Math.min(ne,oe),le=0,ae=0;ae<me;ae++)le+=Z.get(ne,ae)*ce[ae];ce[ne]-=le,Z.set(ne,oe,ce[ne])}for(se=oe,ne=oe+1;ne<$;ne++)Math.abs(ce[ne])>Math.abs(ce[se])&&(se=ne);if(se!==oe){for(ae=0;ae<ee;ae++)de=Z.get(se,ae),Z.set(se,ae,Z.get(oe,ae)),Z.set(oe,ae,de);ue=te[se],te[se]=te[oe],te[oe]=ue,ie=-ie}if(oe<$&&0!==Z.get(oe,oe))for(ne=oe+1;ne<$;ne++)Z.set(ne,oe,Z.get(ne,oe)/Z.get(oe,oe))}this.LU=Z,this.pivotVector=te,this.pivotSign=ie}isSingular(){for(var G=this.LU,Z=G.columns,$=0;$<Z;$++)if(0===G[$][$])return!0;return!1}solve(G){G=E.Matrix.checkMatrix(G);var Z=this.LU,$=Z.rows;if($!==G.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var ee=G.columns,te=G.subMatrixRow(this.pivotVector,0,ee-1),ie=Z.columns,ne,oe,ae;for(ae=0;ae<ie;ae++)for(ne=ae+1;ne<ie;ne++)for(oe=0;oe<ee;oe++)te[ne][oe]-=te[ae][oe]*Z[ne][ae];for(ae=ie-1;0<=ae;ae--){for(oe=0;oe<ee;oe++)te[ae][oe]/=Z[ae][ae];for(ne=0;ne<ae;ne++)for(oe=0;oe<ee;oe++)te[ne][oe]-=te[ae][oe]*Z[ne][ae]}return te}get determinant(){var G=this.LU;if(!G.isSquare())throw new Error('Matrix must be square');for(var Z=this.pivotSign,$=G.columns,ee=0;ee<$;ee++)Z*=G[ee][ee];return Z}get lowerTriangularMatrix(){for(var G=this.LU,Z=G.rows,$=G.columns,ee=new E.Matrix(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=te>ie?G[te][ie]:te===ie?1:0;return ee}get upperTriangularMatrix(){for(var G=this.LU,Z=G.rows,$=G.columns,ee=new E.Matrix(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=te<=ie?G[te][ie]:0;return ee}get pivotPermutationVector(){return this.pivotVector.slice()}}I.default=O},function(R,I){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.hypotenuse=function(G,Z){var $=0;return Math.abs(G)>Math.abs(Z)?($=Z/G,Math.abs(G)*Math.sqrt(1+$*$)):0===Z?0:($=G/Z,Math.abs(Z)*Math.sqrt(1+$*$))},I.getFilled2DArray=function(G,Z,$){for(var ee=Array(G),te=0;te<G;te++){ee[te]=Array(Z);for(var ie=0;ie<Z;ie++)ee[te][ie]=$}return ee}},function(R,I){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(O){if(!Array.isArray(O))throw new Error('input must be an array');if(0===O.length)throw new Error('input must not be empty');for(var G=0,Z=0;Z<O.length;Z++)G+=O[Z];return G/O.length}},function(R,I,D){'use strict';function E(){this.children=[],this.distance=-1,this.index=[]}var O=D(83);E.prototype.cut=function(G){if(0>G)throw new RangeError('Threshold too small');var Z=new E;Z.children=this.children,Z.distance=this.distance,Z.index=this.index;for(var $=[Z],ee=[],te;0<$.length;)te=$.shift(),G>=te.distance?ee.push(te):$=$.concat(te.children);return ee},E.prototype.group=function(G){if(!Number.isInteger(G)||1>G)throw new RangeError('Number of groups must be a positive integer');var Z=new O(function(te,ie){return ie.distance-te.distance});for(Z.push(this);Z.size()<G;){var $=Z.pop();if(0===$.children.length)break;$.children.forEach(te=>Z.push(te))}var ee=new E;return ee.children=Z.toArray(),ee.distance=this.distance,ee},E.prototype.traverse=function(G){function Z($,ee){if(ee($),$.children)for(var te=$.children.length-1;0<=te;te--)Z($.children[te],ee)}Z(this,G)},R.exports=E},function(R,I,D){'use strict';var E=D(0).Matrix,O=D(97),G=D(98),Z=D(99),$=D(100),ee=D(101),te=D(102),ie=D(103),ne=D(104),oe=D(105),ae=D(106),se={gaussian:O,rbf:O,polynomial:G,poly:G,anova:Z,cauchy:$,exponential:ee,histogram:te,min:te,laplacian:ie,multiquadratic:ne,rational:oe,sigmoid:ae,mlp:ae};R.exports=class{constructor(de,ue){if(this.kernelType=de,'linear'!==de)if('string'==typeof de){de=de.toLowerCase();var ce=se[de];if(ce)this.kernelFunction=new ce(ue);else throw new Error('unsupported kernel type: '+de)}else if('object'==typeof de&&'function'==typeof de.compute)this.kernelFunction=de;else throw new TypeError('first argument must be a valid kernel type or instance')}compute(de,ue){if(void 0===ue&&(ue=de),'linear'===this.kernelType){var ce=new E(de);return ce.mmul(new E(ue).transposeView())}var me=new E(de.length,ue.length),ge,pe;if(de===ue)for(ge=0;ge<de.length;ge++)for(pe=ge;pe<de.length;pe++)me[ge][pe]=me[pe][ge]=this.kernelFunction.compute(de[ge],de[pe]);else for(ge=0;ge<de.length;ge++)for(pe=0;pe<ue.length;pe++)me[ge][pe]=this.kernelFunction.compute(de[ge],ue[pe]);return me}}},function(R,I,D){'use strict';function O(ee,te,ie){for(var ne=te.length,oe=0,ae=0,se=0,le=0,de=0;de<ne;de++)oe+=te[de],ae+=ie[de],se+=te[de]*te[de],le+=te[de]*ie[de];var ue=ne*le-oe*ae;ee.slope=ue/(ne*se-oe*oe),ee.intercept=1/ne*ae-ee.slope*(1/ne)*oe,ee.coefficients=[ee.intercept,ee.slope]}Object.defineProperty(I,'__esModule',{value:!0});var G=D(2),Z=function(ee){return ee&&ee.__esModule?ee:{default:ee}}(G);class $ extends Z.default{constructor(ee,te){super(),!0===ee?(this.slope=te.slope,this.intercept=te.intercept,this.coefficients=[te.intercept,te.slope]):((0,G.checkArrayLength)(ee,te),O(this,ee,te))}toJSON(){return{name:'simpleLinearRegression',slope:this.slope,intercept:this.intercept}}_predict(ee){return this.slope*ee+this.intercept}computeX(ee){return(ee-this.intercept)/this.slope}toString(ee){var te='f(x) = ';if(0!==this.slope){var ie=(0,G.maybeToPrecision)(this.slope,ee);if(te+=('1'===ie?'':ie+' * ')+'x',this.intercept){var ne=Math.abs(this.intercept),oe=ne===this.intercept?'+':'-';te+=` ${oe} ${(0,G.maybeToPrecision)(ne,ee)}`}}else te+=(0,G.maybeToPrecision)(this.intercept,ee);return te}toLaTeX(ee){return this.toString(ee)}static load(ee){if('simpleLinearRegression'!==ee.name)throw new TypeError('not a SLR model');return new $(!0,ee)}}I.default=$},function(R){'use strict';var E=Object.prototype.hasOwnProperty,O=Object.prototype.toString,G=Object.defineProperty,Z=Object.getOwnPropertyDescriptor,$=function(oe){return'function'==typeof Array.isArray?Array.isArray(oe):'[object Array]'===O.call(oe)},ee=function(oe){if(!oe||'[object Object]'!==O.call(oe))return!1;var ae=E.call(oe,'constructor'),se=oe.constructor&&oe.constructor.prototype&&E.call(oe.constructor.prototype,'isPrototypeOf');if(oe.constructor&&!ae&&!se)return!1;for(var le in oe);return'undefined'==typeof le||E.call(oe,le)},te=function(oe,ae){G&&'__proto__'===ae.name?G(oe,ae.name,{enumerable:!0,configurable:!0,value:ae.newValue,writable:!0}):oe[ae.name]=ae.newValue},ie=function(oe,ae){if('__proto__'===ae){if(!E.call(oe,ae))return;if(Z)return Z(oe,ae).value}return oe[ae]};R.exports=function ne(){var oe,ae,se,le,de,ue,ce=arguments[0],me=1,ge=arguments.length,pe=!1;for('boolean'==typeof ce&&(pe=ce,ce=arguments[1]||{},me=2),(null==ce||'object'!=typeof ce&&'function'!=typeof ce)&&(ce={});me<ge;++me)if(oe=arguments[me],null!=oe)for(ae in oe)se=ie(ce,ae),le=ie(oe,ae),ce!==le&&(pe&&le&&(ee(le)||(de=$(le)))?(de?(de=!1,ue=se&&$(se)?se:[]):ue=se&&ee(se)?se:{},te(ce,{name:ae,newValue:ne(pe,ue,le)})):'undefined'!=typeof le&&te(ce,{name:ae,newValue:le}));return ce}},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(54);Object.defineProperty(I,'DecisionTreeClassifier',{enumerable:!0,get:function(){return E.DecisionTreeClassifier}});var O=D(72);Object.defineProperty(I,'DecisionTreeRegression',{enumerable:!0,get:function(){return O.DecisionTreeRegression}})},function(R,I){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(O){if(!Array.isArray(O))throw new Error('input must be an array');if(0===O.length)throw new Error('input must not be empty');for(var G=O[0],Z=1;Z<O.length;Z++)O[Z]>G&&(G=O[Z]);return G}},function(R,I,D){'use strict';function E(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(7),G=E(O),Z=D(5),$=E(Z);class ee extends(0,G.default)(){constructor(te,ie={}){var ne=ie.rows,oe=ne===void 0?1:ne;if(0!=te.length%oe)throw new Error('the data length is not divisible by the number of rows');super(),this.rows=oe,this.columns=te.length/oe,this.data=te}set(te,ie,ne){var oe=this._calculateIndex(te,ie);return this.data[oe]=ne,this}get(te,ie){var ne=this._calculateIndex(te,ie);return this.data[ne]}_calculateIndex(te,ie){return te*this.columns+ie}static get[Symbol.species](){return $.default}}I.default=ee},function(R,I,D){'use strict';function E(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(7),G=E(O),Z=D(5),$=E(Z);class ee extends(0,G.default)(){constructor(te){super(),this.data=te,this.rows=te.length,this.columns=te[0].length}set(te,ie,ne){return this.data[te][ie]=ne,this}get(te,ie){return this.data[te][ie]}static get[Symbol.species](){return $.default}}I.default=ee},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(0),O=D(11);class G{constructor(Z){Z=E.WrapperMatrix2D.checkMatrix(Z);var $=Z.clone(),ee=Z.rows,te=Z.columns,ie=Array(te),ne,oe,ae,se;for(ae=0;ae<te;ae++){var le=0;for(ne=ae;ne<ee;ne++)le=(0,O.hypotenuse)(le,$.get(ne,ae));if(0!==le){for(0>$.get(ae,ae)&&(le=-le),ne=ae;ne<ee;ne++)$.set(ne,ae,$.get(ne,ae)/le);for($.set(ae,ae,$.get(ae,ae)+1),oe=ae+1;oe<te;oe++){for(se=0,ne=ae;ne<ee;ne++)se+=$.get(ne,ae)*$.get(ne,oe);for(se=-se/$.get(ae,ae),ne=ae;ne<ee;ne++)$.set(ne,oe,$.get(ne,oe)+se*$.get(ne,ae))}}ie[ae]=-le}this.QR=$,this.Rdiag=ie}solve(Z){Z=E.Matrix.checkMatrix(Z);var $=this.QR,ee=$.rows;if(Z.rows!==ee)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var te=Z.columns,ie=Z.clone(),ne=$.columns,oe,ae,se,le;for(se=0;se<ne;se++)for(ae=0;ae<te;ae++){for(le=0,oe=se;oe<ee;oe++)le+=$[oe][se]*ie[oe][ae];for(le=-le/$[se][se],oe=se;oe<ee;oe++)ie[oe][ae]+=le*$[oe][se]}for(se=ne-1;0<=se;se--){for(ae=0;ae<te;ae++)ie[se][ae]/=this.Rdiag[se];for(oe=0;oe<se;oe++)for(ae=0;ae<te;ae++)ie[oe][ae]-=ie[se][ae]*$[oe][se]}return ie.subMatrix(0,ne-1,0,te-1)}isFullRank(){for(var Z=this.QR.columns,$=0;$<Z;$++)if(0===this.Rdiag[$])return!1;return!0}get upperTriangularMatrix(){var Z=this.QR,$=Z.columns,ee=new E.Matrix($,$),te,ie;for(te=0;te<$;te++)for(ie=0;ie<$;ie++)ee[te][ie]=te<ie?Z[te][ie]:te===ie?this.Rdiag[te]:0;return ee}get orthogonalMatrix(){var Z=this.QR,$=Z.rows,ee=Z.columns,te=new E.Matrix($,ee),ie,ne,oe,ae;for(oe=ee-1;0<=oe;oe--){for(ie=0;ie<$;ie++)te[ie][oe]=0;for(te[oe][oe]=1,ne=oe;ne<ee;ne++)if(0!==Z[oe][oe]){for(ae=0,ie=oe;ie<$;ie++)ae+=Z[ie][oe]*te[ie][ne];for(ae=-ae/Z[oe][oe],ie=oe;ie<$;ie++)te[ie][ne]+=ae*Z[ie][oe]}}return te}}I.default=G},function(R,I,D){'use strict';function O(se){return se&&se.__esModule?se:{default:se}}Object.defineProperty(I,'__esModule',{value:!0});var G=D(0),Z=O(G),$=D(71),ee=function(se){if(se&&se.__esModule)return se;var le={};if(null!=se)for(var de in se)Object.prototype.hasOwnProperty.call(se,de)&&(le[de]=se[de]);return le.default=se,le}($),te=D(12),ie=O(te),ne={gini:ee.giniGain,regression:ee.regressionError},oe={mean:ee.mean};class ae{constructor(se){this.kind=se.kind,this.gainFunction=se.gainFunction,this.splitFunction=se.splitFunction,this.minNumSamples=se.minNumSamples,this.maxDepth=se.maxDepth}bestSplit(se,le){for(var de='classifier'===this.kind?-Infinity:Infinity,ue='classifier'===this.kind?(_e,ve)=>_e>ve:(_e,ve)=>_e<ve,ge=0,ce,me;ge<se.rows;++ge)for(var pe=se[ge],he=this.featureSplit(pe,le),fe=0;fe<he.length;++fe){var xe=he[fe],ye=ML.ArrayStat.min(pe),be=this.split(pe,le,xe);if(ye===xe)var we=Infinity;else var we=ne[this.gainFunction](le,be);ue(we,de)&&(ce=ge,me=xe,de=we)}return{maxGain:de,maxColumn:ce,maxValue:me}}split(se,le,de){for(var ue=[],ce=[],me=0;me<se.length;++me)se[me]<de?ue.push(le[me]):ce.push(le[me]);return{greater:ce,lesser:ue}}featureSplit(se,le){var de=[],ue=ee.zip(se,le);ue.sort(function(me,ge){return me[0]-ge[0]});for(var ce=1;ce<ue.length;++ce)ue[ce-1][1]!==ue[ce][1]&&de.push(oe[this.splitFunction](ue[ce-1][0],ue[ce][0]));return de}calculatePrediction(se){if('classifier'!==this.kind)this.distribution=(0,ie.default)(se);else if(this.distribution=ee.toDiscreteDistribution(se,ee.getNumberOfClasses(se)),0===this.distribution.columns)throw new TypeError('Error on calculate the prediction')}train(se,le,de,ue){if(se.rows<=this.minNumSamples)return void this.calculatePrediction(le);ue===void 0&&(ue=0);var ce=se.transpose(),me=this.bestSplit(ce,le);this.splitValue=me.maxValue,this.splitColumn=me.maxColumn,this.gain=me.maxGain;var ge=ee.matrixSplitter(se,le,this.splitColumn,this.splitValue);if(de<this.maxDepth&&0.01<this.gain&&this.gain!==ue&&0<ge.lesserX.length&&0<ge.greaterX.length){this.left=new ae(this),this.right=new ae(this);var pe=new Z.default(ge.lesserX),he=new Z.default(ge.greaterX);this.left.train(pe,ge.lesserY,de+1,this.gain),this.right.train(he,ge.greaterY,de+1,this.gain)}else this.calculatePrediction(le)}classify(se){return this.right&&this.left?se[this.splitColumn]<this.splitValue?this.left.classify(se):this.right.classify(se):this.distribution}setNodeParameters(se){se.distribution===void 0?(this.distribution=void 0,this.splitValue=se.splitValue,this.splitColumn=se.splitColumn,this.gain=se.gain,this.left=new ae(this),this.right=new ae(this),{}!==se.left&&this.left.setNodeParameters(se.left),{}!==se.right&&this.right.setNodeParameters(se.right)):this.distribution=se.distribution.constructor===Array?new Z.default(se.distribution):se.distribution}}I.default=ae},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.RandomForestBase=void 0;var O=D(17),G=D(0),Z=D(75),$=function(te){if(te&&te.__esModule)return te;var ie={};if(null!=te)for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&(ie[ne]=te[ne]);return ie.default=te,ie}(Z);I.RandomForestBase=class{constructor(te,ie){if(!0===te){this.replacement=ie.replacement,this.maxFeatures=ie.maxFeatures,this.nEstimators=ie.nEstimators,this.treeOptions=ie.treeOptions,this.isClassifier=ie.isClassifier,this.seed=ie.seed,this.n=ie.n,this.indexes=ie.indexes,this.useSampleBagging=ie.useSampleBagging;var ne=this.isClassifier?O.DecisionTreeClassifier:O.DecisionTreeRegression;this.estimators=ie.estimators.map(oe=>ne.load(oe))}else this.replacement=te.replacement,this.maxFeatures=te.maxFeatures,this.nEstimators=te.nEstimators,this.treeOptions=te.treeOptions,this.isClassifier=te.isClassifier,this.seed=te.seed,this.useSampleBagging=te.useSampleBagging}train(te,ie){if(te=G.Matrix.checkMatrix(te),this.maxFeatures=this.maxFeatures||te.columns,$.checkFloat(this.maxFeatures))this.n=Math.floor(te.columns*this.maxFeatures);else if(!Number.isInteger(this.maxFeatures))throw new RangeError(`Cannot process the maxFeatures parameter ${this.maxFeatures}`);else if(this.maxFeatures>te.columns)throw new RangeError(`The maxFeatures parameter should be less than ${te.columns}`);else this.n=this.maxFeatures;if(this.isClassifier)var ne=O.DecisionTreeClassifier;else ne=O.DecisionTreeRegression;this.estimators=Array(this.nEstimators),this.indexes=Array(this.nEstimators);for(var oe=0;oe<this.nEstimators;++oe){var ae=this.useSampleBagging?$.examplesBaggingWithReplacement(te,ie,this.seed):{X:te,y:ie},se=ae.X,le=ae.y;ae=$.featureBagging(se,this.n,this.replacement,this.seed),se=ae.X,this.indexes[oe]=ae.usedIndex,this.estimators[oe]=new ne(this.treeOptions),this.estimators[oe].train(se,le)}}selection(){throw new Error('Abstract method \'selection\' not implemented!')}predict(te){var ie=Array(this.nEstimators);te=G.Matrix.checkMatrix(te);for(var ne=0,oe;ne<this.nEstimators;++ne)oe=te.columnSelectionView(this.indexes[ne]),ie[ne]=this.estimators[ne].predict(oe);ie=new G.WrapperMatrix2D(ie).transposeView();var ae=Array(ie.rows);for(ne=0;ne<ie.rows;++ne)ae[ne]=this.selection(ie.getRow(ne));return ae}toJSON(){return{indexes:this.indexes,n:this.n,replacement:this.replacement,maxFeatures:this.maxFeatures,nEstimators:this.nEstimators,treeOptions:this.treeOptions,isClassifier:this.isClassifier,seed:this.seed,estimators:this.estimators.map(te=>te.toJSON()),useSampleBagging:this.useSampleBagging}}}},function(R,I){'use strict';function E(O,G){return O-G}I.sum=function(G){for(var O=0,Z=0;Z<G.length;Z++)O+=G[Z];return O},I.max=function(G){for(var O=G[0],Z=G.length,$=1;$<Z;$++)G[$]>O&&(O=G[$]);return O},I.min=function(G){for(var O=G[0],Z=G.length,$=1;$<Z;$++)G[$]<O&&(O=G[$]);return O},I.minMax=function(G){for(var Z=G[0],$=G[0],ee=G.length,te=1;te<ee;te++)G[te]<Z&&(Z=G[te]),G[te]>$&&($=G[te]);return{min:Z,max:$}},I.arithmeticMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++)Z+=G[ee];return Z/$},I.mean=I.arithmeticMean,I.geometricMean=function(G){for(var Z=1,$=G.length,ee=0;ee<$;ee++)Z*=G[ee];return Math.pow(Z,1/$)},I.logMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++)Z+=Math.log(G[ee]);return Z/$},I.grandMean=function(G,Z){for(var $=0,ee=0,te=G.length,ie=0;ie<te;ie++)$+=Z[ie]*G[ie],ee+=Z[ie];return $/ee},I.truncatedMean=function(G,Z,$){$===void 0&&($=!1),$||(G=[].concat(G).sort(E));for(var ee=G.length,te=Math.floor(ee*Z),ie=0,ne=te;ne<ee-te;ne++)ie+=G[ne];return ie/(ee-2*te)},I.harmonicMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++){if(0===G[ee])throw new RangeError('value at index '+ee+'is zero');Z+=1/G[ee]}return $/Z},I.contraHarmonicMean=function(G){for(var Z=0,$=0,ee=G.length,te=0;te<ee;te++)Z+=G[te]*G[te],$+=G[te];if(0>$)throw new RangeError('sum of values is negative');return Z/$},I.median=function(G,Z){Z===void 0&&(Z=!1),Z||(G=[].concat(G).sort(E));var $=G.length,ee=Math.floor($/2);return 0==$%2?0.5*(G[ee-1]+G[ee]):G[ee]},I.variance=function(G,Z){Z===void 0&&(Z=!0);for(var $=I.mean(G),ee=0,te=G.length,ie=0,ne;ie<te;ie++)ne=G[ie]-$,ee+=ne*ne;return Z?ee/(te-1):ee/te},I.standardDeviation=function(G,Z){return Math.sqrt(I.variance(G,Z))},I.standardError=function(G){return I.standardDeviation(G)/Math.sqrt(G.length)},I.robustMeanAndStdev=function(G){var Z=0,$=0,ee=G.length,te=0;for(te=0;te<ee;te++)Z+=G[te];Z/=ee;var ie=Array(ee);for(te=0;te<ee;te++)ie[te]=Math.abs(G[te]-Z);return ie.sort(E),$=1==ee%2?ie[(ee-1)/2]/0.6745:0.5*(ie[ee/2]+ie[ee/2-1])/0.6745,{mean:Z,stdev:$}},I.quartiles=function(G,Z){'undefined'==typeof Z&&(Z=!1),Z||(G=[].concat(G).sort(E));var $=G.length/4,ee=G[Math.ceil($)-1],te=I.median(G,!0),ie=G[Math.ceil(3*$)-1];return{q1:ee,q2:te,q3:ie}},I.pooledStandardDeviation=function(G,Z){return Math.sqrt(I.pooledVariance(G,Z))},I.pooledVariance=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=0,ee=0,te=G.length,ie=0;ie<te;ie++){var ne=G[ie],oe=I.variance(ne);$+=(ne.length-1)*oe,ee+=Z?ne.length-1:ne.length}return $/ee},I.mode=function(G){var Z=G.length,$=Array(Z),ee;for(ee=0;ee<Z;ee++)$[ee]=0;var te=Array(Z),ie=0;for(ee=0;ee<Z;ee++){var ne=te.indexOf(G[ee]);0<=ne?$[ne]++:(te[ie]=G[ee],$[ie]=1,ie++)}var oe=0,ae=0;for(ee=0;ee<ie;ee++)$[ee]>oe&&(oe=$[ee],ae=ee);return te[ae]},I.covariance=function(G,Z,$){'undefined'==typeof $&&($=!0);var ee=I.mean(G),te=I.mean(Z);if(G.length!==Z.length)throw'Vectors do not have the same dimensions';for(var ie=0,ne=G.length,oe=0;oe<ne;oe++){var ae=G[oe]-ee,se=Z[oe]-te;ie+=ae*se}return $?ie/(ne-1):ie/ne},I.skewness=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=I.mean(G),ee=0,te=0,ie=G.length,ne=0,oe;ne<ie;ne++)oe=G[ne]-$,ee+=oe*oe,te+=oe*oe*oe;var ae=ee/ie,se=te/ie,le=se/Math.pow(ae,3/2);if(Z){var de=Math.sqrt(ie*(ie-1));return de/(ie-2)*le}return le},I.kurtosis=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=I.mean(G),ee=G.length,te=0,ie=0,ne=0,oe;ne<ee;ne++)oe=G[ne]-$,te+=oe*oe,ie+=oe*oe*oe*oe;var ae=te/ee,se=ie/ee;if(Z){var le=te/(ee-1),ue=ie/(le*le);return ee*(ee+1)/((ee-1)*(ee-2)*(ee-3))*ue-3*((ee-1)*(ee-1)/((ee-2)*(ee-3)))}return se/(ae*ae)-3},I.entropy=function(G,Z){'undefined'==typeof Z&&(Z=0);for(var $=0,ee=G.length,te=0;te<ee;te++)$+=G[te]*Math.log(G[te]+Z);return-$},I.weightedMean=function(G,Z){for(var $=0,ee=G.length,te=0;te<ee;te++)$+=G[te]*Z[te];return $},I.weightedStandardDeviation=function(G,Z){return Math.sqrt(I.weightedVariance(G,Z))},I.weightedVariance=function(G,Z){for(var $=I.weightedMean(G,Z),ee=0,te=G.length,ie=0,ne=0,oe=0;oe<te;oe++){var ae=G[oe]-$,se=Z[oe];ee+=se*(ae*ae),ne+=se,ie+=se*se}return ee*(ne/(ne*ne-ie))},I.center=function(G,Z){'undefined'==typeof Z&&(Z=!1);var $=G;Z||($=[].concat(G));for(var ee=I.mean($),te=$.length,ie=0;ie<te;ie++)$[ie]-=ee},I.standardize=function(G,Z,$){'undefined'==typeof Z&&(Z=I.standardDeviation(G)),'undefined'==typeof $&&($=!1);for(var ee=G.length,te=$?G:Array(ee),ie=0;ie<ee;ie++)te[ie]=G[ie]/Z;return te},I.cumulativeSum=function(G){var Z=G.length,$=Array(Z);$[0]=G[0];for(var ee=1;ee<Z;ee++)$[ee]=$[ee-1]+G[ee];return $}},function(R,I,D){'use strict';function E(Z){O.call(this),this.index=Z,this.distance=0,this.children=[]}var O=D(13),G=D(85);G.inherits(E,O),R.exports=E},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=Array.from({length:Z}).map(()=>Array.from({length:Z})),ee=0;ee<Z;ee++)for(var te=0;te<=ee;te++)$[ee][te]=G(O[ee],O[te]);for(var ie=0;ie<Z;ie++)for(var ne=ie+1;ne<Z;ne++)$[ie][ne]=$[ne][ie];return $}},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.calculateDistanceMatrix=function(ie,ne){for(var oe=Array(ie.length),ae=0;ae<ie.length;++ae)for(var se=ae;se<ie.length;++se){oe[ae]||(oe[ae]=Array(ie.length)),oe[se]||(oe[se]=Array(ie.length));var le=ne(ie[ae],ie[se]);oe[ae][se]=le,oe[se][ae]=le}return oe},I.updateClusterID=function(ie,ne,oe,ae){for(var se=0;se<ie.length;se++)oe[se]=(0,te.default)(ne,ie[se],{distanceFunction:ae});return oe},I.updateCenters=function(ie,ne,oe,ae){for(var se=ne[0].length,le=Array(ae),de=Array(ae),ue=0;ue<ae;ue++){le[ue]=Array(se),de[ue]=0;for(var ce=0;ce<se;ce++)le[ue][ce]=0}for(var me=0;me<ne.length;me++){de[oe[me]]++;for(var ge=0;ge<se;ge++)le[oe[me]][ge]+=ne[me][ge]}for(var pe=0;pe<ae;pe++)for(var he=0;he<se;he++)de[pe]?le[pe][he]/=de[pe]:le[pe][he]=ie[pe][he];return le},I.hasConverged=function(ie,ne,oe,ae){for(var se=0;se<ie.length;se++)if(oe(ie[se],ne[se])>ae)return!1;return!0};var ee=D(92),te=function(ie){return ie&&ie.__esModule?ie:{default:ie}}(ee)},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(94),G=function(ee){return ee&&ee.__esModule?ee:{default:ee}}(O),Z=D(29);I.default=class{constructor(ee=Math.random){if('number'==typeof ee){var te=new Z(ee);this.randomGenerator=te.random}else this.randomGenerator=ee}choice(ee,te){return'number'==typeof ee?(0,G.default)(ee,te,this.randomGenerator):(0,G.default)(ee,te,this.randomGenerator)}random(){return this.randomGenerator()}randInt(ee,te){return void 0===te&&(te=ee,ee=0),ee+Math.floor(this.randomGenerator()*(te-ee))}randomSample(ee){for(var te=[],ie=0;ie<ee;ie++)te.push(this.random());return te}}},function(R,I){'use strict';function E(se,le){if(!(se instanceof le))throw new TypeError('Cannot call a class as a function')}function O(se,le){se>>>=0,le>>>=0;var de=65535&se,ue=se-de;return(ue*le>>>0)+de*le>>>0}function G(se){0===se.state[0]&&0===se.state[1]&&0===se.state[2]&&0===se.state[3]&&(se.state[0]=88,se.state[1]=83,se.state[2]=65,se.state[3]=68)}function Z(se){var le=se.state[0];le^=le<<15,le^=le>>>18,le^=se.state[3]<<11,se.state[0]=se.state[1],se.state[1]=se.state[2],se.state[2]=se.state[3],se.state[3]=le}Object.defineProperty(I,'__esModule',{value:!0});var $=function(){function se(le,de){for(var ue=0,ce;ue<de.length;ue++)ce=de[ue],ce.enumerable=ce.enumerable||!1,ce.configurable=!0,'value'in ce&&(ce.writable=!0),Object.defineProperty(le,ce.key,ce)}return function(le,de,ue){return de&&se(le.prototype,de),ue&&se(le,ue),le}}(),ee=8,ie=function(){function se(){var le=0>=arguments.length||void 0===arguments[0]?Date.now():arguments[0];E(this,se),this.state=new Uint32Array(4),this.init(le)}return $(se,[{key:'init',value:function(de){this.state[0]=de,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(var ue=1;ue<ee;ue++)this.state[3&ue]^=ue+O(1812433253,this.state[3&ue-1]^this.state[3&ue-1]>>>30>>>0)>>>0;G(this);for(var ue=0;ue<ee;ue++)Z(this)}},{key:'getUint32',value:function(){return Z(this),this.state[3]+this.state[2]>>>0}},{key:'getFloat',value:function(){return(this.getUint32()>>>8)*(1/16777216)}},{key:'random',get:function(){return this._random||(this._random=this.getFloat.bind(this)),this._random}}]),se}();I['default']=ie;R.exports=I['default']},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.separateClasses=function($,ee){for(var te=$.columns,ie=0,ne=Array(1e4),oe=0;oe<ee.length;oe++)void 0===ne[ee[oe]]&&(ne[ee[oe]]=0,ie++),ne[ee[oe]]++;var ae=Array(ie),se=Array(ie);for(oe=0;oe<ie;++oe)ae[oe]=new Z.default(ne[oe],te),se[oe]=0;for(oe=0;oe<$.rows;++oe)ae[ee[oe]].setRow(se[ee[oe]],$.getRow(oe)),se[ee[oe]]++;return ae};var G=D(0),Z=function($){return $&&$.__esModule?$:{default:$}}(G)},function(R,I,D){'use strict';function E(oe){return oe&&oe.__esModule?oe:{default:oe}}function G(oe,ae){return this[oe][ae]*=this[oe][ae],this}Object.defineProperty(I,'__esModule',{value:!0}),I.norm=function(oe){return Math.sqrt(oe.clone().apply(G).sum())},I.pow2array=G,I.featureNormalize=function(oe){var ae=ne.default.mean(oe),se=ne.default.standardDeviation(oe,ae,!0),le=te.default.checkMatrix(oe).subRowVector(ae);return{result:le.divRowVector(se),means:ae,std:se}},I.initializeMatrices=function(oe,ae){if(ae)for(var se=0;se<oe.length;++se)for(var le=0,de;le<oe[se].length;++le)de=oe[se][le],oe[se][le]=null===de?void 0:new te.default(oe[se][le]);else for(se=0;se<oe.length;++se)oe[se]=new te.default(oe[se]);return oe};var ee=D(0),te=E(ee),ie=D(9),ne=E(ie)},function(R){'use strict';class E{constructor(O,G){if(O.length!==O[0].length)throw new Error('Confusion matrix must be square');if(G.length!==O.length)throw new Error('Confusion matrix and labels should have the same length');this.labels=G,this.matrix=O}static fromLabels(O,G,Z={}){if(G.length!==O.length)throw new Error('predicted and actual must have the same length');var $;$=Z.labels?new Set(Z.labels):new Set([...O,...G]),$=Array.from($),Z.sort&&$.sort(Z.sort);for(var ee=Array.from({length:$.length}),te=0;te<ee.length;te++)ee[te]=Array(ee.length),ee[te].fill(0);for(var ie=0;ie<G.length;ie++){var ne=$.indexOf(O[ie]),oe=$.indexOf(G[ie]);0<=ne&&0<=oe&&ee[ne][oe]++}return new E(ee,$)}getMatrix(){return this.matrix}getLabels(){return this.labels}getTotalCount(){for(var O=0,G=0;G<this.matrix.length;G++)for(var Z=0;Z<this.matrix.length;Z++)O+=this.matrix[G][Z];return O}getTrueCount(){for(var O=0,G=0;G<this.matrix.length;G++)O+=this.matrix[G][G];return O}getFalseCount(){return this.getTotalCount()-this.getTrueCount()}getTruePositiveCount(O){var G=this.getIndex(O);return this.matrix[G][G]}getTrueNegativeCount(O){for(var G=this.getIndex(O),Z=0,$=0;$<this.matrix.length;$++)for(var ee=0;ee<this.matrix.length;ee++)$!==G&&ee!==G&&(Z+=this.matrix[$][ee]);return Z}getFalsePositiveCount(O){for(var G=this.getIndex(O),Z=0,$=0;$<this.matrix.length;$++)$!==G&&(Z+=this.matrix[$][G]);return Z}getFalseNegativeCount(O){for(var G=this.getIndex(O),Z=0,$=0;$<this.matrix.length;$++)$!==G&&(Z+=this.matrix[G][$]);return Z}getPositiveCount(O){return this.getTruePositiveCount(O)+this.getFalseNegativeCount(O)}getNegativeCount(O){return this.getTrueNegativeCount(O)+this.getFalsePositiveCount(O)}getIndex(O){var G=this.labels.indexOf(O);if(-1===G)throw new Error('The label does not exist');return G}getTruePositiveRate(O){return this.getTruePositiveCount(O)/this.getPositiveCount(O)}getTrueNegativeRate(O){return this.getTrueNegativeCount(O)/this.getNegativeCount(O)}getPositivePredictiveValue(O){var G=this.getTruePositiveCount(O);return G/(G+this.getFalsePositiveCount(O))}getNegativePredictiveValue(O){var G=this.getTrueNegativeCount(O);return G/(G+this.getFalseNegativeCount(O))}getFalseNegativeRate(O){return 1-this.getTruePositiveRate(O)}getFalsePositiveRate(O){return 1-this.getTrueNegativeRate(O)}getFalseDiscoveryRate(O){var G=this.getFalsePositiveCount(O);return G/(G+this.getTruePositiveCount(O))}getFalseOmissionRate(O){var G=this.getFalseNegativeCount(O);return G/(G+this.getTruePositiveCount(O))}getF1Score(O){var G=this.getTruePositiveCount(O);return 2*G/(2*G+this.getFalsePositiveCount(O)+this.getFalseNegativeCount(O))}getMatthewsCorrelationCoefficient(O){var G=this.getTruePositiveCount(O),Z=this.getTrueNegativeCount(O),$=this.getFalsePositiveCount(O),ee=this.getFalseNegativeCount(O);return(G*Z-$*ee)/Math.sqrt((G+$)*(G+ee)*(Z+$)*(Z+ee))}getInformedness(O){return this.getTruePositiveRate(O)+this.getTrueNegativeRate(O)-1}getMarkedness(O){return this.getPositivePredictiveValue(O)+this.getNegativePredictiveValue(O)-1}getConfusionTable(O){return[[this.getTruePositiveCount(O),this.getFalseNegativeCount(O)],[this.getFalsePositiveCount(O),this.getTrueNegativeCount(O)]]}getAccuracy(){for(var O=0,G=0,Z=0;Z<this.matrix.length;Z++)for(var $=0;$<this.matrix.length;$++)Z===$?O+=this.matrix[Z][$]:G+=this.matrix[Z][$];return O/(O+G)}getCount(O,G){var Z=this.getIndex(O),$=this.getIndex(G);return this.matrix[Z][$]}get accuracy(){return this.getAccuracy()}get total(){return this.getTotalCount()}}R.exports=E},function(R,I,D){'use strict';var E=D(0).Matrix,O=D(34),G=D(35);class Z{constructor($){this.inputSize=$.inputSize,this.outputSize=$.outputSize,this.regularization=$.regularization,this.epsilon=$.epsilon,this.activation=$.activation,this.activationParam=$.activationParam;var ee=G[$.activation],te=ee.activation.length,ie=1<te?oe=>ee.activation(oe,$.activationParam):ee.activation,ne=1<te?oe=>ee.derivate(oe,$.activationParam):ee.derivate;this.activationFunction=function(oe,ae){this[oe][ae]=ie(this[oe][ae])},this.derivate=function(oe,ae){this[oe][ae]=ne(this[oe][ae])},$.model?(this.W=E.checkMatrix($.W),this.b=E.checkMatrix($.b)):(this.W=E.rand(this.inputSize,this.outputSize),this.b=E.zeros(1,this.outputSize),this.W.apply(function(oe,ae){this[oe][ae]/=Math.sqrt($.inputSize)}))}forward($){var ee=$.mmul(this.W).addRowVector(this.b);return ee.apply(this.activationFunction),this.a=ee.clone(),ee}backpropagation($,ee){this.dW=ee.transposeView().mmul($),this.db=O.sumCol($);var te=ee.clone();return $.mmul(this.W.transposeView()).mul(te.apply(this.derivate))}update(){this.dW.add(this.W.clone().mul(this.regularization)),this.W.add(this.dW.mul(-this.epsilon)),this.b.add(this.db.mul(-this.epsilon))}toJSON(){return{model:'Layer',inputSize:this.inputSize,outputSize:this.outputSize,regularization:this.regularization,epsilon:this.epsilon,activation:this.activation,W:this.W,b:this.b}}static load($){if('Layer'!==$.model)throw new RangeError('the current model is not a Layer model');return new Z($)}}R.exports=Z},function(R,I,D){'use strict';var Z=D(0).Matrix;R.exports={dictOutputs:function($){for(var ee={},te={},ie=0,ne=0;ne<$.length;ne+=1)void 0===ee[$[ne]]&&(ee[$[ne]]=ie,te[ie]=$[ne],ie++);return{inputs:ee,outputs:te}},sumCol:function($){for(var ee=Z.zeros(1,$.columns),te=0;te<$.rows;++te)for(var ie=0;ie<$.columns;++ie)ee[0][ie]+=$[te][ie];return ee},sumRow:function($){for(var ee=Z.zeros($.rows,1),te=0;te<$.rows;++te)for(var ie=0;ie<$.columns;++ie)ee[te][0]+=$[te][ie];return ee}}},function(R){'use strict';function E(ee){return 1/(1+Math.exp(-ee))}function O(ee,te){return 0>ee?te*(Math.exp(ee)-1):ee}var $={tanh:{activation:Math.tanh,derivate:ee=>1-ee*ee},identity:{activation:ee=>ee,derivate:()=>1},logistic:{activation:E,derivate:ee=>E(ee)*(1-E(ee))},arctan:{activation:Math.atan,derivate:ee=>1/(ee*ee+1)},softsign:{activation:ee=>ee/(1+Math.abs(ee)),derivate:ee=>1/((1+Math.abs(ee))*(1+Math.abs(ee)))},relu:{activation:ee=>0>ee?0:ee,derivate:ee=>0>ee?0:1},softplus:{activation:ee=>Math.log(1+Math.exp(ee)),derivate:ee=>1/(1+Math.exp(-ee))},bent:{activation:ee=>(Math.sqrt(ee*ee+1)-1)/2+ee,derivate:ee=>ee/(2*Math.sqrt(ee*ee+1))+1},sinusoid:{activation:Math.sin,derivate:Math.cos},sinc:{activation:ee=>0===ee?1:Math.sin(ee)/ee,derivate:ee=>0===ee?0:Math.cos(ee)/ee-Math.sin(ee)/(ee*ee)},gaussian:{activation:ee=>Math.exp(-(ee*ee)),derivate:ee=>-2*ee*Math.exp(-(ee*ee))},'parametric-relu':{activation:(ee,te)=>0>ee?te*ee:ee,derivate:(ee,te)=>0>ee?te:1},'exponential-elu':{activation:O,derivate:(ee,te)=>0>ee?O(ee,te)+te:1},'soft-exponential':{activation:function(ee,te){return 0>te?-Math.log(1-te*(ee+te))/te:0<te?(Math.exp(te*ee)-1)/te+te:ee},derivate:function(ee,te){return 0>te?1/(1-te*(te+ee)):Math.exp(te*ee)}}};R.exports=$},function(R){'use strict';function E(O,G,Z,$){this.x=O,this.y=G,this.weights=Z,this.som=$,this.neighbors={}}E.prototype.adjustWeights=function(G,Z,$){for(var ee=0,te=this.weights.length;ee<te;ee++)this.weights[ee]+=Z*$*(G[ee]-this.weights[ee])},E.prototype.getDistance=function(G){return Math.max(Math.abs(this.x-G.x),Math.abs(this.y-G.y))},E.prototype.getDistanceTorus=function(G){var Z=Math.abs(this.x-G.x),$=Math.abs(this.y-G.y);return Math.max(Math.min(Z,this.som.gridDim.x-Z),Math.min($,this.som.gridDim.y-$))},E.prototype.getNeighbors=function(G){if(!this.neighbors[G]){this.neighbors[G]=[,,];var Z;if(0<this[G]?Z=this[G]-1:this.som.torus&&(Z=this.som.gridDim[G]-1),'undefined'!=typeof Z){var $,ee;'x'===G?($=Z,ee=this.y):($=this.x,ee=Z),this.neighbors[G][0]=this.som.nodes[$][ee]}var te;this[G]<this.som.gridDim[G]-1?te=this[G]+1:this.som.torus&&(te=0),'undefined'!=typeof te&&('x'===G?($=te,ee=this.y):($=this.x,ee=te),this.neighbors[G][1]=this.som.nodes[$][ee])}return this.neighbors[G]},E.prototype.getPos=function(G,Z){var $=this.getNeighbors(G),ee=this.som.distance,te,ie;if(!$[0])te=$[1],ie=1;else if($[1]){var ne=ee(Z,$[0].weights),oe=ee(Z,$[1].weights);ne<oe?(te=$[0],ie=-1):(te=$[1],ie=1)}else te=$[0],ie=-1;var ae=1-ee(Z,this.weights),se=1-ee(Z,te.weights);return 0.5+0.5*((ae-se)/(2-ae-se))*ie},E.prototype.getPosition=function(G){return[this.getPos('x',G),this.getPos('y',G)]},R.exports=E},function(R,I,D){'use strict';function E(de){return de&&de.__esModule?de:{default:de}}Object.defineProperty(I,'__esModule',{value:!0}),I.RobustPolynomialRegression=I.TheilSenRegression=I.PolinomialFitting2D=I.KRR=I.KernelRidgeRegression=I.NonLinearRegression=I.NLR=I.MultivariateLinearRegression=I.PowerRegression=I.ExponentialRegression=I.PolynomialRegression=I.SLR=I.SimpleLinearRegression=void 0;var O=D(15);Object.defineProperty(I,'SimpleLinearRegression',{enumerable:!0,get:function(){return E(O).default}}),Object.defineProperty(I,'SLR',{enumerable:!0,get:function(){return E(O).default}});var G=D(38);Object.defineProperty(I,'PolynomialRegression',{enumerable:!0,get:function(){return E(G).default}});var Z=D(123);Object.defineProperty(I,'ExponentialRegression',{enumerable:!0,get:function(){return E(Z).default}});var $=D(124);Object.defineProperty(I,'PowerRegression',{enumerable:!0,get:function(){return E($).default}});var ee=D(125);Object.defineProperty(I,'MultivariateLinearRegression',{enumerable:!0,get:function(){return E(ee).default}});var te=D(126);Object.defineProperty(I,'KernelRidgeRegression',{enumerable:!0,get:function(){return E(te).default}}),Object.defineProperty(I,'KRR',{enumerable:!0,get:function(){return E(te).default}});var ie=D(127);Object.defineProperty(I,'PolinomialFitting2D',{enumerable:!0,get:function(){return E(ie).default}});var ne=D(128);Object.defineProperty(I,'TheilSenRegression',{enumerable:!0,get:function(){return E(ne).default}});var oe=D(129);Object.defineProperty(I,'RobustPolynomialRegression',{enumerable:!0,get:function(){return E(oe).default}});var ae=D(130),se=E(ae),le={PotentialRegression:se.default};I.NLR=le,I.NonLinearRegression=le},function(R,I,D){'use strict';function E(ie){return ie&&ie.__esModule?ie:{default:ie}}function O(ie,ne,oe,ae){var se=ne.length,le;if(Array.isArray(ae))le=ae,ae=le.length;else{ae++,le=Array(ae);for(var de=0;de<ae;de++)le[de]=de}for(var ue=new ee.default(se,ae),ce=new ee.default([oe]),me=0;me<ae;me++)for(var ge=0;ge<se;ge++)ue[ge][me]=0===le[me]?1:Math.pow(ne[ge],le[me]);var pe=ue.transposeView(),he=pe.mmul(ue),fe=pe.mmul(ce.transposeView());ie.degree=ae-1,ie.powers=le,ie.coefficients=(0,$.solve)(he,fe).to1DArray()}Object.defineProperty(I,'__esModule',{value:!0});var G=D(2),Z=E(G),$=D(0),ee=E($);class te extends Z.default{constructor(ie,ne,oe){super(),!0===ie?(this.degree=ne.degree,this.powers=ne.powers,this.coefficients=ne.coefficients):((0,G.checkArrayLength)(ie,ne),O(this,ie,ne,oe))}_predict(ie){for(var ne=0,oe=0;oe<this.powers.length;oe++)ne+=this.coefficients[oe]*Math.pow(ie,this.powers[oe]);return ne}toJSON(){return{name:'polynomialRegression',degree:this.degree,powers:this.powers,coefficients:this.coefficients}}toString(ie){return this._toFormula(ie,!1)}toLaTeX(ie){return this._toFormula(ie,!0)}_toFormula(ie,ne){var oe='^',ae='',se=' * ';ne&&(oe='^{',ae='}',se='');for(var le='',de='',ue=0;ue<this.coefficients.length;ue++)de='',0!==this.coefficients[ue]&&(de=0===this.powers[ue]?(0,G.maybeToPrecision)(this.coefficients[ue],ie):1===this.powers[ue]?(0,G.maybeToPrecision)(this.coefficients[ue],ie)+se+'x':(0,G.maybeToPrecision)(this.coefficients[ue],ie)+se+'x'+oe+this.powers[ue]+ae,0<this.coefficients[ue]&&ue!==this.coefficients.length-1?de=' + '+de:ue!==this.coefficients.length-1&&(de=' '+de)),le=de+le;return'+'===le.charAt(0)&&(le=le.slice(1)),'f(x) = '+le}static load(ie){if('polynomialRegression'!==ie.name)throw new TypeError('not a polynomial regression model');return new te(!0,ie)}}I.default=te},function(R,I,D){'use strict';function E(ce,me){return 0|ce*me}function O(ce,me){return Math.min(ce-2,0|ce*me)}function G(ce,me,ge){return te(Math.max(ce+1,0|4*ce/(3*me+ge)))}function Z(ce,me,ge){return te(Math.max(ce+1,0|4*ce/(me+3*ge)))}var $=D(133),ee=D(134),te=ee.nextPrime,ie=ee.largestPrime,ne=0,oe=1,ae=2;class ue{constructor(ce={}){if(ce instanceof ue)return this.table=ce.table.slice(),this.values=ce.values.slice(),this.state=ce.state.slice(),this.minLoadFactor=ce.minLoadFactor,this.maxLoadFactor=ce.maxLoadFactor,this.distinct=ce.distinct,this.freeEntries=ce.freeEntries,this.lowWaterMark=ce.lowWaterMark,void(this.highWaterMark=ce.maxLoadFactor);var me=ce.initialCapacity===void 0?150:ce.initialCapacity;if(0>me)throw new RangeError(`initial capacity must not be less than zero: ${me}`);var ge=ce.minLoadFactor===void 0?1/6:ce.minLoadFactor,pe=ce.maxLoadFactor===void 0?2/3:ce.maxLoadFactor;if(0>ge||1<=ge)throw new RangeError(`invalid minLoadFactor: ${ge}`);if(0>=pe||1<=pe)throw new RangeError(`invalid maxLoadFactor: ${pe}`);if(ge>=pe)throw new RangeError(`minLoadFactor (${ge}) must be smaller than maxLoadFactor (${pe})`);var he=me;he=0|he/pe,he=te(he),0===he&&(he=1),this.table=$(he,0),this.values=$(he,0),this.state=$(he,0),this.minLoadFactor=ge,this.maxLoadFactor=he===ie?1:pe,this.distinct=0,this.freeEntries=he,this.lowWaterMark=0,this.highWaterMark=O(he,this.maxLoadFactor)}clone(){return new ue(this)}get size(){return this.distinct}get(ce){var me=this.indexOfKey(ce);return 0>me?0:this.values[me]}set(ce,me){var ge=this.indexOfInsertion(ce);if(0>ge)return ge=-ge-1,this.values[ge]=me,!1;if(this.distinct>this.highWaterMark){var pe=G(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);return this.rehash(pe),this.set(ce,me)}if(this.table[ge]=ce,this.values[ge]=me,this.state[ge]===ne&&this.freeEntries--,this.state[ge]=oe,this.distinct++,1>this.freeEntries){var he=G(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);this.rehash(he)}return!0}remove(ce,me){var ge=this.indexOfKey(ce);return!(0>ge)&&(this.state[ge]=ae,this.distinct--,me||this.maybeShrinkCapacity(),!0)}delete(ce,me){var ge=this.indexOfKey(ce);return!(0>ge)&&(this.state[ge]=ne,this.distinct--,me||this.maybeShrinkCapacity(),!0)}maybeShrinkCapacity(){if(this.distinct<this.lowWaterMark){var ce=Z(this.distinct,this.minLoadFactor,this.maxLoadFactor);this.rehash(ce)}}containsKey(ce){return 0<=this.indexOfKey(ce)}indexOfKey(ce){var me=this.table,ge=this.state,pe=this.table.length,he=2147483647&ce,fe=he%pe,xe=he%(pe-2);for(0==xe&&(xe=1);ge[fe]!==ne&&(ge[fe]===ae||me[fe]!==ce);)fe-=xe,0>fe&&(fe+=pe);return ge[fe]===ne?-1:fe}containsValue(ce){return 0<=this.indexOfValue(ce)}indexOfValue(ce){for(var me=this.values,ge=this.state,pe=0;pe<ge.length;pe++)if(ge[pe]===oe&&me[pe]===ce)return pe;return-1}indexOfInsertion(ce){var me=this.table,ge=this.state,pe=me.length,he=2147483647&ce,fe=he%pe,xe=he%(pe-2);for(0==xe&&(xe=1);ge[fe]===oe&&me[fe]!==ce;)fe-=xe,0>fe&&(fe+=pe);if(ge[fe]===ae){for(var ye=fe;ge[fe]!==ne&&(ge[fe]===ae||me[fe]!==ce);)fe-=xe,0>fe&&(fe+=pe);ge[fe]===ne&&(fe=ye)}return ge[fe]===oe?-fe-1:fe}ensureCapacity(ce){if(this.table.length<ce){var me=te(ce);this.rehash(me)}}rehash(ce){var me=this.table.length;if(ce<=this.distinct)throw new Error('Unexpected');var ge=this.table,pe=this.values,he=this.state,fe=$(ce,0),xe=$(ce,0),ye=$(ce,0);this.lowWaterMark=E(ce,this.minLoadFactor),this.highWaterMark=O(ce,this.maxLoadFactor),this.table=fe,this.values=xe,this.state=ye,this.freeEntries=ce-this.distinct;for(var be=0;be<me;be++)if(he[be]===oe){var we=ge[be],_e=this.indexOfInsertion(we);fe[_e]=we,xe[_e]=pe[be],ye[_e]=oe}}forEachKey(ce){for(var me=0;me<this.state.length;me++)if(this.state[me]===oe&&!ce(this.table[me]))return!1;return!0}forEachValue(ce){for(var me=0;me<this.state.length;me++)if(this.state[me]===oe&&!ce(this.values[me]))return!1;return!0}forEachPair(ce){for(var me=0;me<this.state.length;me++)if(this.state[me]===oe&&!ce(this.table[me],this.values[me]))return!1;return!0}}R.exports=ue},function(R){'use strict';R.exports=function(E,O,G,Z,$){var ee,te;if(void 0===Z)Z=0;else if(Z|=0,0>Z||Z>=E.length)throw new RangeError('invalid lower bound');if(void 0===$)$=E.length-1;else if($|=0,$<Z||$>=E.length)throw new RangeError('invalid upper bound');for(;Z<=$;)if(ee=Z+($-Z>>1),te=+G(E[ee],O,ee,E),0>te)Z=ee+1;else if(0<te)$=ee-1;else return ee;return~Z}},function(R,I,D){'use strict';function E(G){if('number'!=typeof G||O(G))throw new TypeError('Expected a number')}var O=D(135);I.asc=function(G,Z){return E(G),E(Z),G-Z},I.desc=function(G,Z){return E(G),E(Z),Z-G}},function(R,I,D){'use strict';I.distance=D(136),I.similarity=D(173)},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=0,ee=0;ee<O.length;ee++)Z+=Math.min(O[ee],G[ee]),$+=O[ee]+G[ee];return 2*Z/$}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0,ie=0;ie<Z;ie++)$+=O[ie]*O[ie],ee+=G[ie]*G[ie],te+=(O[ie]-G[ie])*(O[ie]-G[ie]);return te/($+ee)}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.min(O[ee],G[ee]);return 1-$}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0,ie=0,ne=0;ne<Z;ne++)$+=O[ne]*G[ne],ee+=O[ne]*O[ne],te+=G[ne]*G[ne],ie+=(O[ne]-G[ne])*(O[ne]-G[ne]);return ie/(ee+te-$)}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0;te<Z;te++)$+=Math.abs(O[te]-G[te]),ee+=Math.min(O[te],G[te]);return $/ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0;te<Z;te++)$+=Math.min(O[te],G[te]),ee+=O[te]+G[te];return 1-$/ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=(Math.sqrt(O[ee])-Math.sqrt(G[ee]))*(Math.sqrt(O[ee])-Math.sqrt(G[ee]));return $}},function(R){'use strict';R.exports=function(O,G,Z){if(Z){for(var $=0,ee=0,te=0;te<O.length;te++)$+=O[te]&&G[te],ee+=O[te]||G[te];return 0===ee?1:$/ee}for(var ie=O.length,ne=0,oe=0,ae=0,se=0;se<ie;se++)ne+=O[se],oe+=G[se],ae+=Math.min(O[se],G[se]);return 1-(ne+oe-2*ae)/(ne+oe-ae)}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0,ie=0;ie<Z;ie++)$+=O[ie]*G[ie],ee+=O[ie]*O[ie],te+=G[ie]*G[ie];return $/(Math.sqrt(ee)*Math.sqrt(te))}},function(R,I,D){'use strict';function E(ee,te){var ie=ee.length;'number'==typeof te.size&&(te.size=[te.size,te.size]);var ne=ie+te.size[0]+te.size[1],oe;if(te.output){if(te.output.length!==ne)throw new RangeError('Wrong output size');oe=te.output}else oe=Array(ne);var ae;if('circular'===te.value)for(ae=0;ae<ne;ae++)oe[ae]=ae<te.size[0]?ee[(ie-te.size[0]%ie+ae)%ie]:ae<te.size[0]+ie?ee[ae-te.size[0]]:ee[(ae-te.size[0])%ie];else if('replicate'===te.value)for(ae=0;ae<ne;ae++)oe[ae]=ae<te.size[0]?ee[0]:ae<te.size[0]+ie?ee[ae-te.size[0]]:ee[ie-1];else if('symmetric'===te.value){if(te.size[0]>ie||te.size[1]>ie)throw new RangeError('expanded value should not be bigger than the data length');for(ae=0;ae<ne;ae++)oe[ae]=ae<te.size[0]?ee[te.size[0]-1-ae]:ae<te.size[0]+ie?ee[ae-te.size[0]]:ee[2*ie+te.size[0]-ae-1]}else for(ae=0;ae<ne;ae++)oe[ae]=ae<te.size[0]?te.value:ae<te.size[0]+ie?ee[ae-te.size[0]]:te.value;return oe}function O(ee,te){var ie=ee.length,ne=ee[0].length;throw void 0===te.size[0]&&(te.size=[te.size,te.size,te.size,te.size]),new Error('matrix not supported yet, sorry')}var Z=D(16),$={size:1,value:0};R.exports=function(ee,te){if(te=Z({},$,te),Array.isArray(ee))return Array.isArray(ee[0])?O(ee,te):E(ee,te);throw new TypeError('data should be an array')}},function(R,I,D){'use strict';var E=D(17),O=D(73),G=I;G.PCA=D(80),G.HClust=D(81),G.KMeans=D(91),G.SVM=D(96),G.NaiveBayes=D(107),G.KNN=D(110),G.PLS=D(112),G.CrossValidation=D(115),G.ConfusionMatrix=D(32),G.DecisionTreeClassifier=E.DecisionTreeClassifier,G.RandomForestClassifier=O.RandomForestClassifier,G.FNN=D(117),G.SOM=D(119);var Z=D(37);G.SimpleLinearRegression=Z.SimpleLinearRegression,G.PolynomialRegression=Z.PolynomialRegression,G.MultivariateLinearRegression=Z.MultivariateLinearRegression,G.PowerRegression=Z.PowerRegression,G.ExponentialRegression=Z.ExponentialRegression,G.TheilSenRegression=Z.TheilSenRegression,G.RobustPolynomialRegression=Z.RobustPolynomialRegression,G.DecisionTreeRegression=E.DecisionTreeRegression,G.RandomForestRegression=O.RandomForestRegression,G.levenbergMarquardt=D(131);var $=D(0);G.Matrix=$.Matrix,G.SVD=$.SVD,G.EVD=$.EVD,G.CholeskyDecomposition=$.CholeskyDecomposition,G.LuDecomposition=$.LuDecomposition,G.QrDecomposition=$.QrDecomposition,G.SparseMatrix=D(132),G.Kernel=D(14),G.Distance=D(42).distance,G.Similarity=D(42).similarity,G.distanceMatrix=D(26),G.XSadd=D(29),G.Performance=D(181),G.savitzkyGolay=D(183),G.savitzkyGolayGeneralized=D(184),G.BitArray=D(185),G.HashTable=D(39),G.padArray=D(52),G.binarySearch=D(40),G.numSort=D(41),G.Random=D(28),G.ArrayUtils=D(187),G.Regression=D(37),G.MatrixUtil=D(0),G.ArrayStat=D(4).array,G.MatrixStat=D(4).matrix},function(R,I,D){'use strict';function E(ie){return ie&&ie.__esModule?ie:{default:ie}}Object.defineProperty(I,'__esModule',{value:!0}),I.DecisionTreeClassifier=void 0;var O=D(0),G=E(O),Z=D(22),$=E(Z),ee={gainFunction:'gini',splitFunction:'mean',minNumSamples:3,maxDepth:Infinity};class te{constructor(ie,ne){!0===ie?(this.options=ne.options,this.root=new $.default(ne.options),this.root.setNodeParameters(ne.root)):(this.options=Object.assign({},ee,ie),this.options.kind='classifier')}train(ie,ne){this.root=new $.default(this.options),ie=G.default.checkMatrix(ie),this.root.train(ie,ne,0,null)}predict(ie){ie=G.default.checkMatrix(ie);for(var ne=Array(ie.rows),oe=0;oe<ie.rows;++oe)ne[oe]=this.root.classify(ie.getRow(oe)).maxRowIndex(0)[1];return ne}toJSON(){return{options:this.options,root:this.root,name:'DTClassifier'}}static load(ie){if('DTClassifier'!==ie.name)throw new RangeError('Invalid model: '+ie.name);return new te(!0,ie)}}I.DecisionTreeClassifier=te},function(R,I,D){'use strict';function E(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(te,ie={}){if(!Array.isArray(te))throw new TypeError('input must be an array');else if(0===te.length)throw new TypeError('input must not be empty');var ne;if(ie.output!==void 0){if(!Array.isArray(ie.output))throw new TypeError('output option must be an array if specified');ne=ie.output}else ne=Array(te.length);var oe=(0,ee.default)(te),ae=(0,Z.default)(te);if(oe===ae)throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');var se=ie.min,le=se===void 0?ie.autoMinMax?oe:0:se,de=ie.max,ue=de===void 0?ie.autoMinMax?ae:1:de;if(le>=ue)throw new RangeError('min option must be smaller than max option');for(var me=0;me<te.length;me++)ne[me]=(te[me]-oe)*((ue-le)/(ae-oe))+le;return ne};var G=D(18),Z=E(G),$=D(56),ee=E($)},function(R,I){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(O){if(!Array.isArray(O))throw new Error('input must be an array');if(0===O.length)throw new Error('input must not be empty');for(var G=O[0],Z=1;Z<O.length;Z++)O[Z]<G&&(G=O[Z]);return G}},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(3),G=function($){return $&&$.__esModule?$:{default:$}}(O);class Z extends G.default{constructor($){super($,$.columns,$.rows)}set($,ee,te){return this.matrix.set(ee,$,te),this}get($,ee){return this.matrix.get(ee,$)}}I.default=Z},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(3),G=function($){return $&&$.__esModule?$:{default:$}}(O);class Z extends G.default{constructor($,ee){super($,1,$.columns),this.row=ee}set($,ee,te){return this.matrix.set(this.row,ee,te),this}get($,ee){return this.matrix.get(this.row,ee)}}I.default=Z},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(6),G=D(3),Z=function(ee){return ee&&ee.__esModule?ee:{default:ee}}(G);class $ extends Z.default{constructor(ee,te,ie,ne,oe){(0,O.checkRange)(ee,te,ie,ne,oe),super(ee,ie-te+1,oe-ne+1),this.startRow=te,this.startColumn=ne}set(ee,te,ie){return this.matrix.set(this.startRow+ee,this.startColumn+te,ie),this}get(ee,te){return this.matrix.get(this.startRow+ee,this.startColumn+te)}}I.default=$},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(6),G=D(3),Z=function(ee){return ee&&ee.__esModule?ee:{default:ee}}(G);class $ extends Z.default{constructor(ee,te,ie){var ne=(0,O.checkIndices)(ee,te,ie);super(ee,ne.row.length,ne.column.length),this.rowIndices=ne.row,this.columnIndices=ne.column}set(ee,te,ie){return this.matrix.set(this.rowIndices[ee],this.columnIndices[te],ie),this}get(ee,te){return this.matrix.get(this.rowIndices[ee],this.columnIndices[te])}}I.default=$},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(6),G=D(3),Z=function(ee){return ee&&ee.__esModule?ee:{default:ee}}(G);class $ extends Z.default{constructor(ee,te){te=(0,O.checkRowIndices)(ee,te),super(ee,te.length,ee.columns),this.rowIndices=te}set(ee,te,ie){return this.matrix.set(this.rowIndices[ee],te,ie),this}get(ee,te){return this.matrix.get(this.rowIndices[ee],te)}}I.default=$},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(6),G=D(3),Z=function(ee){return ee&&ee.__esModule?ee:{default:ee}}(G);class $ extends Z.default{constructor(ee,te){te=(0,O.checkColumnIndices)(ee,te),super(ee,ee.rows,te.length),this.columnIndices=te}set(ee,te,ie){return this.matrix.set(ee,this.columnIndices[te],ie),this}get(ee,te){return this.matrix.get(ee,this.columnIndices[te])}}I.default=$},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(3),G=function($){return $&&$.__esModule?$:{default:$}}(O);class Z extends G.default{constructor($,ee){super($,$.rows,1),this.column=ee}set($,ee,te){return this.matrix.set($,this.column,te),this}get($){return this.matrix.get($,this.column)}}I.default=Z},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(3),G=function($){return $&&$.__esModule?$:{default:$}}(O);class Z extends G.default{constructor($){super($,$.rows,$.columns)}set($,ee,te){return this.matrix.set(this.rows-$-1,ee,te),this}get($,ee){return this.matrix.get(this.rows-$-1,ee)}}I.default=Z},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var O=D(3),G=function($){return $&&$.__esModule?$:{default:$}}(O);class Z extends G.default{constructor($){super($,$.rows,$.columns)}set($,ee,te){return this.matrix.set($,this.columns-ee-1,te),this}get($,ee){return this.matrix.get($,this.columns-ee-1)}}I.default=Z},function(R,I,D){'use strict';function E(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(I,'__esModule',{value:!0}),I.wrap=function(te,ie){if(Array.isArray(te))return te[0]&&Array.isArray(te[0])?new ee.default(te):new Z.default(te,ie);throw new Error('the argument is not an array')};var G=D(19),Z=E(G),$=D(20),ee=E($)},function(R,I,D){'use strict';function E(ae){return ae&&ae.__esModule?ae:{default:ae}}function G(ae,se,le=!1){return ae=oe.WrapperMatrix2D.checkMatrix(ae),se=oe.WrapperMatrix2D.checkMatrix(se),le?new ne.default(ae).solve(se):ae.isSquare()?new $.default(ae).solve(se):new te.default(ae).solve(se)}Object.defineProperty(I,'__esModule',{value:!0}),I.inverse=function(ae,se=!1){return ae=oe.WrapperMatrix2D.checkMatrix(ae),se?new ne.default(ae).inverse():G(ae,oe.Matrix.eye(ae.rows))},I.solve=G;var Z=D(10),$=E(Z),ee=D(21),te=E(ee),ie=D(8),ne=E(ie),oe=D(0)},function(R,I,D){'use strict';function E(ae){return ae&&ae.__esModule?ae:{default:ae}}function O(ae,se){for(var le=[],de=0;de<ae;de++)de!==se&&le.push(de);return le}function G(ae,se,le,de=1e-9,ue=1e-9){if(ae>ue)return Array(se.rows+1).fill(0);for(var ce=se.addRow(le,[0]),me=0;me<ce.rows;me++)Math.abs(ce.get(me,0))<de&&ce.set(me,0,0);return ce.to1DArray()}Object.defineProperty(I,'__esModule',{value:!0}),I.linearDependencies=function(ae,se={}){for(var le=se.thresholdValue,de=le===void 0?1e-9:le,ue=se.thresholdError,ce=ue===void 0?1e-9:ue,me=ae.rows,ge=new ie.default(me,me),pe=0;pe<me;pe++){var he=ie.default.columnVector(ae.getRow(pe)),fe=ae.subMatrixRow(O(me,pe)).transposeView(),xe=new oe.default(fe),ye=xe.solve(he),be=(0,ee.default)(ie.default.sub(he,fe.mmul(ye)).abs().to1DArray());ge.setRow(pe,G(be,ye,pe,de,ce))}return ge};var $=D(18),ee=E($),te=D(5),ie=E(te),ne=D(8),oe=E(ne)},function(R,I,D){'use strict';function E(ne,oe,ae,se){var le,de,ue,ce,me,ge,pe,he;for(me=0;me<ne;me++)ae[me]=se[ne-1][me];for(ce=ne-1;0<ce;ce--){for(he=0,ue=0,ge=0;ge<ce;ge++)he+=Math.abs(ae[ge]);if(0===he)for(oe[ce]=ae[ce-1],me=0;me<ce;me++)ae[me]=se[ce-1][me],se[ce][me]=0,se[me][ce]=0;else{for(ge=0;ge<ce;ge++)ae[ge]/=he,ue+=ae[ge]*ae[ge];for(le=ae[ce-1],de=Math.sqrt(ue),0<le&&(de=-de),oe[ce]=he*de,ue-=le*de,ae[ce-1]=le-de,me=0;me<ce;me++)oe[me]=0;for(me=0;me<ce;me++){for(le=ae[me],se[me][ce]=le,de=oe[me]+se[me][me]*le,ge=me+1;ge<=ce-1;ge++)de+=se[ge][me]*ae[ge],oe[ge]+=se[ge][me]*le;oe[me]=de}for(le=0,me=0;me<ce;me++)oe[me]/=ue,le+=oe[me]*ae[me];for(pe=le/(ue+ue),me=0;me<ce;me++)oe[me]-=pe*ae[me];for(me=0;me<ce;me++){for(le=ae[me],de=oe[me],ge=me;ge<=ce-1;ge++)se[ge][me]-=le*oe[ge]+de*ae[ge];ae[me]=se[ce-1][me],se[ce][me]=0}}ae[ce]=ue}for(ce=0;ce<ne-1;ce++){if(se[ne-1][ce]=se[ce][ce],se[ce][ce]=1,ue=ae[ce+1],0!==ue){for(ge=0;ge<=ce;ge++)ae[ge]=se[ge][ce+1]/ue;for(me=0;me<=ce;me++){for(de=0,ge=0;ge<=ce;ge++)de+=se[ge][ce+1]*se[ge][me];for(ge=0;ge<=ce;ge++)se[ge][me]-=de*ae[ge]}}for(ge=0;ge<=ce;ge++)se[ge][ce+1]=0}for(me=0;me<ne;me++)ae[me]=se[ne-1][me],se[ne-1][me]=0;se[ne-1][ne-1]=1,oe[0]=0}function O(ne,oe,ae,se){var le,de,ue,ce,me,ge,pe,he,fe,xe,ye,be,we,_e,ve,ke,je;for(ue=1;ue<ne;ue++)oe[ue-1]=oe[ue];oe[ne-1]=0;var Me=0,Pe=0,Se=Number.EPSILON;for(ge=0;ge<ne;ge++){for(Pe=Math.max(Pe,Math.abs(ae[ge])+Math.abs(oe[ge])),pe=ge;pe<ne&&!(Math.abs(oe[pe])<=Se*Pe);)pe++;if(pe>ge){je=0;do{for(++je,le=ae[ge],he=(ae[ge+1]-le)/(2*oe[ge]),fe=(0,te.hypotenuse)(he,1),0>he&&(fe=-fe),ae[ge]=oe[ge]/(he+fe),ae[ge+1]=oe[ge]*(he+fe),xe=ae[ge+1],de=le-ae[ge],ue=ge+2;ue<ne;ue++)ae[ue]-=de;for(Me+=de,he=ae[pe],ye=1,be=ye,we=ye,_e=oe[ge+1],ve=0,ke=0,ue=pe-1;ue>=ge;ue--)for(we=be,be=ye,ke=ve,le=ye*oe[ue],de=ye*he,fe=(0,te.hypotenuse)(he,oe[ue]),oe[ue+1]=ve*fe,ve=oe[ue]/fe,ye=he/fe,he=ye*ae[ue]-ve*le,ae[ue+1]=de+ve*(ye*le+ve*ae[ue]),me=0;me<ne;me++)de=se[me][ue+1],se[me][ue+1]=ve*se[me][ue]+ye*de,se[me][ue]=ye*se[me][ue]-ve*de;he=-ve*ke*we*_e*oe[ge]/xe,oe[ge]=ve*he,ae[ge]=ye*he}while(Math.abs(oe[ge])>Se*Pe)}ae[ge]+=Me,oe[ge]=0}for(ue=0;ue<ne-1;ue++){for(me=ue,he=ae[ue],ce=ue+1;ce<ne;ce++)ae[ce]<he&&(me=ce,he=ae[ce]);if(me!==ue)for(ae[me]=ae[ue],ae[ue]=he,ce=0;ce<ne;ce++)he=se[ce][ue],se[ce][ue]=se[ce][me],se[ce][me]=he}}function G(ne,oe,ae,se){var le=0,de=ne-1,ue,ce,me,ge,pe,he,fe;for(he=le+1;he<=de-1;he++){for(fe=0,ge=he;ge<=de;ge++)fe+=Math.abs(oe[ge][he-1]);if(0!==fe){for(me=0,ge=de;ge>=he;ge--)ae[ge]=oe[ge][he-1]/fe,me+=ae[ge]*ae[ge];for(ce=Math.sqrt(me),0<ae[he]&&(ce=-ce),me-=ae[he]*ce,ae[he]-=ce,pe=he;pe<ne;pe++){for(ue=0,ge=de;ge>=he;ge--)ue+=ae[ge]*oe[ge][pe];for(ue/=me,ge=he;ge<=de;ge++)oe[ge][pe]-=ue*ae[ge]}for(ge=0;ge<=de;ge++){for(ue=0,pe=de;pe>=he;pe--)ue+=ae[pe]*oe[ge][pe];for(ue/=me,pe=he;pe<=de;pe++)oe[ge][pe]-=ue*ae[pe]}ae[he]=fe*ae[he],oe[he][he-1]=fe*ce}}for(ge=0;ge<ne;ge++)for(pe=0;pe<ne;pe++)se[ge][pe]=ge===pe?1:0;for(he=de-1;he>=le+1;he--)if(0!==oe[he][he-1]){for(ge=he+1;ge<=de;ge++)ae[ge]=oe[ge][he-1];for(pe=he;pe<=de;pe++){for(ce=0,ge=he;ge<=de;ge++)ce+=ae[ge]*se[ge][pe];for(ce=ce/ae[he]/oe[he][he-1],ge=he;ge<=de;ge++)se[ge][pe]+=ce*ae[ge]}}}function Z(ne,oe,ae,se,le){var de=ne-1,ue=0,ce=ne-1,me=Number.EPSILON,ge=0,pe=0,he=0,fe=0,xe=0,ye=0,be=0,we=0,_e,ve,ke,je,Me,Pe,Se,Re,Ce,Ie,ze,De,Ve,Le,Te;for(_e=0;_e<ne;_e++)for((_e<ue||_e>ce)&&(ae[_e]=le[_e][_e],oe[_e]=0),ve=Math.max(_e-1,0);ve<ne;ve++)pe+=Math.abs(le[_e][ve]);for(;de>=ue;){for(je=de;je>ue&&(ye=Math.abs(le[je-1][je-1])+Math.abs(le[je][je]),0==ye&&(ye=pe),!(Math.abs(le[je][je-1])<me*ye));)je--;if(je===de)le[de][de]+=ge,ae[de]=le[de][de],oe[de]=0,de--,we=0;else if(je===de-1){if(Se=le[de][de-1]*le[de-1][de],he=(le[de-1][de-1]-le[de][de])/2,fe=he*he+Se,be=Math.sqrt(Math.abs(fe)),le[de][de]+=ge,le[de-1][de-1]=le[de-1][de-1]+ge,Re=le[de][de],0<=fe){for(be=0<=he?he+be:he-be,ae[de-1]=Re+be,ae[de]=ae[de-1],0!=be&&(ae[de]=Re-Se/be),oe[de-1]=0,oe[de]=0,Re=le[de][de-1],ye=Math.abs(Re)+Math.abs(be),he=Re/ye,fe=be/ye,xe=Math.sqrt(he*he+fe*fe),he/=xe,fe/=xe,ve=de-1;ve<ne;ve++)be=le[de-1][ve],le[de-1][ve]=fe*be+he*le[de][ve],le[de][ve]=fe*le[de][ve]-he*be;for(_e=0;_e<=de;_e++)be=le[_e][de-1],le[_e][de-1]=fe*be+he*le[_e][de],le[_e][de]=fe*le[_e][de]-he*be;for(_e=ue;_e<=ce;_e++)be=se[_e][de-1],se[_e][de-1]=fe*be+he*se[_e][de],se[_e][de]=fe*se[_e][de]-he*be}else ae[de-1]=Re+he,ae[de]=Re+he,oe[de-1]=be,oe[de]=-be;de-=2,we=0}else{if(Re=le[de][de],Ce=0,Se=0,je<de&&(Ce=le[de-1][de-1],Se=le[de][de-1]*le[de-1][de]),10==we){for(ge+=Re,_e=ue;_e<=de;_e++)le[_e][_e]-=Re;ye=Math.abs(le[de][de-1])+Math.abs(le[de-1][de-2]),Re=Ce=0.75*ye,Se=-0.4375*ye*ye}if(30==we&&(ye=(Ce-Re)/2,ye=ye*ye+Se,0<ye)){for(ye=Math.sqrt(ye),Ce<Re&&(ye=-ye),ye=Re-Se/((Ce-Re)/2+ye),_e=ue;_e<=de;_e++)le[_e][_e]-=ye;ge+=ye,Re=Ce=Se=0.964}for(++we,Me=de-2;Me>=je&&(be=le[Me][Me],xe=Re-be,ye=Ce-be,he=(xe*ye-Se)/le[Me+1][Me]+le[Me][Me+1],fe=le[Me+1][Me+1]-be-xe-ye,xe=le[Me+2][Me+1],ye=Math.abs(he)+Math.abs(fe)+Math.abs(xe),he/=ye,fe/=ye,xe/=ye,Me!=je)&&!(Math.abs(le[Me][Me-1])*(Math.abs(fe)+Math.abs(xe))<me*(Math.abs(he)*(Math.abs(le[Me-1][Me-1])+Math.abs(be)+Math.abs(le[Me+1][Me+1]))));)Me--;for(_e=Me+2;_e<=de;_e++)le[_e][_e-2]=0,_e>Me+2&&(le[_e][_e-3]=0);for(ke=Me;ke<=de-1&&(Le=ke!==de-1,ke!=Me&&(he=le[ke][ke-1],fe=le[ke+1][ke-1],xe=Le?le[ke+2][ke-1]:0,Re=Math.abs(he)+Math.abs(fe)+Math.abs(xe),0!==Re&&(he/=Re,fe/=Re,xe/=Re)),0!==Re);ke++)if(ye=Math.sqrt(he*he+fe*fe+xe*xe),0>he&&(ye=-ye),0!==ye){for(ke==Me?je!==Me&&(le[ke][ke-1]=-le[ke][ke-1]):le[ke][ke-1]=-ye*Re,he+=ye,Re=he/ye,Ce=fe/ye,be=xe/ye,fe/=he,xe/=he,ve=ke;ve<ne;ve++)he=le[ke][ve]+fe*le[ke+1][ve],Le&&(he+=xe*le[ke+2][ve],le[ke+2][ve]=le[ke+2][ve]-he*be),le[ke][ve]-=he*Re,le[ke+1][ve]=le[ke+1][ve]-he*Ce;for(_e=0;_e<=Math.min(de,ke+3);_e++)he=Re*le[_e][ke]+Ce*le[_e][ke+1],Le&&(he+=be*le[_e][ke+2],le[_e][ke+2]=le[_e][ke+2]-he*xe),le[_e][ke]-=he,le[_e][ke+1]=le[_e][ke+1]-he*fe;for(_e=ue;_e<=ce;_e++)he=Re*se[_e][ke]+Ce*se[_e][ke+1],Le&&(he+=be*se[_e][ke+2],se[_e][ke+2]=se[_e][ke+2]-he*xe),se[_e][ke]-=he,se[_e][ke+1]=se[_e][ke+1]-he*fe}}}if(0!==pe){for(de=ne-1;0<=de;de--)if(he=ae[de],fe=oe[de],0===fe)for(je=de,le[de][de]=1,_e=de-1;0<=_e;_e--){for(Se=le[_e][_e]-he,xe=0,ve=je;ve<=de;ve++)xe+=le[_e][ve]*le[ve][de];if(0>oe[_e])be=Se,ye=xe;else if(je=_e,0===oe[_e]?le[_e][de]=0===Se?-xe/(me*pe):-xe/Se:(Re=le[_e][_e+1],Ce=le[_e+1][_e],fe=(ae[_e]-he)*(ae[_e]-he)+oe[_e]*oe[_e],Pe=(Re*ye-be*xe)/fe,le[_e][de]=Pe,le[_e+1][de]=Math.abs(Re)>Math.abs(be)?(-xe-Se*Pe)/Re:(-ye-Ce*Pe)/be),Pe=Math.abs(le[_e][de]),1<me*Pe*Pe)for(ve=_e;ve<=de;ve++)le[ve][de]/=Pe}else if(0>fe)for(je=de-1,Math.abs(le[de][de-1])>Math.abs(le[de-1][de])?(le[de-1][de-1]=fe/le[de][de-1],le[de-1][de]=-(le[de][de]-he)/le[de][de-1]):(Te=$(0,-le[de-1][de],le[de-1][de-1]-he,fe),le[de-1][de-1]=Te[0],le[de-1][de]=Te[1]),le[de][de-1]=0,le[de][de]=1,_e=de-2;0<=_e;_e--){for(Ie=0,ze=0,ve=je;ve<=de;ve++)Ie+=le[_e][ve]*le[ve][de-1],ze+=le[_e][ve]*le[ve][de];if(Se=le[_e][_e]-he,0>oe[_e])be=Se,xe=Ie,ye=ze;else if(je=_e,0===oe[_e]?(Te=$(-Ie,-ze,Se,fe),le[_e][de-1]=Te[0],le[_e][de]=Te[1]):(Re=le[_e][_e+1],Ce=le[_e+1][_e],De=(ae[_e]-he)*(ae[_e]-he)+oe[_e]*oe[_e]-fe*fe,Ve=2*(ae[_e]-he)*fe,0===De&&0===Ve&&(De=me*pe*(Math.abs(Se)+Math.abs(fe)+Math.abs(Re)+Math.abs(Ce)+Math.abs(be))),Te=$(Re*xe-be*Ie+fe*ze,Re*ye-be*ze-fe*Ie,De,Ve),le[_e][de-1]=Te[0],le[_e][de]=Te[1],Math.abs(Re)>Math.abs(be)+Math.abs(fe)?(le[_e+1][de-1]=(-Ie-Se*le[_e][de-1]+fe*le[_e][de])/Re,le[_e+1][de]=(-ze-Se*le[_e][de]-fe*le[_e][de-1])/Re):(Te=$(-xe-Ce*le[_e][de-1],-ye-Ce*le[_e][de],be,fe),le[_e+1][de-1]=Te[0],le[_e+1][de]=Te[1])),Pe=Math.max(Math.abs(le[_e][de-1]),Math.abs(le[_e][de])),1<me*Pe*Pe)for(ve=_e;ve<=de;ve++)le[ve][de-1]=le[ve][de-1]/Pe,le[ve][de]/=Pe}for(_e=0;_e<ne;_e++)if(_e<ue||_e>ce)for(ve=_e;ve<ne;ve++)se[_e][ve]=le[_e][ve];for(ve=ne-1;ve>=ue;ve--)for(_e=ue;_e<=ce;_e++){for(be=0,ke=ue;ke<=Math.min(ve,ce);ke++)be+=se[_e][ke]*le[ke][ve];se[_e][ve]=be}}}function $(ne,oe,ae,se){var le,de;return Math.abs(ae)>Math.abs(se)?(le=se/ae,de=ae+le*se,[(ne+le*oe)/de,(oe-le*ne)/de]):(le=ae/se,de=se+le*ae,[(le*ne+oe)/de,(le*oe-ne)/de])}Object.defineProperty(I,'__esModule',{value:!0});var ee=D(0),te=D(11);class ie{constructor(ne,oe={}){var ae=oe.assumeSymmetric;if(ne=ee.WrapperMatrix2D.checkMatrix(ne),!ne.isSquare())throw new Error('Matrix is not a square matrix');var le=ne.columns,de=(0,te.getFilled2DArray)(le,le,0),ue=Array(le),ce=Array(le),me=ne,he=!1,ge,pe;if(he=!!(void 0!==ae&&ae)||ne.isSymmetric(),he){for(ge=0;ge<le;ge++)for(pe=0;pe<le;pe++)de[ge][pe]=me.get(ge,pe);E(le,ce,ue,de),O(le,ce,ue,de)}else{var fe=(0,te.getFilled2DArray)(le,le,0),xe=Array(le);for(pe=0;pe<le;pe++)for(ge=0;ge<le;ge++)fe[ge][pe]=me.get(ge,pe);G(le,fe,xe,de),Z(le,ce,ue,de,fe)}this.n=le,this.e=ce,this.d=ue,this.V=de}get realEigenvalues(){return this.d}get imaginaryEigenvalues(){return this.e}get eigenvectorMatrix(){return ee.Matrix.isMatrix(this.V)||(this.V=new ee.Matrix(this.V)),this.V}get diagonalMatrix(){var ne=this.n,oe=this.e,ae=this.d,se=new ee.Matrix(ne,ne),le,de;for(le=0;le<ne;le++){for(de=0;de<ne;de++)se[le][de]=0;se[le][le]=ae[le],0<oe[le]?se[le][le+1]=oe[le]:0>oe[le]&&(se[le][le-1]=oe[le])}return se}}I.default=ie},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(0);class O{constructor(G){if(G=E.WrapperMatrix2D.checkMatrix(G),!G.isSymmetric())throw new Error('Matrix is not symmetric');var Z=G,$=Z.rows,ee=new E.Matrix($,$),te=!0,ie,ne,oe;for(ne=0;ne<$;ne++){var ae=ee[ne],se=0;for(oe=0;oe<ne;oe++){var le=ee[oe],de=0;for(ie=0;ie<oe;ie++)de+=le[ie]*ae[ie];ae[oe]=de=(Z.get(ne,oe)-de)/ee[oe][oe],se+=de*de}for(se=Z.get(ne,ne)-se,te&=0<se,ee[ne][ne]=Math.sqrt(Math.max(se,0)),oe=ne+1;oe<$;oe++)ee[ne][oe]=0}if(!te)throw new Error('Matrix is not positive definite');this.L=ee}solve(G){G=E.WrapperMatrix2D.checkMatrix(G);var Z=this.L,$=Z.rows;if(G.rows!==$)throw new Error('Matrix dimensions do not match');var ee=G.columns,te=G.clone(),ie,ne,oe;for(oe=0;oe<$;oe++)for(ne=0;ne<ee;ne++){for(ie=0;ie<oe;ie++)te[oe][ne]-=te[ie][ne]*Z[oe][ie];te[oe][ne]/=Z[oe][oe]}for(oe=$-1;0<=oe;oe--)for(ne=0;ne<ee;ne++){for(ie=oe+1;ie<$;ie++)te[oe][ne]-=te[ie][ne]*Z[ie][oe];te[oe][ne]/=Z[oe][oe]}return te}get lowerTriangularMatrix(){return this.L}}I.default=O},function(R,I,D){'use strict';function E(ue){return ue&&ue.__esModule?ue:{default:ue}}function O(ue,ce){for(var me=Array(ce).fill(0),ge=0;ge<ue.length;++ge)me[ue[ge]]+=1/ue.length;return se.default.rowVector(me)}function G(ue){if(0===ue.length)return 0;for(var ce=O(ue,Z(ue))[0],me=0,ge=0;ge<ce.length;++ge)me+=ce[ge]*ce[ge];return 1-me}function Z(ue){return ue.filter(function(ce,me,ge){return ge.indexOf(ce)===me}).length}function ee(ue){for(var ce=ue.length,me=(0,de.default)(ue),ge=0,pe=0,he;pe<ce;++pe)he=ue[pe],ge+=(he-me)*(he-me);return ge}Object.defineProperty(I,'__esModule',{value:!0}),I.toDiscreteDistribution=O,I.giniImpurity=G,I.getNumberOfClasses=Z,I.giniGain=function(ue,ce){for(var me=0,ge=['greater','lesser'],pe=0,he;pe<ge.length;++pe)he=ce[ge[pe]],me+=G(he)*he.length/ue.length;return G(ue)-me},I.squaredError=ee,I.regressionError=function(ue,ce){for(var me=0,ge=['greater','lesser'],pe=0,he;pe<ge.length;++pe)he=ce[ge[pe]],me+=ee(he);return me},I.matrixSplitter=function(ue,ce,me,ge){for(var pe=[],he=[],fe=[],xe=[],ye=0;ye<ue.rows;++ye)ue[ye][me]<ge?(pe.push(ue[ye]),fe.push(ce[ye])):(he.push(ue[ye]),xe.push(ce[ye]));return{greaterX:he,greaterY:xe,lesserX:pe,lesserY:fe}},I.mean=function(ue,ce){return(ue+ce)/2},I.zip=function(ue,ce){if(ue.length!==ce.length)throw new TypeError('Error on zip: the size of a: '+ue.length+' is different from b: '+ce.length);for(var me=Array(ue.length),ge=0;ge<ue.length;++ge)me[ge]=[ue[ge],ce[ge]];return me};var ae=D(0),se=E(ae),le=D(12),de=E(le)},function(R,I,D){'use strict';function E(ie){return ie&&ie.__esModule?ie:{default:ie}}Object.defineProperty(I,'__esModule',{value:!0}),I.DecisionTreeRegression=void 0;var O=D(0),G=E(O),Z=D(22),$=E(Z),ee={gainFunction:'regression',splitFunction:'mean',minNumSamples:3,maxDepth:Infinity};class te{constructor(ie,ne){!0===ie?(this.options=ne.options,this.root=new $.default(ne.options),this.root.setNodeParameters(ne.root)):(this.options=Object.assign({},ee,ie),this.options.kind='regression')}train(ie,ne){this.root=new $.default(this.options),ie[0].length===void 0&&(ie=G.default.columnVector(ie)),ie=G.default.checkMatrix(ie),this.root.train(ie,ne,0)}predict(ie){ie[0]!==void 0&&ie[0].length===void 0&&(ie=G.default.columnVector(ie)),ie=G.default.checkMatrix(ie);for(var ne=Array(ie.rows),oe=0;oe<ie.rows;++oe)ne[oe]=this.root.classify(ie.getRow(oe));return ne}toJSON(){return{options:this.options,root:this.root,name:'DTRegression'}}static load(ie){if('DTRegression'!==ie.name)throw new RangeError('Invalid model:'+ie.name);return new te(!0,ie)}}I.DecisionTreeRegression=te},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(74);Object.defineProperty(I,'RandomForestClassifier',{enumerable:!0,get:function(){return E.RandomForestClassifier}});var O=D(77);Object.defineProperty(I,'RandomForestRegression',{enumerable:!0,get:function(){return O.RandomForestRegression}})},function(R,I,D){'use strict';function E($){return $.sort((ee,te)=>$.filter(ie=>ie===ee).length-$.filter(ie=>ie===te).length).pop()}Object.defineProperty(I,'__esModule',{value:!0}),I.RandomForestClassifier=void 0;var O=D(23),G={maxFeatures:1,replacement:!0,nEstimators:10,seed:42,useSampleBagging:!1};class Z extends O.RandomForestBase{constructor($,ee){!0===$?super(!0,ee.baseModel):($=Object.assign({},G,$),$.isClassifier=!0,super($))}selection($){return E($)}toJSON(){var $=super.toJSON();return{baseModel:$,name:'RFClassifier'}}static load($){if('RFClassifier'!==$.name)throw new RangeError(`Invalid model: ${$.name}`);return new Z(!0,$)}}I.RandomForestClassifier=Z},function(R,I,D){'use strict';function E(ne){return ne&&ne.__esModule?ne:{default:ne}}Object.defineProperty(I,'__esModule',{value:!0}),I.checkFloat=function(ne){return 0<ne&&1>=ne},I.examplesBaggingWithReplacement=function(ne,oe,ae){var se=ee.default.engines.mt19937(),le=ee.default.integer(0,ne.rows-1);if(ae===void 0)se=se.autoSeed();else if(Number.isInteger(ae))se=se.seed(ae);else throw new RangeError(`Expected seed must be undefined or integer not ${ae}`);for(var de=Array(ne.rows),ue=Array(ne.rows),ce=0,me;ce<ne.rows;++ce)me=le(se),de[ce]=ne[me],ue[ce]=oe[me];return{X:new ie.default(de),y:ue}},I.featureBagging=function(ne,oe,ae,se){if(ne.columns<oe)throw new RangeError('N should be less or equal to the number of columns of X');var le=ee.default.integer(0,ne.columns-1),de=ee.default.engines.mt19937();if(se===void 0)de=de.autoSeed();else if(Number.isInteger(se))de=de.seed(se);else throw new RangeError(`Expected seed must be undefined or integer not ${se}`);var ue=new ie.default(ne.rows,oe);if(ae)for(var ce=Array(oe),me=0,ge;me<oe;++me)ge=le(de),ce[me]=ge,ue.setColumn(me,ne.getColumn(ge));else{for(ce=new Set,ge=le(de),me=0;me<oe;++me){for(;ce.has(ge);)ge=le(de);ue.setColumn(me,ne.getColumn(ge)),ce.add(ge)}ce=Array.from(ce)}return{X:ue,usedIndex:ce}};var $=D(76),ee=E($),te=D(0),ie=E(te)},function(R,I,D){'use strict';var E;(function(O){'use strict';function G(de){if(!(this instanceof G))return new G(de);if(null==de)de=G.engines.nativeMath;else if('function'!=typeof de)throw new TypeError('Expected engine to be a function, got '+typeof de);this.engine=de}function Z(de){return function(){return de}}function $(de,ue){return 0===ue?de:function(ce){return de(ce)+ue}}function ee(de){var ue=+de;return 0>ue?Math.ceil(ue):Math.floor(ue)}function te(de,ue){return 0>de?Math.max(de+ue,0):Math.min(de,ue)}function ie(){}var ne='Random',oe='function'!=typeof Math.imul||-5!==Math.imul(4294967295,5)?function(de,ue){var me=65535&de,pe=65535&ue;return 0|me*pe+((65535&de>>>16)*pe+me*(65535&ue>>>16)<<16>>>0)}:Math.imul,ae='function'==typeof String.prototype.repeat&&'xxx'==='x'.repeat(3)?function(de,ue){return de.repeat(ue)}:function(de,ue){for(var ce='';0<ue;)1&ue&&(ce+=de),ue>>=1,de+=de;return ce},se=G.prototype;G.engines={nativeMath:function(){return 0|4294967296*Math.random()},mt19937:function(de){function ue(pe){for(var he=0,fe=0;227>(0|he);he=0|he+1)fe=2147483648&pe[he]|2147483647&pe[0|he+1],pe[he]=pe[0|he+397]^fe>>>1^(1&fe?2567483615:0);for(;623>(0|he);he=0|he+1)fe=2147483648&pe[he]|2147483647&pe[0|he+1],pe[he]=pe[0|he-227]^fe>>>1^(1&fe?2567483615:0);fe=2147483648&pe[623]|2147483647&pe[0],pe[623]=pe[396]^fe>>>1^(1&fe?2567483615:0)}function ce(pe){return pe^=pe>>>11,pe^=2636928640&pe<<7,pe^=4022730752&pe<<15,pe^pe>>>18}function me(pe,he){for(var fe=1,xe=0,ye=he.length,be=0|Math.max(ye,624),we=0|pe[0];0<(0|be);--be)pe[fe]=we=0|(pe[fe]^oe(we^we>>>30,1664525))+(0|he[xe])+(0|xe),fe=0|fe+1,++xe,623<(0|fe)&&(pe[0]=pe[623],fe=1),xe>=ye&&(xe=0);for(be=623;0<(0|be);--be)pe[fe]=we=0|(pe[fe]^oe(we^we>>>30,1566083941))-fe,fe=0|fe+1,623<(0|fe)&&(pe[0]=pe[623],fe=1);pe[0]=2147483648}return function(){function pe(){624<=(0|fe)&&(ue(he),fe=0);var ye=he[fe];return fe=0|fe+1,xe+=1,0|ce(ye)}var he=new de(624),fe=0,xe=0;return pe.getUseCount=function(){return xe},pe.discard=function(ye){for(xe+=ye,624<=(0|fe)&&(ue(he),fe=0);624<ye-fe;)ye-=624-fe,ue(he),fe=0;return fe=0|fe+ye,pe},pe.seed=function(ye){var be=0;he[0]=be=0|ye;for(var we=1;624>we;we=0|we+1)he[we]=be=0|oe(be^be>>>30,1812433253)+we;return fe=624,xe=0,pe},pe.seedWithArray=function(ye){return pe.seed(19650218),me(he,ye),pe},pe.autoSeed=function(){return pe.seedWithArray(G.generateEntropyArray())},pe}}('function'==typeof Int32Array?Int32Array:Array),browserCrypto:'undefined'!=typeof crypto&&'function'==typeof crypto.getRandomValues&&'function'==typeof Int32Array?function(){var de=null,ue=128;return function(){return 128<=ue&&(null==de&&(de=new Int32Array(128)),crypto.getRandomValues(de),ue=0),0|de[ue++]}}():null},G.generateEntropyArray=function(){for(var de=[],ue=G.engines.nativeMath,ce=0;16>ce;++ce)de[ce]=0|ue();return de.push(0|new Date().getTime()),de},G.int32=function(de){return 0|de()},se.int32=function(){return G.int32(this.engine)},G.uint32=function(de){return de()>>>0},se.uint32=function(){return G.uint32(this.engine)},G.uint53=function(de){var ue=2097151&de(),ce=de()>>>0;return 4294967296*ue+ce},se.uint53=function(){return G.uint53(this.engine)},G.uint53Full=function(de){for(;;){var ue=0|de();if(!(2097152&ue)){var ce=de()>>>0;return 4294967296*(2097151&ue)+ce}else if(2097152==(4194303&ue)&&0==(0|de()))return 9007199254740992}},se.uint53Full=function(){return G.uint53Full(this.engine)},G.int53=function(de){var ue=0|de(),ce=de()>>>0;return 4294967296*(2097151&ue)+ce+(2097152&ue?-9007199254740992:0)},se.int53=function(){return G.int53(this.engine)},G.int53Full=function(de){for(;;){var ue=0|de();if(!(4194304&ue)){var ce=de()>>>0;return 4294967296*(2097151&ue)+ce+(2097152&ue?-9007199254740992:0)}else if(4194304==(8388607&ue)&&0==(0|de()))return 9007199254740992}},se.int53Full=function(){return G.int53Full(this.engine)},G.integer=function(){function de(ye){return 0==(ye+1&ye)}function ue(ye){return function(be){return be()&ye}}function ce(ye){var be=ye+1,we=be*Math.floor(4294967296/be);return function(_e){var ve=0;do ve=_e()>>>0;while(ve>=we);return ve%be}}function me(ye){return de(ye)?ue(ye):ce(ye)}function ge(ye){return 0==(0|ye)}function pe(ye){return function(be){var we=be()&ye,_e=be()>>>0;return 4294967296*we+_e}}function he(ye){var be=ye*Math.floor(9007199254740992/ye);return function(we){var _e=0;do{var ve=2097151&we(),ke=we()>>>0;_e=4294967296*ve+ke}while(_e>=be);return _e%ye}}function fe(ye){var be=ye+1;if(ge(be)){var we=(0|be/4294967296)-1;if(de(we))return pe(we)}return he(be)}function xe(ye,be){return function(we){var _e=0;do{var ve=0|we(),ke=we()>>>0;_e=4294967296*(2097151&ve)+ke+(2097152&ve?-9007199254740992:0)}while(_e<ye||_e>be);return _e}}return function(ye,be){if(ye=Math.floor(ye),be=Math.floor(be),-9007199254740992>ye||!isFinite(ye))throw new RangeError('Expected min to be at least -9007199254740992');else if(9007199254740992<be||!isFinite(be))throw new RangeError('Expected max to be at most 9007199254740992');var we=be-ye;return 0>=we||!isFinite(we)?Z(ye):4294967295==we?0===ye?G.uint32:$(G.int32,ye+2147483648):4294967295>we?$(me(we),ye):9007199254740991==we?$(G.uint53,ye):9007199254740991>we?$(fe(we),ye):9007199254740991==be-1-ye?$(G.uint53Full,ye):-9007199254740992===ye&&9007199254740992===be?G.int53Full:-9007199254740992===ye&&9007199254740991===be?G.int53:-9007199254740991===ye&&9007199254740992===be?$(G.int53,1):9007199254740992===be?$(xe(ye-1,be-1),1):xe(ye,be)}}(),se.integer=function(de,ue){return G.integer(de,ue)(this.engine)},G.realZeroToOneInclusive=function(de){return G.uint53Full(de)/9007199254740992},se.realZeroToOneInclusive=function(){return G.realZeroToOneInclusive(this.engine)},G.realZeroToOneExclusive=function(de){return G.uint53(de)/9007199254740992},se.realZeroToOneExclusive=function(){return G.realZeroToOneExclusive(this.engine)},G.real=function(){function de(ue,ce){return 1===ce?ue:0===ce?function(){return 0}:function(me){return ue(me)*ce}}return function(ue,ce,me){if(!isFinite(ue))throw new RangeError('Expected left to be a finite number');else if(!isFinite(ce))throw new RangeError('Expected right to be a finite number');return $(de(me?G.realZeroToOneInclusive:G.realZeroToOneExclusive,ce-ue),ue)}}(),se.real=function(de,ue,ce){return G.real(de,ue,ce)(this.engine)},G.bool=function(){function de(me){return 1==(1&me())}function ue(me,ge){return function(pe){return me(pe)<ge}}function ce(me){if(0>=me)return Z(!1);if(1<=me)return Z(!0);var ge=4294967296*me;return 0==ge%1?ue(G.int32,0|ge-2147483648):ue(G.uint53,Math.round(9007199254740992*me))}return function(me,ge){if(null==ge)return null==me?de:ce(me);return 0>=me?Z(!1):me>=ge?Z(!0):ue(G.integer(0,ge-1),me)}}(),se.bool=function(de,ue){return G.bool(de,ue)(this.engine)},G.pick=function(de,ue,ce,me){var ge=ue.length,pe=null==ce?0:te(ee(ce),ge),he=void 0===me?ge:te(ee(me),ge);if(!(pe>=he)){var fe=G.integer(pe,he-1);return ue[fe(de)]}},se.pick=function(de,ue,ce){return G.pick(this.engine,de,ue,ce)};var le=Array.prototype.slice;G.picker=function(de,ue,ce){var me=le.call(de,ue,ce);if(!me.length)return ie;var ge=G.integer(0,me.length-1);return function(pe){return me[ge(pe)]}},G.shuffle=function(de,ue,ce){var me=ue.length;if(me){null==ce&&(ce=0);for(var ge=me-1>>>0;ge>ce;--ge){var pe=G.integer(0,ge),he=pe(de);if(ge!==he){var fe=ue[ge];ue[ge]=ue[he],ue[he]=fe}}}return ue},se.shuffle=function(de){return G.shuffle(this.engine,de)},G.sample=function(de,ue,ce){if(0>ce||ce>ue.length||!isFinite(ce))throw new RangeError('Expected sampleSize to be within 0 and the length of the population');if(0===ce)return[];var me=le.call(ue),ge=me.length;if(ge===ce)return G.shuffle(de,me,0);var pe=ge-ce;return G.shuffle(de,me,pe-1).slice(pe)},se.sample=function(de,ue){return G.sample(this.engine,de,ue)},G.die=function(de){return G.integer(1,de)},se.die=function(de){return G.die(de)(this.engine)},G.dice=function(de,ue){var ce=G.die(de);return function(me){var ge=[];ge.length=ue;for(var pe=0;pe<ue;++pe)ge[pe]=ce(me);return ge}},se.dice=function(de,ue){return G.dice(de,ue)(this.engine)},G.uuid4=function(){function de(ue,ce){return ae('0',ce-ue.length)+ue}return function(ue){var ce=ue()>>>0,me=0|ue(),ge=0|ue(),pe=ue()>>>0;return de(ce.toString(16),8)+'-'+de((65535&me).toString(16),4)+'-'+de((16384|4095&me>>4).toString(16),4)+'-'+de((32768|16383&ge).toString(16),4)+'-'+de((65535&ge>>4).toString(16),4)+de(pe.toString(16),8)}}(),se.uuid4=function(){return G.uuid4(this.engine)},G.string=function(){return function(ue){null==ue&&(ue='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-');var ce=ue.length;if(!ce)throw new Error('Expected pool not to be an empty string');var me=G.integer(0,ce-1);return function(ge,pe){for(var he='',fe=0,xe;fe<pe;++fe)xe=me(ge),he+=ue.charAt(xe);return he}}}(),se.string=function(de,ue){return G.string(ue)(this.engine,de)},G.hex=function(){var de='0123456789abcdef',ue=G.string(de),ce=G.string(de.toUpperCase());return function(me){return me?ce:ue}}(),se.hex=function(de,ue){return G.hex(ue)(this.engine,de)},G.date=function(de,ue){if(!(de instanceof Date))throw new TypeError('Expected start to be a Date, got '+typeof de);else if(!(ue instanceof Date))throw new TypeError('Expected end to be a Date, got '+typeof ue);var ce=G.integer(de.getTime(),ue.getTime());return function(me){return new Date(ce(me))}},se.date=function(de,ue){return G.date(de,ue)(this.engine)},(E=function(){return G}.call(I,D,I,R),!(E!==void 0&&(R.exports=E)))})(void 0)},function(R,I,D){'use strict';function E(oe){return oe&&oe.__esModule?oe:{default:oe}}Object.defineProperty(I,'__esModule',{value:!0}),I.RandomForestRegression=void 0;var O=D(12),G=E(O),Z=D(78),$=E(Z),ee=D(23),te={mean:G.default,median:$.default},ie={maxFeatures:1,replacement:!1,nEstimators:10,treeOptions:{},selectionMethod:'mean',seed:42,useSampleBagging:!1};class ne extends ee.RandomForestBase{constructor(oe,ae){if(!0===oe)super(!0,ae.baseModel),this.selectionMethod=ae.selectionMethod;else{if(oe=Object.assign({},ie,oe),'mean'!==oe.selectionMethod&&'median'!==oe.selectionMethod)throw new RangeError(`Unsupported selection method ${oe.selectionMethod}`);oe.isClassifier=!1,super(oe),this.selectionMethod=oe.selectionMethod}}selection(oe){return te[this.selectionMethod](oe)}toJSON(){var oe=super.toJSON();return{baseModel:oe,selectionMethod:this.selectionMethod,name:'RFRegression'}}static load(oe){if('RFRegression'!==oe.name)throw new RangeError(`Invalid model: ${oe.name}`);return new ne(!0,oe)}}I.RandomForestRegression=ne},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.default=function($){if(!Array.isArray($))throw new Error('input must be an array');if(0===$.length)throw new Error('input must not be empty');return(0,Z.default)($.slice())};var G=D(79),Z=function($){return $&&$.__esModule?$:{default:$}}(G)},function(R){'use strict';(function(){function E(Z){for(var $=0,ee=Z.length-1,te=void 0,ie=void 0,ne=void 0,oe=G($,ee);;){if(ee<=$)return Z[oe];if(ee==$+1)return Z[$]>Z[ee]&&O(Z,$,ee),Z[oe];for(te=G($,ee),Z[te]>Z[ee]&&O(Z,te,ee),Z[$]>Z[ee]&&O(Z,$,ee),Z[te]>Z[$]&&O(Z,te,$),O(Z,te,$+1),ie=$+1,ne=ee;;){do ie++;while(Z[$]>Z[ie]);do ne--;while(Z[ne]>Z[$]);if(ne<ie)break;O(Z,ie,ne)}O(Z,$,ne),ne<=oe&&($=ie),ne>=oe&&(ee=ne-1)}}var O=function(Z,$,ee){var te;return te=[Z[ee],Z[$]],Z[$]=te[0],Z[ee]=te[1],te},G=function(Z,$){return~~((Z+$)/2)};'undefined'!=typeof R&&R.exports?R.exports=E:window.median=E})()},function(R,I,D){'use strict';var E=D(0),O=E.Matrix,G=E.EVD,Z=E.SVD,$=D(9),ee=$.mean,te=$.standardDeviation,ie={isCovarianceMatrix:!1,center:!0,scale:!1};class ne{constructor(oe,ae){if(!0===oe){var se=ae;return this.center=se.center,this.scale=se.scale,this.means=se.means,this.stdevs=se.stdevs,this.U=O.checkMatrix(se.U),void(this.S=se.S)}if(ae=Object.assign({},ie,ae),this.center=!1,this.scale=!1,this.means=null,this.stdevs=null,ae.isCovarianceMatrix)return void this._computeFromCovarianceMatrix(oe);var le;if(le='boolean'==typeof ae.useCovarianceMatrix?ae.useCovarianceMatrix:oe.length>oe[0].length,le){oe=this._adjust(oe,ae);var de=oe.transposeView().mmul(oe).div(oe.rows-1);this._computeFromCovarianceMatrix(de)}else{oe=this._adjust(oe,ae);var ue=new Z(oe,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=ue.rightSingularVectors;for(var ce=ue.diagonal,me=Array(ce.length),ge=0;ge<ce.length;ge++)me[ge]=ce[ge]*ce[ge]/(oe.length-1);this.S=me}}static load(oe){if('PCA'!==oe.name)throw new RangeError('Invalid model: '+oe.name);return new ne(!0,oe)}predict(oe,ae={}){var se=ae.nComponents,le=se===void 0?this.U.columns:se;oe=new O(oe),this.center&&(oe.subRowVector(this.means),this.scale&&oe.divRowVector(this.stdevs));var de=oe.mmul(this.U);return de.subMatrix(0,de.rows-1,0,le-1)}getExplainedVariance(){for(var oe=0,ae=0;ae<this.S.length;ae++)oe+=this.S[ae];return this.S.map(se=>se/oe)}getCumulativeVariance(){for(var oe=this.getExplainedVariance(),ae=1;ae<oe.length;ae++)oe[ae]+=oe[ae-1];return oe}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map(oe=>Math.sqrt(oe))}getLoadings(){return this.U.transpose()}toJSON(){return{name:'PCA',center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S}}_adjust(oe,ae){if(this.center=!!ae.center,this.scale=!!ae.scale,oe=new O(oe),this.center){var se=ee(oe),le=this.scale?te(oe,se,!0):null;if(this.means=se,oe.subRowVector(se),this.scale){for(var de=0;de<le.length;de++)if(0===le[de])throw new RangeError('Cannot scale the dataset (standard deviation is zero at index '+de);this.stdevs=le,oe.divRowVector(le)}}return oe}_computeFromCovarianceMatrix(oe){var ae=new G(oe,{assumeSymmetric:!0});this.U=ae.eigenvectorMatrix;for(var se=0;se<this.U.length;se++)this.U[se].reverse();this.S=ae.realEigenvalues.reverse()}}R.exports=ne},function(R,I,D){'use strict';I.agnes=D(82),I.diana=D(90)},function(R,I,D){'use strict';function E(de,ue,ce){for(var me=1e101,ge=0;ge<de.length;ge++)for(var pe=0,he;pe<ue.length;pe++)he=ce[de[ge]][ue[pe]],me=Math.min(he,me);return me}function O(de,ue,ce){for(var me=-1,ge=0;ge<de.length;ge++)for(var pe=0,he;pe<ue.length;pe++)he=ce[de[ge]][ue[pe]],me=Math.max(he,me);return me}function G(de,ue,ce){for(var me=0,ge=0;ge<de.length;ge++)for(var pe=0;pe<ue.length;pe++)me+=ce[de[ge]][ue[pe]];return me/(de.length*ue.length)}function Z(de,ue,ce){for(var me=Array(de.length*ue.length),ge=0;ge<de.length;ge++)for(var pe=0;pe<ue.length;pe++)me[ge*ue.length+pe]=ce[de[ge]][ue[pe]];return te(me)}function $(de,ue,ce){return Z(de,ue,ce)*de.length*ue.length/(de.length+ue.length)}function ee(de,ue){return de-ue}function te(de,ue){ue===void 0&&(ue=!1),ue||(de=[].concat(de).sort(ee));var ce=de.length,me=Math.floor(ce/2);return 0==ce%2?0.5*(de[me-1]+de[me]):de[me]}var ne=D(1),oe=D(25),ae=D(13),se=D(26),le={disFunc:ne,kind:'single',isDistanceMatrix:!1};R.exports=function(de,ue){ue=Object.assign({},le,ue);var ce=de.length,me=de;if(ue.isDistanceMatrix||(me=se(de,ue.disFunc)),'string'==typeof ue.kind)switch(ue.kind){case'single':ue.kind=E;break;case'complete':ue.kind=O;break;case'average':ue.kind=G;break;case'centroid':ue.kind=Z;break;case'ward':ue.kind=$;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof ue.kind)throw new TypeError('Undefined kind of similarity');for(var ge=Array(ce),pe=0;pe<me.length;pe++)ge[pe]=new oe(pe);for(var he=1e6,fe={},xe=0;1<ge.length;){fe={},he=1e6;for(var ye=0;ye<ge.length;ye++)for(var be=ye+1;be<ge.length;be++){var we,_e;if(ge[ye]instanceof oe)we=[ge[ye].index];else{we=Array(ge[ye].index.length);for(var ve=0;ve<we.length;ve++)we[ve]=ge[ye].index[ve].index}if(ge[be]instanceof oe)_e=[ge[be].index];else{_e=Array(ge[be].index.length);for(var ke=0;ke<_e.length;ke++)_e[ke]=ge[be].index[ke].index}xe=ue.kind(we,_e,me).toFixed(4),xe in fe?fe[xe].push([ge[ye],ge[be]]):fe[xe]=[[ge[ye],ge[be]]],he=Math.min(xe,he)}for(var je=fe[he.toFixed(4)],Me=Array(je.length),Se=0,Pe;0<je.length;){Pe=je.shift();for(var Re=0,Ce;Re<je.length;Re++)if(Ce=je[Re].filter(function(Te){return-1!==Pe.indexOf(Te)}),0<Ce.length){var Ie=je[Re].filter(function(Te){return-1===Pe.indexOf(Te)});Pe=Pe.concat(Ie),je.splice(Re--,1)}Me[Se++]=Pe}Me.length=Se;for(var ze=0,De;ze<Me.length;ze++){De=new ae,De.children=Me[ze].concat(),De.distance=he,De.index=Array(ce);for(var Ve=0,Le=0;Le<Me[ze].length;Le++)Me[ze][Le]instanceof oe?De.index[Ve++]=Me[ze][Le]:(Ve+=Me[ze][Le].index.length,De.index=Me[ze][Le].index.concat(De.index)),ge.splice(ge.indexOf(Me[ze][Le]),1);De.index.length=Ve,ge.push(De)}}return ge[0]}},function(R,I,D){'use strict';R.exports=D(84)},function(R,I){'use strict';var E,O,G;(function(){var Z,$,ee,te,ie,ne,oe,ae,se,le,de,ue,ce,me,ge;ee=Math.floor,le=Math.min,$=function(he,fe){return he<fe?-1:he>fe?1:0},se=function(he,fe,xe,ye,be){var we;if(null==xe&&(xe=0),null==be&&(be=$),0>xe)throw new Error('lo must be non-negative');for(null==ye&&(ye=he.length);xe<ye;)we=ee((xe+ye)/2),0>be(fe,he[we])?ye=we:xe=we+1;return[].splice.apply(he,[xe,xe-xe].concat(fe)),fe},ne=function(he,fe,xe){return null==xe&&(xe=$),he.push(fe),me(he,0,he.length-1,xe)},ie=function(he,fe){var xe,ye;return null==fe&&(fe=$),xe=he.pop(),he.length?(ye=he[0],he[0]=xe,ge(he,0,fe)):ye=xe,ye},ae=function(he,fe,xe){var ye;return null==xe&&(xe=$),ye=he[0],he[0]=fe,ge(he,0,xe),ye},oe=function(he,fe,xe){var ye;return null==xe&&(xe=$),he.length&&0>xe(he[0],fe)&&(ye=[he[0],fe],fe=ye[0],he[0]=ye[1],ge(he,0,xe)),fe},te=function(he,fe){var xe,ye,we,ve,ke,je;for(null==fe&&(fe=$),ve=function(){je=[];for(var Me=0,Pe=ee(he.length/2);0<=Pe?Me<Pe:Me>Pe;0<=Pe?Me++:Me--)je.push(Me);return je}.apply(this).reverse(),ke=[],(ye=0,we=ve.length);ye<we;ye++)xe=ve[ye],ke.push(ge(he,xe,fe));return ke},ce=function(he,fe,xe){var ye;if(null==xe&&(xe=$),ye=he.indexOf(fe),-1!==ye)return me(he,0,ye,xe),ge(he,ye,xe)},de=function(he,fe,xe){var ye,be,we,_e,ve;if(null==xe&&(xe=$),be=he.slice(0,fe),!be.length)return be;for(te(be,xe),ve=he.slice(fe),(we=0,_e=ve.length);we<_e;we++)ye=ve[we],oe(be,ye,xe);return be.sort(xe).reverse()},ue=function(he,fe,xe){var ye,be,we,_e,ve,ke,je,Me,Pe,Se;if(null==xe&&(xe=$),10*fe<=he.length){if(_e=he.slice(0,fe).sort(xe),!_e.length)return _e;for(we=_e[_e.length-1],Me=he.slice(fe),(ve=0,je=Me.length);ve<je;ve++)ye=Me[ve],0>xe(ye,we)&&(se(_e,ye,0,null,xe),_e.pop(),we=_e[_e.length-1]);return _e}for(te(he,xe),Se=[],(be=ke=0,Pe=le(fe,he.length));0<=Pe?ke<Pe:ke>Pe;be=0<=Pe?++ke:--ke)Se.push(ie(he,xe));return Se},me=function(he,fe,xe,ye){var be,we,_e;for(null==ye&&(ye=$),be=he[xe];xe>fe;){if(_e=xe-1>>1,we=he[_e],0>ye(be,we)){he[xe]=we,xe=_e;continue}break}return he[xe]=be},ge=function(he,fe,xe){var ye,be,we,_e,ve;for(null==xe&&(xe=$),be=he.length,ve=fe,we=he[fe],ye=2*fe+1;ye<be;)_e=ye+1,_e<be&&!(0>xe(he[ye],he[_e]))&&(ye=_e),he[fe]=he[ye],fe=ye,ye=2*fe+1;return he[fe]=we,me(he,ve,fe,xe)},Z=function(){function pe(he){this.cmp=null==he?$:he,this.nodes=[]}return pe.push=ne,pe.pop=ie,pe.replace=ae,pe.pushpop=oe,pe.heapify=te,pe.updateItem=ce,pe.nlargest=de,pe.nsmallest=ue,pe.prototype.push=function(he){return ne(this.nodes,he,this.cmp)},pe.prototype.pop=function(){return ie(this.nodes,this.cmp)},pe.prototype.peek=function(){return this.nodes[0]},pe.prototype.contains=function(he){return-1!==this.nodes.indexOf(he)},pe.prototype.replace=function(he){return ae(this.nodes,he,this.cmp)},pe.prototype.pushpop=function(he){return oe(this.nodes,he,this.cmp)},pe.prototype.heapify=function(){return te(this.nodes,this.cmp)},pe.prototype.updateItem=function(he){return ce(this.nodes,he,this.cmp)},pe.prototype.clear=function(){return this.nodes=[]},pe.prototype.empty=function(){return 0===this.nodes.length},pe.prototype.size=function(){return this.nodes.length},pe.prototype.clone=function(){var he;return he=new pe,he.nodes=this.nodes.slice(0),he},pe.prototype.toArray=function(){return this.nodes.slice(0)},pe.prototype.insert=pe.prototype.push,pe.prototype.top=pe.prototype.peek,pe.prototype.front=pe.prototype.peek,pe.prototype.has=pe.prototype.contains,pe.prototype.copy=pe.prototype.clone,pe}(),function(pe,he){return O=[],E=he,G='function'==typeof E?E.apply(I,O):E,!(void 0!==G&&(R.exports=G))}(this,function(){return Z})}).call(void 0)},function(R,I,D){'use strict';(function(E,O){function G(Ie,ze){var De={seen:[],stylize:$};return 3<=arguments.length&&(De.depth=arguments[2]),4<=arguments.length&&(De.colors=arguments[3]),de(ze)?De.showHidden=ze:ze&&I._extend(De,ze),he(De.showHidden)&&(De.showHidden=!1),he(De.depth)&&(De.depth=2),he(De.colors)&&(De.colors=!1),he(De.customInspect)&&(De.customInspect=!0),De.colors&&(De.stylize=Z),te(De,Ie,De.depth)}function Z(Ie,ze){var De=G.styles[ze];return De?'\x1B['+G.colors[De][0]+'m'+Ie+'\x1B['+G.colors[De][1]+'m':Ie}function $(Ie){return Ie}function ee(Ie){var ze={};return Ie.forEach(function(De){ze[De]=!0}),ze}function te(Ie,ze,De){if(Ie.customInspect&&ze&&we(ze.inspect)&&ze.inspect!==I.inspect&&!(ze.constructor&&ze.constructor.prototype===ze)){var Ve=ze.inspect(De,Ie);return ge(Ve)||(Ve=te(Ie,Ve,De)),Ve}var Le=ie(Ie,ze);if(Le)return Le;var Te=Object.keys(ze),Fe=ee(Te);if(Ie.showHidden&&(Te=Object.getOwnPropertyNames(ze)),be(ze)&&(0<=Te.indexOf('message')||0<=Te.indexOf('description')))return ne(ze);if(0===Te.length){if(we(ze)){var Ae=ze.name?': '+ze.name:'';return Ie.stylize('[Function'+Ae+']','special')}if(fe(ze))return Ie.stylize(RegExp.prototype.toString.call(ze),'regexp');if(ye(ze))return Ie.stylize(Date.prototype.toString.call(ze),'date');if(be(ze))return ne(ze)}var Ee='',Oe=!1,Ne=['{','}'];if(le(ze)&&(Oe=!0,Ne=['[',']']),we(ze)){var qe=ze.name?': '+ze.name:'';Ee=' [Function'+qe+']'}if(fe(ze)&&(Ee=' '+RegExp.prototype.toString.call(ze)),ye(ze)&&(Ee=' '+Date.prototype.toUTCString.call(ze)),be(ze)&&(Ee=' '+ne(ze)),0===Te.length&&(!Oe||0==ze.length))return Ne[0]+Ee+Ne[1];if(0>De)return fe(ze)?Ie.stylize(RegExp.prototype.toString.call(ze),'regexp'):Ie.stylize('[Object]','special');Ie.seen.push(ze);var Be;return Be=Oe?oe(Ie,ze,De,Fe,Te):Te.map(function(Xe){return ae(Ie,ze,De,Fe,Xe,Oe)}),Ie.seen.pop(),se(Be,Ee,Ne)}function ie(Ie,ze){if(he(ze))return Ie.stylize('undefined','undefined');if(ge(ze)){var De='\''+JSON.stringify(ze).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return Ie.stylize(De,'string')}return me(ze)?Ie.stylize(''+ze,'number'):de(ze)?Ie.stylize(''+ze,'boolean'):ue(ze)?Ie.stylize('null','null'):void 0}function ne(Ie){return'['+Error.prototype.toString.call(Ie)+']'}function oe(Ie,ze,De,Ve,Le){for(var Te=[],Fe=0,Ae=ze.length;Fe<Ae;++Fe)Me(ze,Fe+'')?Te.push(ae(Ie,ze,De,Ve,Fe+'',!0)):Te.push('');return Le.forEach(function(Ee){Ee.match(/^\d+$/)||Te.push(ae(Ie,ze,De,Ve,Ee,!0))}),Te}function ae(Ie,ze,De,Ve,Le,Te){var Fe,Ae,Ee;if(Ee=Object.getOwnPropertyDescriptor(ze,Le)||{value:ze[Le]},Ee.get?Ee.set?Ae=Ie.stylize('[Getter/Setter]','special'):Ae=Ie.stylize('[Getter]','special'):Ee.set&&(Ae=Ie.stylize('[Setter]','special')),Me(Ve,Le)||(Fe='['+Le+']'),Ae||(0>Ie.seen.indexOf(Ee.value)?(Ae=ue(De)?te(Ie,Ee.value,null):te(Ie,Ee.value,De-1),-1<Ae.indexOf('\n')&&(Te?Ae=Ae.split('\n').map(function(Oe){return'  '+Oe}).join('\n').substr(2):Ae='\n'+Ae.split('\n').map(function(Oe){return'   '+Oe}).join('\n'))):Ae=Ie.stylize('[Circular]','special')),he(Fe)){if(Te&&Le.match(/^\d+$/))return Ae;Fe=JSON.stringify(''+Le),Fe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Fe=Fe.substr(1,Fe.length-2),Fe=Ie.stylize(Fe,'name')):(Fe=Fe.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),Fe=Ie.stylize(Fe,'string'))}return Fe+': '+Ae}function se(Ie,ze,De){var Ve=0,Le=Ie.reduce(function(Te,Fe){return Ve++,0<=Fe.indexOf('\n')&&Ve++,Te+Fe.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<Le?De[0]+(''===ze?'':ze+'\n ')+' '+Ie.join(',\n  ')+' '+De[1]:De[0]+ze+' '+Ie.join(', ')+' '+De[1]}function le(Ie){return Array.isArray(Ie)}function de(Ie){return'boolean'==typeof Ie}function ue(Ie){return null===Ie}function me(Ie){return'number'==typeof Ie}function ge(Ie){return'string'==typeof Ie}function he(Ie){return void 0===Ie}function fe(Ie){return xe(Ie)&&'[object RegExp]'===ve(Ie)}function xe(Ie){return'object'==typeof Ie&&null!==Ie}function ye(Ie){return xe(Ie)&&'[object Date]'===ve(Ie)}function be(Ie){return xe(Ie)&&('[object Error]'===ve(Ie)||Ie instanceof Error)}function we(Ie){return'function'==typeof Ie}function ve(Ie){return Object.prototype.toString.call(Ie)}function Me(Ie,ze){return Object.prototype.hasOwnProperty.call(Ie,ze)}var Pe=/%[sdj%]/g;I.format=function(Ie){if(!ge(Ie)){for(var ze=[],De=0;De<arguments.length;De++)ze.push(G(arguments[De]));return ze.join(' ')}for(var De=1,Ve=arguments,Le=Ve.length,Te=(Ie+'').replace(Pe,function(Ae){if('%%'===Ae)return'%';if(De>=Le)return Ae;switch(Ae){case'%s':return Ve[De++]+'';case'%d':return+Ve[De++];case'%j':try{return JSON.stringify(Ve[De++])}catch(Ee){return'[Circular]'}default:return Ae;}}),Fe=Ve[De];De<Le;Fe=Ve[++De])Te+=ue(Fe)||!xe(Fe)?' '+Fe:' '+G(Fe);return Te},I.deprecate=function(Ie,ze){if(he(E.process))return function(){return I.deprecate(Ie,ze).apply(this,arguments)};if(!0===O.noDeprecation)return Ie;var Ve=!1;return function(){if(!Ve){if(O.throwDeprecation)throw new Error(ze);else O.traceDeprecation?console.trace(ze):console.error(ze);Ve=!0}return Ie.apply(this,arguments)}};var Se={},Re;I.debuglog=function(Ie){if(he(Re)&&(Re=O.env.NODE_DEBUG||''),Ie=Ie.toUpperCase(),!Se[Ie])if(new RegExp('\\b'+Ie+'\\b','i').test(Re)){var ze=O.pid;Se[Ie]=function(){var De=I.format.apply(I,arguments);console.error('%s %d: %s',Ie,ze,De)}}else Se[Ie]=function(){};return Se[Ie]},I.inspect=G,G.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},G.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'},I.isArray=le,I.isBoolean=de,I.isNull=ue,I.isNullOrUndefined=function(Ie){return null==Ie},I.isNumber=me,I.isString=ge,I.isSymbol=function(Ie){return'symbol'==typeof Ie},I.isUndefined=he,I.isRegExp=fe,I.isObject=xe,I.isDate=ye,I.isError=be,I.isFunction=we,I.isPrimitive=function(Ie){return null===Ie||'boolean'==typeof Ie||'number'==typeof Ie||'string'==typeof Ie||'symbol'==typeof Ie||'undefined'==typeof Ie},I.isBuffer=D(88);I.log=function(){},I.inherits=D(89),I._extend=function(Ie,ze){if(!ze||!xe(ze))return Ie;for(var De=Object.keys(ze),Ve=De.length;Ve--;)Ie[De[Ve]]=ze[De[Ve]];return Ie}}).call(I,D(86),D(87))},function(R){'use strict';var E=function(){return this}();try{E=E||Function('return this')()||(1,eval)('this')}catch(O){'object'==typeof window&&(E=window)}R.exports=E},function(R){'use strict';function E(){throw new Error('setTimeout has not been defined')}function O(){throw new Error('clearTimeout has not been defined')}function G(ce){if(oe===setTimeout)return setTimeout(ce,0);if((oe===E||!oe)&&setTimeout)return oe=setTimeout,setTimeout(ce,0);try{return oe(ce,0)}catch(me){try{return oe.call(null,ce,0)}catch(ge){return oe.call(this,ce,0)}}}function Z(ce){if(ae===clearTimeout)return clearTimeout(ce);if((ae===O||!ae)&&clearTimeout)return ae=clearTimeout,clearTimeout(ce);try{return ae(ce)}catch(me){try{return ae.call(null,ce)}catch(ge){return ae.call(this,ce)}}}function $(){le&&de&&(le=!1,de.length?se=de.concat(se):ue=-1,se.length&&ee())}function ee(){if(!le){var ce=G($);le=!0;for(var me=se.length;me;){for(de=se,se=[];++ue<me;)de&&de[ue].run();ue=-1,me=se.length}de=null,le=!1,Z(ce)}}function te(ce,me){this.fun=ce,this.array=me}function ie(){}var ne=R.exports={},oe,ae;(function(){try{oe='function'==typeof setTimeout?setTimeout:E}catch(ce){oe=E}try{ae='function'==typeof clearTimeout?clearTimeout:O}catch(ce){ae=O}})();var se=[],le=!1,de,ue=-1;ne.nextTick=function(ce){var me=Array(arguments.length-1);if(1<arguments.length)for(var ge=1;ge<arguments.length;ge++)me[ge-1]=arguments[ge];se.push(new te(ce,me)),1!==se.length||le||G(ee)},te.prototype.run=function(){this.fun.apply(null,this.array)},ne.title='browser',ne.browser=!0,ne.env={},ne.argv=[],ne.version='',ne.versions={},ne.on=ie,ne.addListener=ie,ne.once=ie,ne.off=ie,ne.removeListener=ie,ne.removeAllListeners=ie,ne.emit=ie,ne.prependListener=ie,ne.prependOnceListener=ie,ne.listeners=function(){return[]},ne.binding=function(){throw new Error('process.binding is not supported')},ne.cwd=function(){return'/'},ne.chdir=function(){throw new Error('process.chdir is not supported')},ne.umask=function(){return 0}},function(R){'use strict';R.exports=function(O){return O&&'object'==typeof O&&'function'==typeof O.copy&&'function'==typeof O.fill&&'function'==typeof O.readUInt8}},function(R){'use strict';R.exports='function'==typeof Object.create?function(O,G){O.super_=G,O.prototype=Object.create(G.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}})}:function(O,G){O.super_=G;var Z=function(){};Z.prototype=G.prototype,O.prototype=new Z,O.prototype.constructor=O}},function(R,I,D){'use strict';function E(le,de,ue){for(var ce=1e101,me=0;me<le.length;me++)for(var ge=me,pe;ge<de.length;ge++)pe=ue(le[me],de[ge]),ce=Math.min(pe,ce);return ce}function O(le,de,ue){for(var ce=-1,me=0;me<le.length;me++)for(var ge=me,pe;ge<de.length;ge++)pe=ue(le[me],de[ge]),ce=Math.max(pe,ce);return ce}function G(le,de,ue){for(var ce=0,me=0;me<le.length;me++)for(var ge=0;ge<de.length;ge++)ce+=ue(le[me],de[ge]);return ce/(le.length*de.length)}function Z(le,de,ue){for(var ce=0,me=0,ge=0,pe=0,he=0;he<le.length;he++)ce+=le[he][0],me+=le[he][1];for(var fe=0;fe<de.length;fe++)ge+=de[fe][0],pe+=de[fe][1];return ce/=le.length,me/=le.length,ge/=de.length,pe/=de.length,ue([ce,me],[ge,pe])}function $(le,de,ue){for(var ce=0,me=0,ge=0,pe=0,he=0;he<le.length;he++)ce+=le[he][0],me+=le[he][1];for(var fe=0;fe<de.length;fe++)ge+=de[fe][0],pe+=de[fe][1];return ce/=le.length,me/=le.length,ge/=de.length,pe/=de.length,ue([ce,me],[ge,pe])*le.length*de.length/(le.length+de.length)}function ee(le,de,ue){for(var ce={d:0,p:0},me=Array(le[0].length),ge=0;ge<le[0].length;ge++)me[ge]=de[le[0][ge]];for(var pe=Array(le[1].length),he=0;he<le[1].length;he++)pe[he]=de[le[1][he]];for(var ye=0,fe,xe;ye<me.length;ye++){fe=0;for(var be=0;be<me.length;be++)ye!==be&&(fe+=ue(me[ye],me[be]));fe/=me.length-1,xe=0;for(var we=0;we<pe.length;we++)xe+=ue(me[ye],pe[we]);xe/=pe.length,fe-xe>ce.d&&(ce.d=fe-xe,ce.p=ye)}return ce}function te(le,de,ue){for(var ce=0,me=0,ge=0;ge<le.length;ge++)for(var pe=ge;pe<le.length;pe++)ce+=ue(de[le[ge].index],de[le[pe].index]),me++;return ce/me}var ne=D(1),oe=D(25),ae=D(13),se={dist:ne,kind:'single'};R.exports=function(le,de){if(de=Object.assign({},se,de),'string'==typeof de.kind)switch(de.kind){case'single':de.kind=E;break;case'complete':de.kind=O;break;case'average':de.kind=G;break;case'centroid':de.kind=Z;break;case'ward':de.kind=$;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof de.kind)throw new TypeError('Undefined kind of similarity');var ue=new ae;ue.children=Array(le.length),ue.index=Array(le.length);for(var ce=0;ce<le.length;ce++)ue.children[ce]=new oe(ce),ue.index[ce]=new oe(ce);ue.distance=te(ue.index,le,de.dist);for(var xe=[ue],me,ge,pe,he,fe;0<xe.length;){ge=0,pe=0;for(var ye=0;ye<xe.length;ye++){me=0;for(var be=0;be<xe[ye].length;be++)for(var we=be+1;we<xe[ye].length;we++)me=Math.max(de.dist(le[xe[ye].index[be].index],le[xe[ye].index[we].index]),me);me>ge&&(ge=me,pe=ye)}if(ge=0,2===xe[pe].index.length)xe[pe].children=[xe[pe].index[0],xe[pe].index[1]],xe[pe].distance=de.dist(le[xe[pe].index[0].index],le[xe[pe].index[1].index]);else if(3===xe[pe].index.length){xe[pe].children=[xe[pe].index[0],xe[pe].index[1],xe[pe].index[2]];var _e=[de.dist(le[xe[pe].index[0].index],le[xe[pe].index[1].index]),de.dist(le[xe[pe].index[1].index],le[xe[pe].index[2].index])];xe[pe].distance=(_e[0]+_e[1])/2}else{for(var ve=new ae,ke=new ae,je=[Array(xe[pe].index.length),[]],Me=0;Me<je[0].length;Me++)je[0][Me]=Me;for(var Pe=0;Pe<je[0].length;Pe++){he=0;for(var Se=0;Se<je[0].length;Se++)Pe!==Se&&(he+=de.dist(le[xe[pe].index[je[0][Se]].index],le[xe[pe].index[je[0][Pe]].index]));he/=je[0].length-1,he>ge&&(ge=he,fe=Pe)}for(je[1]=[fe],je[0].splice(fe,1),he=ee(je,le,de.dist);0<he.d;)je[1].push(je[0][he.p]),je[0].splice(he.p,1),he=ee(je,le,de.dist);var Re=Array(je[0].length);ve.index=Array(je[0].length);for(var Ce=0;Ce<Re.length;Ce++)Re[Ce]=le[xe[pe].index[je[0][Ce]].index],ve.index[Ce]=xe[pe].index[je[0][Ce]],ve.children[Ce]=xe[pe].index[je[0][Ce]];var Ie=Array(je[1].length);ke.index=Array(je[1].length);for(var ze=0;ze<Ie.length;ze++)Ie[ze]=le[xe[pe].index[je[1][ze]].index],ke.index[ze]=xe[pe].index[je[1][ze]],ke.children[ze]=xe[pe].index[je[1][ze]];ve.distance=te(ve.index,le,de.dist),ke.distance=te(ke.index,le,de.dist),xe.push(ve),xe.push(ke),xe[pe].children=[ve,ke]}xe.splice(pe,1)}return ue}},function(R,I,D){'use strict';function E(se){return se&&se.__esModule?se:{default:se}}function O(se,le,de,ue,ce,me){de=(0,te.updateClusterID)(le,se,de,ce.distanceFunction);var ge=(0,te.updateCenters)(se,le,de,ue),pe=(0,te.hasConverged)(ge,se,ce.distanceFunction,ce.tolerance);return new oe.default(de,ge,pe,me,ce.distanceFunction)}function*G(se,le,de,ue,ce){for(var me=!1,ge=0,pe;!me&&ge<ce.maxIterations;)pe=O(se,le,de,ue,ce,++ge),yield pe.computeInformation(le),me=pe.converged,se=pe.centroids}Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(se,le,de){if(de=Object.assign({},ae,de),0>=le||le>se.length||!Number.isInteger(le))throw new Error('K should be a positive integer smaller than the number of points');var ue;if(!Array.isArray(de.initialization))switch(de.initialization){case'kmeans++':ue=(0,ie.kmeanspp)(se,le,de);break;case'random':ue=(0,ie.random)(se,le,de.seed);break;case'mostDistant':ue=(0,ie.mostDistant)(se,le,(0,te.calculateDistanceMatrix)(se,de.distanceFunction),de.seed);break;default:throw new Error(`Unknown initialization method: "${de.initialization}"`);}else if(de.initialization.length!==le)throw new Error('The initial centers should have the same length as K');else ue=de.initialization;0===de.maxIterations&&(de.maxIterations=Number.MAX_VALUE);var ce=Array(se.length);if(de.withIterations)return G(ue,se,ce,le,de);for(var me=!1,ge=0,pe;!me&&ge<de.maxIterations;)pe=O(ue,se,ce,le,de,++ge),me=pe.converged,ue=pe.centroids;return pe.computeInformation(se)};var $=D(1),ee=E($),te=D(27),ie=D(93),ne=D(95),oe=E(ne),ae={maxIterations:100,tolerance:1e-6,withIterations:!1,initialization:'kmeans++',distanceFunction:ee.default.squared}},function(R,I,D){'use strict';var O=D(1).squared,G={distanceFunction:O,similarityFunction:!1,returnVector:!1};R.exports=function(Z,$,ee){ee=ee||G;var te=ee.distanceFunction||G.distanceFunction,ie=ee.similarityFunction||G.similarityFunction,ne=ee.returnVector||G.returnVector,oe=-1;if('function'==typeof ie)for(var ae=Number.MIN_VALUE,se=0,le;se<Z.length;se++)le=ie($,Z[se]),le>ae&&(ae=le,oe=se);else if('function'==typeof te)for(var de=Number.MAX_VALUE,ue=0,ce;ue<Z.length;ue++)ce=te($,Z[ue]),ce<de&&(de=ce,oe=ue);else throw new Error('A similarity or distance function it\'s required');return ne?Z[oe]:oe}},function(R,I,D){'use strict';function $(se,le){for(var de=new ae.Matrix(se.length,le.length),ue=0;ue<se.length;ue++)for(var ce=0;ce<le.length;ce++)de.set(ue,ce,(0,oe.squared)(se.getRow(ue),le.getRow(ce)));return de}function ee(se){for(var le=[],de=0;de<se;de++)le.push(de);return le}function te(se){for(var le=[se[0]],de=1;de<se.length;de++)le[de]=le[de-1]+se[de];return le}Object.defineProperty(I,'__esModule',{value:!0}),I.random=function(se,le,de){var ue=new ne.default(de);return ue.choice(se,{size:le})},I.mostDistant=function(se,le,de,ue){var ce=new ne.default(ue),me=Array(le);if(me[0]=Math.floor(ce.random()*se.length),1<le){for(var ge={dist:-1,index:-1},pe=0;pe<se.length;++pe)de[me[0]][pe]>ge.dist&&(ge.dist=de[me[0]][pe],ge.index=pe);if(me[1]=ge.index,2<le)for(var he=2,fe;he<le;++he){fe={dist:-1,index:-1};for(var xe=0,ye;xe<se.length;++xe){ye={dist:Number.MAX_VALUE,index:-1};for(var be=0;be<he;++be)de[be][xe]<ye.dist&&-1===me.indexOf(xe)&&(ye={dist:de[be][xe],index:xe});ye.dist!==Number.MAX_VALUE&&ye.dist>fe.dist&&(fe=Object.assign({},ye))}me[he]=fe.index}}return me.map(we=>se[we])},I.kmeanspp=function(se,le,de={}){se=new ae.Matrix(se);var ue=se.length,ce=new ne.default(de.seed),me=[],ge=de.localTrials||2+Math.floor(Math.log(le)),pe=ce.randInt(ue);me.push(se[pe].slice());for(var he=[se.map(Ce=>(0,oe.squared)(Ce,me[0]))],fe=[te(he[0])],xe=1/fe[0][ue-1],ye=ae.Matrix.mul(he,xe),be=1;be<le;be++){for(var we=ce.choice(ue,{replace:!0,size:ge,probabilities:ye[0]}),_e=se.selection(we,ee(se[0].length)),ve=$(_e,se),ke=void 0,je=void 0,Me=void 0,Pe=0;Pe<ge;Pe++){var Se=ae.Matrix.min(he,[ve[Pe]]),Re=Se.sum();(ke==void 0||Re<je)&&(ke=we[Pe],je=Re,Me=Se)}me[be]=se[ke].slice(),he=Me,fe=[te(he[0])],ye=ae.Matrix.mul(he,1/fe[0][ue-1])}return me};var ie=D(28),ne=function(se){return se&&se.__esModule?se:{default:se}}(ie),oe=D(1),ae=D(0)},function(R,I){'use strict';function O($){for(var ee=[],te=0;te<$;te++)ee.push(te);return ee}function G($,ee,te){var ie=ee();if(!te)return Math.floor(ie*$);for(var ne=0;ie>te[ne];)ne++;return ne}Object.defineProperty(I,'__esModule',{value:!0});I.default=function($,ee={},te=Math.random){var ie=ee.size,ne=void 0===ie?1:ie,oe=ee.replace,ae=void 0!==oe&&oe,se=ee.probabilities,le,de;if(le='number'==typeof $?O($):$.slice(),se){if(!ae)throw new Error('choice with probabilities and no replacement is not implemented');if(se.length!==le.length)throw new Error('the length of probabilities option should be equal to the number of choices');de=[se[0]];for(var ue=1;ue<se.length;ue++)de[ue]=de[ue-1]+se[ue];if(Math.abs(1-de[de.length-1])>1e-8)throw new Error(`probabilities should sum to 1, but instead sums to ${de[de.length-1]}`)}if(!1===ae&&ne>le.length)throw new Error('size option is too large');for(var ce=[],me=0,ge;me<ne;me++)ge=G(le.length,te,de),ce.push(le[ge]),ae||le.splice(ge,1);return ce}},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(27),O=Symbol('distance');class G{constructor(Z,$,ee,te,ie){this.clusters=Z,this.centroids=$,this.converged=ee,this.iterations=te,this[O]=ie}nearest(Z){var $=Array(Z.length),ee=this.centroids.map(function(te){return te.centroid});return(0,E.updateClusterID)(Z,ee,$,this[O])}computeInformation(Z){for(var $=this.centroids.map(function(ie){return{centroid:ie,error:0,size:0}}),ee=0;ee<Z.length;ee++)$[this.clusters[ee]].error+=this[O](Z[ee],this.centroids[this.clusters[ee]]),$[this.clusters[ee]].size++;for(var te=0;te<this.centroids.length;te++)$[te].size?$[te].error/=$[te].size:$[te].error=null;return new G(this.clusters,$,this.converged,this.iterations,this[O])}}I.default=G},function(R,I,D){'use strict';function E($){this.options=Object.assign({},Z,$),this.kernel=new O(this.options.kernel,this.options.kernelOptions),this.b=0}var O=D(14),G=D(4).array,Z={C:1,tol:1e-4,maxPasses:10,maxIterations:1e4,kernel:'linear',alphaTol:1e-6,random:Math.random,whitening:!0};E.prototype.train=function($,ee){if($.length!==ee.length)throw new Error('Features and labels should have the same length');if(2>$.length)throw new Error('Cannot train with less than 2 observations');if(this._trained=!1,this._loaded=!1,this.N=ee.length,this.D=$[0].length,this.options.whitening){this.X=Array(this.N);for(var te=0;te<this.N;te++)this.X[te]=Array(this.D);this.minMax=Array(this.D);for(var ie=0,ne;ie<this.D;ie++){for(ne=Array(this.N),te=0;te<this.N;te++)ne[te]=$[te][ie];for(this.minMax[ie]=G.minMax(ne),te=0;te<this.N;te++)this.X[te][ie]=($[te][ie]-this.minMax[ie].min)/(this.minMax[ie].max-this.minMax[ie].min)}}else this.X=$;this.Y=ee,this.b=0,this.W=void 0;var oe=this.kernel.compute(this.X),ae=ee.length,se=Array(ae).fill(0);this.alphas=se;for(var le=0;le<ae;le++)se[le]=0;for(var de=0,ue=0,ce=0,me=0,ge=0,pe=0,he=0,fe=0,xe=0,ye=0,be=0,we;me<this.options.maxPasses&&ce<this.options.maxIterations;){for(we=0,te=0;te<ae;te++)if(ge=this._marginOnePrecomputed(te,oe)-ee[te],ee[te]*ge<-this.options.tol&&se[te]<this.options.C||ee[te]*ge>this.options.tol&&0<se[te]){for(ie=te;ie===te;)ie=Math.floor(this.options.random()*ae);if(pe=this._marginOnePrecomputed(ie,oe)-ee[ie],he=se[te],fe=se[ie],ee[te]===ee[ie]?(xe=Math.max(0,he+fe-this.options.C),ye=Math.min(this.options.C,he+fe)):(xe=Math.max(0,fe-he),ye=Math.min(this.options.C,this.options.C+fe+he)),1e-4>Math.abs(xe-ye))continue;if(be=2*oe[te][ie]-oe[te][te]-oe[ie][ie],0<=be)continue;var _e=se[ie]-ee[ie]*(ge-pe)/be;if(_e>ye?_e=ye:_e<xe&&(_e=xe),1e-3>Math.abs(fe-_e))continue;se[ie]=_e,se[te]+=ee[te]*ee[ie]*(fe-_e),de=this.b-ge-ee[te]*(se[te]-he)*oe[te][te]-ee[ie]*(se[ie]-fe)*oe[te][ie],ue=this.b-pe-ee[te]*(se[te]-he)*oe[te][ie]-ee[ie]*(se[ie]-fe)*oe[ie][ie],this.b=(de+ue)/2,se[te]<this.options.C&&0<se[te]&&(this.b=de),se[ie]<this.options.C&&0<se[ie]&&(this.b=ue),we+=1}ce++,0==we?me+=1:me=0}if(ce===this.options.maxIterations)throw new Error('max iterations reached');if(this.iterations=ce,'linear'===this.options.kernel){this.W=Array(this.D);for(var ve=0;ve<this.D;ve++){this.W[ve]=0;for(var ke=0;ke<ae;ke++)this.W[ve]+=ee[ke]*se[ke]*this.X[ke][ve]}}var je=[],Me=[],Pe=[];for(this._supportVectorIdx=[],te=0;te<this.N;te++)this.alphas[te]>this.options.alphaTol&&(je.push(this.X[te]),Me.push(ee[te]),Pe.push(this.alphas[te]),this._supportVectorIdx.push(te));this.X=je,this.Y=Me,this.N=je.length,this.alphas=Pe,this._trained=!0},E.prototype.predictOne=function($){var ee=this.marginOne($);return 0<ee?1:-1},E.prototype.predict=function($){if(!this._trained&&!this._loaded)throw new Error('Cannot predict, you need to train the SVM first');return Array.isArray($)&&Array.isArray($[0])?$.map(this.predictOne.bind(this)):this.predictOne($)},E.prototype.marginOne=function($,ee){this.options.whitening&&!ee&&($=this._applyWhitening($));var te=this.b,ie;if('linear'===this.options.kernel&&this.W)for(ie=0;ie<this.W.length;ie++)te+=this.W[ie]*$[ie];else for(ie=0;ie<this.N;ie++)te+=this.alphas[ie]*this.Y[ie]*this.kernel.compute([$],[this.X[ie]])[0][0];return te},E.prototype._marginOnePrecomputed=function($,ee){var te=this.b,ie;for(ie=0;ie<this.N;ie++)te+=this.alphas[ie]*this.Y[ie]*ee[$][ie];return te},E.prototype.margin=function($){return Array.isArray($)?$.map(this.marginOne.bind(this)):this.marginOne($)},E.prototype.supportVectors=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot get support vectors, you need to train the SVM first');if(this._loaded&&'linear'===this.options.kernel)throw new Error('Cannot get support vectors from saved linear model, you need to train the SVM to have them');return this._supportVectorIdx},E.load=function($){this._loaded=!0,this._trained=!1;var ee=new E($.options);return'linear'===$.options.kernel?(ee.W=$.W.slice(),ee.D=ee.W.length):(ee.X=$.X.slice(),ee.Y=$.Y.slice(),ee.alphas=$.alphas.slice(),ee.N=ee.X.length,ee.D=ee.X[0].length),ee.minMax=$.minMax,ee.b=$.b,ee._loaded=!0,ee._trained=!1,ee},E.prototype.toJSON=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot export, you need to train the SVM first');var $={};return $.options=Object.assign({},this.options),$.b=this.b,$.minMax=this.minMax,'linear'===$.options.kernel?$.W=this.W.slice():($.X=this.X.slice(),$.Y=this.Y.slice(),$.alphas=this.alphas.slice()),$},E.prototype._applyWhitening=function($){if(!this.minMax)throw new Error('Could not apply whitening');for(var ee=Array($.length),te=0;te<$.length;te++)ee[te]=($[te]-this.minMax[te].min)/(this.minMax[te].max-this.minMax[te].min);return ee},R.exports=E},function(R,I,D){'use strict';var E=D(1).squared,O={sigma:1};R.exports=class{constructor(Z){Z=Object.assign({},O,Z),this.sigma=Z.sigma,this.divisor=2*Z.sigma*Z.sigma}compute(Z,$){var ee=E(Z,$);return Math.exp(-ee/this.divisor)}}},function(R){'use strict';var E={degree:1,constant:1,scale:1};R.exports=class{constructor(G){G=Object.assign({},E,G),this.degree=G.degree,this.constant=G.constant,this.scale=G.scale}compute(G,Z){for(var $=0,ee=0;ee<G.length;ee++)$+=G[ee]*Z[ee];return Math.pow(this.scale*$+this.constant,this.degree)}}},function(R){'use strict';var E={sigma:1,degree:1};R.exports=class{constructor(G){G=Object.assign({},E,G),this.sigma=G.sigma,this.degree=G.degree}compute(G,Z){for(var $=0,ee=Math.min(G.length,Z.length),te=1;te<=ee;++te)$+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(G[te-1],te)-Math.pow(Z[te-1],te),2)),this.degree);return $}}},function(R,I,D){'use strict';var E=D(1).squared,O={sigma:1};R.exports=class{constructor(Z){Z=Object.assign({},O,Z),this.sigma=Z.sigma}compute(Z,$){return 1/(1+E(Z,$)/(this.sigma*this.sigma))}}},function(R,I,D){'use strict';var E=D(1),O={sigma:1};R.exports=class{constructor(Z){Z=Object.assign({},O,Z),this.sigma=Z.sigma,this.divisor=2*Z.sigma*Z.sigma}compute(Z,$){var ee=E(Z,$);return Math.exp(-ee/this.divisor)}}},function(R){'use strict';R.exports=class{compute(O,G){for(var Z=Math.min(O.length,G.length),$=0,ee=0;ee<Z;++ee)$+=Math.min(O[ee],G[ee]);return $}}},function(R,I,D){'use strict';var E=D(1),O={sigma:1};R.exports=class{constructor(Z){Z=Object.assign({},O,Z),this.sigma=Z.sigma}compute(Z,$){var ee=E(Z,$);return Math.exp(-ee/this.sigma)}}},function(R,I,D){'use strict';var E=D(1).squared,O={constant:1};R.exports=class{constructor(Z){Z=Object.assign({},O,Z),this.constant=Z.constant}compute(Z,$){return Math.sqrt(E(Z,$)+this.constant*this.constant)}}},function(R,I,D){'use strict';var E=D(1).squared,O={constant:1};R.exports=class{constructor(Z){Z=Object.assign({},O,Z),this.constant=Z.constant}compute(Z,$){var ee=E(Z,$);return 1-ee/(ee+this.constant)}}},function(R){'use strict';var E={alpha:0.01,constant:-Math.E};R.exports=class{constructor(G){G=Object.assign({},E,G),this.alpha=G.alpha,this.constant=G.constant}compute(G,Z){for(var $=0,ee=0;ee<G.length;ee++)$+=G[ee]*Z[ee];return Math.tanh(this.alpha*$+this.constant)}}},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(108);Object.defineProperty(I,'GaussianNB',{enumerable:!0,get:function(){return E.GaussianNB}});var O=D(109);Object.defineProperty(I,'MultinomialNB',{enumerable:!0,get:function(){return O.MultinomialNB}})},function(R,I,D){'use strict';function E(oe){return oe&&oe.__esModule?oe:{default:oe}}function O(oe,ae,se){for(var le=0,de=-1,ue=0,ce;ue<se.length;++ue){ce=se[ue][0];for(var me=1;me<se[0][1].length+1;++me)ce+=G(oe[me-1],ae[ue][me-1],se[ue][me][0],se[ue][me][1]);ce=Math.exp(ce),ce>le&&(le=ce,de=ue)}return de}function G(oe,ae,se,le){return oe-=ae,Math.log(se*Math.exp(oe*oe/le))}Object.defineProperty(I,'__esModule',{value:!0}),I.GaussianNB=void 0;var Z=D(0),$=E(Z),ee=D(4),te=E(ee),ie=D(30);class ne{constructor(oe,ae){oe&&(this.means=ae.means,this.calculateProbabilities=ae.calculateProbabilities)}train(oe,ae){var se=Math.sqrt(2*Math.PI);if(oe=$.default.checkMatrix(oe),oe.rows!==ae.length)throw new RangeError('the size of the training set and the training labels must be the same.');var le=(0,ie.separateClasses)(oe,ae),de=Array(le.length);this.means=Array(le.length);for(var ue=0;ue<le.length;++ue){var ce=te.default.matrix.mean(le[ue]),me=te.default.matrix.standardDeviation(le[ue],ce),ge=Math.log(le[ue].rows/oe.rows);de[ue]=Array(ce.length+1),de[ue][0]=ge;for(var pe=1,he;pe<ce.length+1;++pe)he=me[pe-1],de[ue][pe]=[1/(se*he),-2*he*he];this.means[ue]=ce}this.calculateProbabilities=de}predict(oe){if(oe[0].length===this.calculateProbabilities[0].length)throw new RangeError('the dataset must have the same features as the training set');for(var ae=Array(oe.length),se=0;se<ae.length;++se)ae[se]=O(oe[se],this.means,this.calculateProbabilities);return ae}toJSON(){return{modelName:'NaiveBayes',means:this.means,calculateProbabilities:this.calculateProbabilities}}static load(oe){if('NaiveBayes'!==oe.modelName)throw new RangeError('The current model is not a Multinomial Naive Bayes, current model:',oe.name);return new ne(!0,oe)}}I.GaussianNB=ne},function(R,I,D){'use strict';function O(te,ie){this[te][ie]=Math.log(this[te][ie])}Object.defineProperty(I,'__esModule',{value:!0}),I.MultinomialNB=void 0;var G=D(0),Z=function(te){return te&&te.__esModule?te:{default:te}}(G),$=D(30);class ee{constructor(te){te&&(this.conditionalProbability=Z.default.checkMatrix(te.conditionalProbability),this.priorProbability=Z.default.checkMatrix(te.priorProbability))}train(te,ie){if(te=Z.default.checkMatrix(te),te.rows!==ie.length)throw new RangeError('the size of the training set and the training labels must be the same.');var ne=(0,$.separateClasses)(te,ie);this.priorProbability=new Z.default(ne.length,1);for(var oe=0;oe<ne.length;++oe)this.priorProbability[oe][0]=Math.log(ne[oe].length/te.rows);var ae=te.columns;for(this.conditionalProbability=new Z.default(ne.length,ae),oe=0;oe<ne.length;++oe){var se=Z.default.checkMatrix(ne[oe]),le=se.sum();this.conditionalProbability.setRow(oe,se.sum('column').add(1).div(le+ae).apply(O))}}predict(te){te=Z.default.checkMatrix(te);for(var ie=Array(te.rows),ne=0,oe;ne<te.rows;++ne)oe=te.getRowVector(ne),ie[ne]=this.conditionalProbability.clone().mulRowVector(oe).sum('row').add(this.priorProbability).maxIndex()[0];return ie}toJSON(){return{name:'MultinomialNB',priorProbability:this.priorProbability,conditionalProbability:this.conditionalProbability}}static load(te){if('MultinomialNB'!==te.name)throw new RangeError(`${te.name} is not a Multinomial Naive Bayes`);return new ee(te)}}I.MultinomialNB=ee},function(R,I,D){'use strict';function E(ie){return ie&&ie.__esModule?ie:{default:ie}}function O(ie,ne){var oe=ie.kdTree.nearest(ne,ie.k),ae={},se=-1,le=-1,de=oe[0][0].length-1;for(var ue of ie.classes)ae[ue]=0;for(var ce=0;ce<oe.length;++ce){var me=oe[ce][0][de],ge=++ae[me];ge>le&&(se=me,le=ge)}return se}Object.defineProperty(I,'__esModule',{value:!0});var G=D(111),Z=E(G),$=D(1),ee=E($);class te{constructor(ie,ne,oe={}){if(!0===ie){var ae=ne;return this.kdTree=new Z.default(ae.kdTree,oe),this.k=ae.k,this.classes=new Set(ae.classes),void(this.isEuclidean=ae.isEuclidean)}for(var se=new Set(ne),le=oe.distance,de=le===void 0?ee.default:le,ue=oe.k,ce=ue===void 0?se.size+1:ue,me=Array(ie.length),ge=0;ge<me.length;++ge)me[ge]=ie[ge].slice();for(ge=0;ge<ne.length;++ge)me[ge].push(ne[ge]);this.kdTree=new Z.default(me,de),this.k=ce,this.classes=se,this.isEuclidean=de===ee.default}static load(ie,ne=ee.default){if('KNN'!==ie.name)throw new Error('invalid model: '+ie.name);if(!ie.isEuclidean&&ne===ee.default)throw new Error('a custom distance function was used to create the model. Please provide it again');if(ie.isEuclidean&&ne!==ee.default)throw new Error('the model was created with the default distance function. Do not load it with another one');return new te(!0,ie,ne)}toJSON(){return{name:'KNN',kdTree:this.kdTree,k:this.k,classes:Array.from(this.classes),isEuclidean:this.isEuclidean}}predict(ie){if(Array.isArray(ie)){if('number'==typeof ie[0])return O(this,ie);if(Array.isArray(ie[0])&&'number'==typeof ie[0][0]){for(var ne=Array(ie.length),oe=0;oe<ie.length;oe++)ne[oe]=O(this,ie[oe]);return ne}}throw new TypeError('dataset to predict must be an array or a matrix')}}I.default=te},function(R,I){'use strict';function E(te,ie,ne){this.obj=te,this.left=null,this.right=null,this.parent=ne,this.dimension=ie}function O(te){var ie=new E(te.obj,te.dimension,null);return te.left&&(ie.left=O(te.left)),te.right&&(ie.right=O(te.right)),ie}function G(te,ie,ne,oe){var ae=ie%oe.length;if(0===te.length)return null;if(1===te.length)return new E(te[0],ae,ne);te.sort((de,ue)=>de[oe[ae]]-ue[oe[ae]]);var se=Math.floor(te.length/2),le=new E(te[se],ae,ne);return le.left=G(te.slice(0,se),ie+1,le,oe),le.right=G(te.slice(se+1),ie+1,le,oe),le}function Z(te){te.left&&(te.left.parent=te,Z(te.left)),te.right&&(te.right.parent=te,Z(te.right))}Object.defineProperty(I,'__esModule',{value:!0});I.default=class{constructor(te,ie){if(!Array.isArray(te))this.dimensions=te.dimensions,this.root=te,Z(this.root);else{this.dimensions=Array(te[0].length);for(var ne=0;ne<this.dimensions.length;ne++)this.dimensions[ne]=ne;this.root=G(te,0,null,this.dimensions)}this.metric=ie}toJSON(){var te=O(this.root,!0);return te.dimensions=this.dimensions,te}nearest(te,ie,ne){function oe(ce){function me(we,_e){de.push([we,_e]),de.size()>ie&&de.pop()}var ge=se[ce.dimension],pe=ae(te,ce.obj),he={},fe,xe,ye,be;for(be=0;be<se.length;be+=1)he[se[be]]=be===ce.dimension?te[se[be]]:ce.obj[se[be]];return xe=ae(he,ce.obj),null===ce.right&&null===ce.left?void((de.size()<ie||pe<de.peek()[1])&&me(ce,pe)):void(fe=null===ce.right?ce.left:null===ce.left?ce.right:te[ge]<ce.obj[ge]?ce.left:ce.right,oe(fe),(de.size()<ie||pe<de.peek()[1])&&me(ce,pe),(de.size()<ie||Math.abs(xe)<de.peek()[1])&&(ye=fe===ce.left?ce.right:ce.left,null!==ye&&oe(ye)))}var ae=this.metric,se=this.dimensions,le,de=new ee(function(ce){return-ce[1]});if(ne)for(le=0;le<ie;le+=1)de.push([null,ne]);this.root&&oe(this.root);var ue=[];for(le=0;le<Math.min(ie,de.content.length);le+=1)de.content[le][0]&&ue.push([de.content[le][0].obj,de.content[le][1]]);return ue}};class ee{constructor(te){this.content=[],this.scoreFunction=te}push(te){this.content.push(te),this.bubbleUp(this.content.length-1)}pop(){var te=this.content[0],ie=this.content.pop();return 0<this.content.length&&(this.content[0]=ie,this.sinkDown(0)),te}peek(){return this.content[0]}size(){return this.content.length}bubbleUp(te){for(var ie=this.content[te];0<te;){var ne=Math.floor((te+1)/2)-1,oe=this.content[ne];if(this.scoreFunction(ie)<this.scoreFunction(oe))this.content[ne]=ie,this.content[te]=oe,te=ne;else break}}sinkDown(te){for(var ie=this.content.length,ne=this.content[te],oe=this.scoreFunction(ne);;){var ae=2*(te+1),se=ae-1,le=null;if(se<ie){var de=this.content[se],ue=this.scoreFunction(de);ue<oe&&(le=se)}if(ae<ie){var ce=this.content[ae],me=this.scoreFunction(ce);me<(null===le?oe:ue)&&(le=ae)}if(null!==le)this.content[te]=this.content[le],this.content[le]=ne,te=le;else break}}}},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0});var E=D(113);Object.defineProperty(I,'PLS',{enumerable:!0,get:function(){return E.PLS}});var O=D(114);Object.defineProperty(I,'KOPLS',{enumerable:!0,get:function(){return O.KOPLS}})},function(R,I,D){'use strict';function O(ae){return ae&&ae.__esModule?ae:{default:ae}}function G(ae){return ae.sum('column').maxIndex()[0]}Object.defineProperty(I,'__esModule',{value:!0}),I.PLS=void 0;var Z=D(0),$=O(Z),ee=D(9),te=O(ee),ie=D(31),ne=function(ae){if(ae&&ae.__esModule)return ae;var se={};if(null!=ae)for(var le in ae)Object.prototype.hasOwnProperty.call(ae,le)&&(se[le]=ae[le]);return se.default=ae,se}(ie);class oe{constructor(ae,se){if(!0===ae)this.meanX=se.meanX,this.stdDevX=se.stdDevX,this.meanY=se.meanY,this.stdDevY=se.stdDevY,this.PBQ=$.default.checkMatrix(se.PBQ),this.R2X=se.R2X,this.scale=se.scale,this.scaleMethod=se.scaleMethod,this.tolerance=se.tolerance;else{var le=ae.tolerance,de=le===void 0?1e-5:le,ue=ae.scale;this.tolerance=de,this.scale=!(ue!==void 0)||ue,this.latentVectors=ae.latentVectors}}train(ae,se){if(ae=$.default.checkMatrix(ae),se=$.default.checkMatrix(se),ae.length!==se.length)throw new RangeError('The number of X rows must be equal to the number of Y rows');this.meanX=te.default.mean(ae),this.stdDevX=te.default.standardDeviation(ae,this.meanX,!0),this.meanY=te.default.mean(se),this.stdDevY=te.default.standardDeviation(se,this.meanY,!0),this.scale&&(ae=ae.clone().subRowVector(this.meanX).divRowVector(this.stdDevX),se=se.clone().subRowVector(this.meanY).divRowVector(this.stdDevY)),void 0===this.latentVectors&&(this.latentVectors=Math.min(ae.length-1,ae[0].length));for(var le=ae.rows,de=ae.columns,ue=se.rows,ce=se.columns,me=ae.clone().mul(ae).sum(),ge=se.clone().mul(se).sum(),pe=this.tolerance,he=this.latentVectors,fe=$.default.zeros(le,he),xe=$.default.zeros(de,he),ye=$.default.zeros(ue,he),be=$.default.zeros(ce,he),we=$.default.zeros(he,he),_e=xe.clone(),ve=0;ne.norm(se)>pe&&ve<he;){for(var ke=ae.transpose(),je=se.transpose(),Me=G(ae.clone().mulM(ae)),Pe=G(se.clone().mulM(se)),Se=ae.getColumnVector(Me),Re=se.getColumnVector(Pe),Ce=$.default.zeros(le,1),Ie;ne.norm(Se.clone().sub(Ce))>pe;){Ie=ke.mmul(Re),Ie.div(ne.norm(Ie)),Ce=Se,Se=ae.mmul(Ie);var ze=je.mmul(Se);ze.div(ne.norm(ze)),Re=se.mmul(ze)}Ce=Se;var De=ke.mmul(Ce),Ve=Ce.transpose().mmul(Ce)[0][0],Le=De.div(Ve),Te=ne.norm(Le);Le.div(Te),Ce.mul(Te),Ie.mul(Te),De=Re.transpose().mmul(Ce),Ve=Ce.transpose().mmul(Ce)[0][0];var Fe=De.div(Ve)[0][0];ae.sub(Ce.mmul(Le.transpose())),se.sub(Ce.clone().mul(Fe).mmul(ze.transpose())),fe.setColumn(ve,Ce),xe.setColumn(ve,Le),ye.setColumn(ve,Re),be.setColumn(ve,ze),_e.setColumn(ve,Ie),we[ve][ve]=Fe,ve++}ve--,fe=fe.subMatrix(0,fe.rows-1,0,ve),xe=xe.subMatrix(0,xe.rows-1,0,ve),ye=ye.subMatrix(0,ye.rows-1,0,ve),be=be.subMatrix(0,be.rows-1,0,ve),_e=_e.subMatrix(0,_e.rows-1,0,ve),we=we.subMatrix(0,ve,0,ve),this.ssqYcal=ge,this.E=ae,this.F=se,this.T=fe,this.P=xe,this.U=ye,this.Q=be,this.W=_e,this.B=we,this.PBQ=xe.mmul(we).mmul(be.transpose()),this.R2X=Ce.transpose().mmul(Ce).mmul(Le.transpose().mmul(Le)).div(me)[0][0]}predict(ae){var se=$.default.checkMatrix(ae);this.scale&&(se=se.subRowVector(this.meanX).divRowVector(this.stdDevX));var le=se.mmul(this.PBQ);return le=le.mulRowVector(this.stdDevY).addRowVector(this.meanY),le}getExplainedVariance(){return this.R2X}toJSON(){return{name:'PLS',R2X:this.R2X,meanX:this.meanX,stdDevX:this.stdDevX,meanY:this.meanY,stdDevY:this.stdDevY,PBQ:this.PBQ,tolerance:this.tolerance,scale:this.scale}}static load(ae){if('PLS'!==ae.name)throw new RangeError('Invalid model: '+ae.name);return new oe(!0,ae)}}I.PLS=oe},function(R,I,D){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.KOPLS=void 0;var E=D(0),O=D(31);class G{constructor(Z,$){if(!0===Z)this.trainingSet=new E.Matrix($.trainingSet),this.YLoadingMat=new E.Matrix($.YLoadingMat),this.SigmaPow=new E.Matrix($.SigmaPow),this.YScoreMat=new E.Matrix($.YScoreMat),this.predScoreMat=(0,O.initializeMatrices)($.predScoreMat,!1),this.YOrthLoadingVec=(0,O.initializeMatrices)($.YOrthLoadingVec,!1),this.YOrthEigen=$.YOrthEigen,this.YOrthScoreMat=(0,O.initializeMatrices)($.YOrthScoreMat,!1),this.toNorm=(0,O.initializeMatrices)($.toNorm,!1),this.TURegressionCoeff=(0,O.initializeMatrices)($.TURegressionCoeff,!1),this.kernelX=(0,O.initializeMatrices)($.kernelX,!0),this.kernel=$.kernel,this.orthogonalComp=$.orthogonalComp,this.predictiveComp=$.predictiveComp;else{if(Z.predictiveComponents===void 0)throw new RangeError('no predictive components found!');if(void 0===Z.orthogonalComponents)throw new RangeError('no orthogonal components found!');if(void 0===Z.kernel)throw new RangeError('no kernel found!');this.orthogonalComp=Z.orthogonalComponents,this.predictiveComp=Z.predictiveComponents,this.kernel=Z.kernel}}train(Z,$){Z=E.Matrix.checkMatrix(Z),$=E.Matrix.checkMatrix($),this.trainingSet=Z.clone();var ee=this.kernel.compute(Z),te=E.Matrix.eye(ee.rows,ee.rows,1),ie=ee;ee=new E.Matrix(this.orthogonalComp+1,this.orthogonalComp+1),ee[0][0]=ie;var ne=new E.SingularValueDecomposition($.transpose().mmul(ee[0][0]).mmul($),{computeLeftSingularVectors:!0,computeRightSingularVectors:!1}),oe=ne.leftSingularVectors,ae=ne.diagonalMatrix;oe=oe.subMatrix(0,oe.rows-1,0,this.predictiveComp-1),ae=ae.subMatrix(0,this.predictiveComp-1,0,this.predictiveComp-1);var se=$.mmul(oe),le=Array(this.orthogonalComp+1),de=Array(this.orthogonalComp+1),ue=Array(this.orthogonalComp),ce=Array(this.orthogonalComp),me=Array(this.orthogonalComp),ge=Array(this.orthogonalComp),pe=E.Matrix.pow(ae,-0.5);pe.apply(function(ke,je){this[ke][je]===Infinity&&(this[ke][je]=0)});for(var he=0;he<this.orthogonalComp;++he){le[he]=ee[0][he].transpose().mmul(se).mmul(pe);var fe=le[he].transpose();de[he]=(0,E.inverse)(fe.mmul(le[he])).mmul(fe).mmul(se),ne=new E.SingularValueDecomposition(fe.mmul(E.Matrix.sub(ee[he][he],le[he].mmul(fe))).mmul(le[he]),{computeLeftSingularVectors:!0,computeRightSingularVectors:!1});var xe=ne.leftSingularVectors,ye=ne.diagonalMatrix;ce[he]=xe.subMatrix(0,xe.rows-1,0,0),me[he]=ye[0][0],ue[he]=E.Matrix.sub(ee[he][he],le[he].mmul(fe)).mmul(le[he]).mmul(ce[he]).mul(Math.pow(me[he],-0.5));var be=ue[he].transpose();ge[he]=E.Matrix.sqrt(be.mmul(ue[he])),ue[he]=ue[he].divRowVector(ge[he]);var we=E.Matrix.sub(te,ue[he].mmul(ue[he].transpose()));ee[0][he+1]=ee[0][he].mmul(we),ee[he+1][he+1]=we.mmul(ee[he][he]).mmul(we)}var _e=le[this.orthogonalComp]=ee[0][this.orthogonalComp].transpose().mmul(se).mmul(pe),ve=_e.transpose();de[this.orthogonalComp]=(0,E.inverse)(ve.mmul(_e)).mmul(ve).mmul(se),this.YLoadingMat=oe,this.SigmaPow=pe,this.YScoreMat=se,this.predScoreMat=le,this.YOrthLoadingVec=ce,this.YOrthEigen=me,this.YOrthScoreMat=ue,this.toNorm=ge,this.TURegressionCoeff=de,this.kernelX=ee}predict(Z){var $=this.kernel.compute(Z,this.trainingSet),ee=$;$=new E.Matrix(this.orthogonalComp+1,this.orthogonalComp+1),$[0][0]=ee;var te=Array(this.orthogonalComp),ie=Array(this.orthogonalComp),ne;for(ne=0;ne<this.orthogonalComp;++ne){ie[ne]=$[ne][0].mmul(this.YScoreMat).mmul(this.SigmaPow),te[ne]=E.Matrix.sub($[ne][ne],ie[ne].mmul(this.predScoreMat[ne].transpose())).mmul(this.predScoreMat[ne]).mmul(this.YOrthLoadingVec[ne]).mul(Math.pow(this.YOrthEigen[ne],-0.5)),te[ne]=te[ne].divRowVector(this.toNorm[ne]);var oe=this.YOrthScoreMat[ne].transpose();$[ne+1][0]=E.Matrix.sub($[ne][0],te[ne].mmul(oe).mmul(this.kernelX[0][ne].transpose()));var ae=E.Matrix.sub($[ne][0],$[ne][ne].mmul(this.YOrthScoreMat[ne]).mmul(oe)),se=te[ne].mmul(oe).mmul(this.kernelX[ne][ne]),le=se.mmul(this.YOrthScoreMat[ne]).mmul(oe);$[ne+1][ne+1]=ae.sub(se).add(le)}ie[ne]=$[ne][0].mmul(this.YScoreMat).mmul(this.SigmaPow);var de=ie[ne].mmul(this.TURegressionCoeff[ne]).mmul(this.YLoadingMat.transpose());return{prediction:de,predScoreMat:ie,predYOrthVectors:te}}toJSON(){return{name:'K-OPLS',YLoadingMat:this.YLoadingMat,SigmaPow:this.SigmaPow,YScoreMat:this.YScoreMat,predScoreMat:this.predScoreMat,YOrthLoadingVec:this.YOrthLoadingVec,YOrthEigen:this.YOrthEigen,YOrthScoreMat:this.YOrthScoreMat,toNorm:this.toNorm,TURegressionCoeff:this.TURegressionCoeff,kernelX:this.kernelX,trainingSet:this.trainingSet,orthogonalComp:this.orthogonalComp,predictiveComp:this.predictiveComp}}static load(Z,$){if('K-OPLS'!==Z.name)throw new RangeError('Invalid model: '+Z.name);if(!$)throw new RangeError('You must provide a kernel for the model!');return Z.kernel=$,new G(!0,Z)}}I.KOPLS=G},function(R,I,D){'use strict';function E(ae,se){if(ae.length!==se.length)throw new Error('features and labels should have the same length')}function O(ae,se){return Array(ae).fill(0).map(()=>Array(se).fill(0))}function G(ae){for(var se=new Set,le=0;le<ae.length;le++)se.add(ae[le]);return Array.from(se)}function Z(ae,se,le,de,ue,ce,me,ge){var pe=te(se,le,ue,ce),he=pe.testFeatures,fe=pe.trainFeatures,xe=pe.testLabels,ye=pe.trainLabels,be;ae.prototype.train?(be=new ae(de),be.train(fe,ye)):be=new ae(fe,ye,de);var we=be.predict(he);ee(me,xe,we,ge)}function $(ae,se,le,de,ue,ce,me){var ge=te(ae,se,le,de),pe=ge.testFeatures,he=ge.trainFeatures,fe=ge.testLabels,xe=ge.trainLabels,ye=me(he,xe,pe);ee(ue,fe,ye,ce)}function ee(ae,se,le,de){for(var ue=0;ue<le.length;ue++){var ce=de.indexOf(se[ue]),me=de.indexOf(le[ue]);(0>ce||0>me)&&console.warn(`ignore unknown predicted label ${le[ue]}`),ae[ce][me]++}}function te(ae,se,le,de){return{testFeatures:le.map(function(ue){return ae[ue]}),trainFeatures:de.map(function(ue){return ae[ue]}),testLabels:le.map(function(ue){return se[ue]}),trainLabels:de.map(function(ue){return se[ue]})}}var ie=D(32),ne={},oe=D(116);ne.leaveOneOut=function(ae,se,le,de){if('function'==typeof le){var ue=le;return le=se,se=ae,ne.leavePOut(se,le,1,ue)}return ne.leavePOut(ae,se,le,de,1)},ne.leavePOut=function(ae,se,le,de,ue){if('function'==typeof de){var ce=de;ue=le,le=se,se=ae}E(se,le);for(var me=G(le),ge=O(me.length,me.length),pe=se.length,he=oe(ue,pe),fe=Array(pe),xe=0;xe<pe;xe++)fe[xe]=xe;for(var ye of he){for(var be=fe.slice(),we=ye.length-1;0<=we;we--)be.splice(ye[we],1);ce?$(se,le,ye,be,ge,me,ce):Z(ae,se,le,de,ye,be,ge,me)}return new ie(ge,me)},ne.kFold=function(ae,se,le,de,ue){if('function'==typeof de){var ce=de;ue=le,le=se,se=ae}E(se,le);for(var me=G(le),ge=O(me.length,me.length),pe=se.length,he=Array(pe),fe=0;fe<pe;fe++)he[fe]=fe;for(var xe=Math.floor(pe/ue),ye=[],be=[],we;he.length;)we=Math.floor(Math.random()*he.length),ye.push(he[we]),he.splice(we,1),ye.length===xe&&(be.push(ye),ye=[]);for(ye.length&&be.push(ye),be=be.slice(0,ue),fe=0;fe<be.length;fe++){for(var _e=be[fe],ve=[],ke=0;ke<be.length;ke++)ke!==fe&&(ve=ve.concat(be[ke]));ce?$(se,le,_e,ve,ge,me,ce):Z(ae,se,le,de,_e,ve,ge,me)}return new ie(ge,me)},R.exports=ne},function(R){'use strict';(function(E,O){O()})(void 0,function(){'use strict';var O=function(ne,oe){return oe={exports:{}},ne(oe,oe.exports),oe.exports}(function(ne){!function(oe){function ae(Ae,Ee,Oe,Ne){var qe=Ee&&Ee.prototype instanceof le?Ee:le,Be=Object.create(qe.prototype),Xe=new xe(Ne||[]);return Be._invoke=ge(Ae,Oe,Xe),Be}function se(Ae,Ee,Oe){try{return{type:'normal',arg:Ae.call(Ee,Oe)}}catch(Ne){return{type:'throw',arg:Ne}}}function le(){}function de(){}function ue(){}function ce(Ae){['next','throw','return'].forEach(function(Ee){Ae[Ee]=function(Oe){return this._invoke(Ee,Oe)}})}function me(Ae){function Ee(qe,Be,Xe,Ye){var Ue=se(Ae[qe],Ae,Be);if('throw'===Ue.type)Ye(Ue.arg);else{var We=Ue.arg,Ge=We.value;return Ge&&'object'==typeof Ge&&_e.call(Ge,'__await')?Promise.resolve(Ge.__await).then(function(Ke){Ee('next',Ke,Xe,Ye)},function(Ke){Ee('throw',Ke,Xe,Ye)}):Promise.resolve(Ge).then(function(Ke){We.value=Ke,Xe(We)},Ye)}}var Ne;this._invoke=function(qe,Be){function Xe(){return new Promise(function(Ye,Ue){Ee(qe,Be,Ye,Ue)})}return Ne=Ne?Ne.then(Xe,Xe):Xe()}}function ge(Ae,Ee,Oe){var Ne=Re;return function(Be,Xe){if(Ne===Ie)throw new Error('Generator is already running');if(Ne===ze){if('throw'===Be)throw Xe;return be()}for(Oe.method=Be,Oe.arg=Xe;;){var Ye=Oe.delegate;if(Ye){var Ue=pe(Ye,Oe);if(Ue){if(Ue===De)continue;return Ue}}if('next'===Oe.method)Oe.sent=Oe._sent=Oe.arg;else if('throw'===Oe.method){if(Ne===Re)throw Ne=ze,Oe.arg;Oe.dispatchException(Oe.arg)}else'return'===Oe.method&&Oe.abrupt('return',Oe.arg);Ne=Ie;var We=se(Ae,Ee,Oe);if('normal'===We.type){if(Ne=Oe.done?ze:'suspendedYield',We.arg===De)continue;return{value:We.arg,done:Oe.done}}'throw'===We.type&&(Ne=ze,Oe.method='throw',Oe.arg=We.arg)}}}function pe(Ae,Ee){var Oe=Ae.iterator[Ee.method];if(Oe===ve){if(Ee.delegate=null,'throw'===Ee.method){if(Ae.iterator.return&&(Ee.method='return',Ee.arg=ve,pe(Ae,Ee),'throw'===Ee.method))return De;Ee.method='throw',Ee.arg=new TypeError('The iterator does not provide a \'throw\' method')}return De}var Ne=se(Oe,Ae.iterator,Ee.arg);if('throw'===Ne.type)return Ee.method='throw',Ee.arg=Ne.arg,Ee.delegate=null,De;var qe=Ne.arg;if(!qe)return Ee.method='throw',Ee.arg=new TypeError('iterator result is not an object'),Ee.delegate=null,De;if(qe.done)Ee[Ae.resultName]=qe.value,Ee.next=Ae.nextLoc,'return'!==Ee.method&&(Ee.method='next',Ee.arg=ve);else return qe;return Ee.delegate=null,De}function he(Ae){var Ee={tryLoc:Ae[0]};1 in Ae&&(Ee.catchLoc=Ae[1]),2 in Ae&&(Ee.finallyLoc=Ae[2],Ee.afterLoc=Ae[3]),this.tryEntries.push(Ee)}function fe(Ae){var Ee=Ae.completion||{};Ee.type='normal',delete Ee.arg,Ae.completion=Ee}function xe(Ae){this.tryEntries=[{tryLoc:'root'}],Ae.forEach(he,this),this.reset(!0)}function ye(Ae){if(Ae){var Ee=Ae[je];if(Ee)return Ee.call(Ae);if('function'==typeof Ae.next)return Ae;if(!isNaN(Ae.length)){var Oe=-1,Ne=function qe(){for(;++Oe<Ae.length;)if(_e.call(Ae,Oe))return qe.value=Ae[Oe],qe.done=!1,qe;return qe.value=ve,qe.done=!0,qe};return Ne.next=Ne}}return{next:be}}function be(){return{value:ve,done:!0}}var we=Object.prototype,_e=we.hasOwnProperty,ve,ke='function'==typeof Symbol?Symbol:{},je=ke.iterator||'@@iterator',Me=ke.asyncIterator||'@@asyncIterator',Pe=ke.toStringTag||'@@toStringTag',Se=oe.regeneratorRuntime;if(Se)return void(ne.exports=Se);Se=oe.regeneratorRuntime=ne.exports,Se.wrap=ae;var Re='suspendedStart',Ie='executing',ze='completed',De={},Ve={};Ve[je]=function(){return this};var Le=Object.getPrototypeOf,Te=Le&&Le(Le(ye([])));Te&&Te!==we&&_e.call(Te,je)&&(Ve=Te);var Fe=ue.prototype=le.prototype=Object.create(Ve);de.prototype=Fe.constructor=ue,ue.constructor=de,ue[Pe]=de.displayName='GeneratorFunction',Se.isGeneratorFunction=function(Ae){var Ee='function'==typeof Ae&&Ae.constructor;return!!Ee&&(Ee===de||'GeneratorFunction'===(Ee.displayName||Ee.name))},Se.mark=function(Ae){return Object.setPrototypeOf?Object.setPrototypeOf(Ae,ue):(Ae.__proto__=ue,!(Pe in Ae)&&(Ae[Pe]='GeneratorFunction')),Ae.prototype=Object.create(Fe),Ae},Se.awrap=function(Ae){return{__await:Ae}},ce(me.prototype),me.prototype[Me]=function(){return this},Se.AsyncIterator=me,Se.async=function(Ae,Ee,Oe,Ne){var qe=new me(ae(Ae,Ee,Oe,Ne));return Se.isGeneratorFunction(Ee)?qe:qe.next().then(function(Be){return Be.done?Be.value:qe.next()})},ce(Fe),Fe[Pe]='Generator',Fe[je]=function(){return this},Fe.toString=function(){return'[object Generator]'},Se.keys=function(Ae){var Ee=[];for(var Oe in Ae)Ee.push(Oe);return Ee.reverse(),function Ne(){for(;Ee.length;){var qe=Ee.pop();if(qe in Ae)return Ne.value=qe,Ne.done=!1,Ne}return Ne.done=!0,Ne}},Se.values=ye,xe.prototype={constructor:xe,reset:function(Ee){if(this.prev=0,this.next=0,this.sent=this._sent=ve,this.done=!1,this.delegate=null,this.method='next',this.arg=ve,this.tryEntries.forEach(fe),!Ee)for(var Oe in this)'t'===Oe.charAt(0)&&_e.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=ve)},stop:function(){this.done=!0;var Ee=this.tryEntries[0],Oe=Ee.completion;if('throw'===Oe.type)throw Oe.arg;return this.rval},dispatchException:function(Ee){function Oe(We,Ge){return Xe.type='throw',Xe.arg=Ee,Ne.next=We,Ge&&(Ne.method='next',Ne.arg=ve),!!Ge}if(this.done)throw Ee;for(var Ne=this,qe=this.tryEntries.length-1;0<=qe;--qe){var Be=this.tryEntries[qe],Xe=Be.completion;if('root'===Be.tryLoc)return Oe('end');if(Be.tryLoc<=this.prev){var Ye=_e.call(Be,'catchLoc'),Ue=_e.call(Be,'finallyLoc');if(Ye&&Ue){if(this.prev<Be.catchLoc)return Oe(Be.catchLoc,!0);if(this.prev<Be.finallyLoc)return Oe(Be.finallyLoc)}else if(Ye){if(this.prev<Be.catchLoc)return Oe(Be.catchLoc,!0);}else if(!Ue)throw new Error('try statement without catch or finally');else if(this.prev<Be.finallyLoc)return Oe(Be.finallyLoc)}}},abrupt:function(Ee,Oe){for(var Ne=this.tryEntries.length-1,qe;0<=Ne;--Ne)if(qe=this.tryEntries[Ne],qe.tryLoc<=this.prev&&_e.call(qe,'finallyLoc')&&this.prev<qe.finallyLoc){var Be=qe;break}Be&&('break'===Ee||'continue'===Ee)&&Be.tryLoc<=Oe&&Oe<=Be.finallyLoc&&(Be=null);var Xe=Be?Be.completion:{};return Xe.type=Ee,Xe.arg=Oe,Be?(this.method='next',this.next=Be.finallyLoc,De):this.complete(Xe)},complete:function(Ee,Oe){if('throw'===Ee.type)throw Ee.arg;return'break'===Ee.type||'continue'===Ee.type?this.next=Ee.arg:'return'===Ee.type?(this.rval=this.arg=Ee.arg,this.method='return',this.next='end'):'normal'===Ee.type&&Oe&&(this.next=Oe),De},finish:function(Ee){for(var Oe=this.tryEntries.length-1,Ne;0<=Oe;--Oe)if(Ne=this.tryEntries[Oe],Ne.finallyLoc===Ee)return this.complete(Ne.completion,Ne.afterLoc),fe(Ne),De},'catch':function(Ee){for(var Oe=this.tryEntries.length-1,Ne;0<=Oe;--Oe)if(Ne=this.tryEntries[Oe],Ne.tryLoc===Ee){var qe=Ne.completion;if('throw'===qe.type){var Be=qe.arg;fe(Ne)}return Be}throw new Error('illegal catch attempt')},delegateYield:function(Ee,Oe,Ne){return this.delegate={iterator:ye(Ee),resultName:Oe,nextLoc:Ne},'next'===this.method&&(this.arg=ve),De}}}(function(){return this}()||Function('return this')())}),G=function(){return this}()||Function('return this')(),Z=G.regeneratorRuntime&&0<=Object.getOwnPropertyNames(G).indexOf('regeneratorRuntime'),$=Z&&G.regeneratorRuntime;G.regeneratorRuntime=void 0;if(Z)G.regeneratorRuntime=$;else try{delete G.regeneratorRuntime}catch(ne){G.regeneratorRuntime=void 0}var te=O,ie={mode:'index'};R.exports=te.mark(function ne(oe,ae,se){var le,de,ue,ce,me,ge,pe,he,fe;return te.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:for(fe=function(){var we,_e,ve;for(_e=1;0>=ce[_e];)_e++;if(0===ce[_e-1]){for(we=_e-1;1!==we;we--)ce[we]=-1;ce[_e]=0,me=pe=0,ce[1]=1,ge=_e-1}else{1<_e&&(ce[_e-1]=0);do _e++;while(0<ce[_e]);for(ve=_e-1,we=_e;0===ce[we];)ce[we++]=-1;if(-1===ce[we])ce[we]=ce[ve],pe=ce[ve]-1,me=we-1,ge=ve-1,ce[ve]=-1;else{if(we===ce[0])return 0;ce[_e]=ce[we],pe=ce[we]-1,ce[we]=0,me=_e-1,ge=we-1}}return 1},se=Object.assign({},ie,se),le=Array(ae),de=Array(oe),ue=Array(ae),ce=Array(ae+2),he=0;he<ae;he++)le[he]=he,ue[he]=he<ae-oe?0:1;for(he=0;he<oe;he++)de[he]=ae-oe+he;for(he=0;he<ce.length;he++)ce[he]=0===he?ae+1:he<=ae-oe?0:he<=ae?he-ae+oe:-2;if('index'!==se.mode){ye.next=20;break}return ye.next=12,de.slice();case 12:if(!fe()){ye.next=18;break}return de[pe]=le[me],ye.next=16,de.slice();case 16:ye.next=12;break;case 18:ye.next=33;break;case 20:if('mask'!==se.mode){ye.next=32;break}return ye.next=23,ue.slice();case 23:if(!fe()){ye.next=30;break}return ue[me]=1,ue[ge]=0,ye.next=28,ue.slice();case 28:ye.next=23;break;case 30:ye.next=33;break;case 32:throw new Error('Invalid mode');case 33:case'end':return ye.stop();}},ne,this)})})},function(R,I,D){'use strict';var E=D(0).Matrix,O=D(33),G=D(118),Z=D(34),$=D(35);class ee{constructor(te){if(te=te||{},te.model){this.hiddenLayers=te.hiddenLayers,this.iterations=te.iterations,this.learningRate=te.learningRate,this.regularization=te.regularization,this.dicts=te.dicts,this.activation=te.activation,this.activationParam=te.activationParam,this.model=Array(te.layers.length);for(var ie=0;ie<this.model.length-1;++ie)this.model[ie]=O.load(te.layers[ie]);this.model[this.model.length-1]=G.load(te.layers[this.model.length-1])}else this.hiddenLayers=te.hiddenLayers||[10],this.iterations=te.iterations||50,this.learningRate=te.learningRate||0.01,this.regularization=te.regularization||0.01,this.activation=te.activation||'tanh',this.activationParam=te.activationParam||1,this.activation in Object.keys($)||(this.activation='tanh')}buildNetwork(te,ie){var ne=2+(this.hiddenLayers.length-1);this.model=Array(ne),this.model[0]=new O({inputSize:te,outputSize:this.hiddenLayers[0],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});for(var oe=1;oe<this.hiddenLayers.length;++oe)this.model[oe]=new O({inputSize:this.hiddenLayers[oe-1],outputSize:this.hiddenLayers[oe],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});this.model[ne-1]=new G({inputSize:this.hiddenLayers[this.hiddenLayers.length-1],outputSize:ie,activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate})}train(te,ie){te=E.checkMatrix(te),this.dicts=Z.dictOutputs(ie);var ne=te.columns,oe=Object.keys(this.dicts.inputs).length;this.buildNetwork(ne,oe);for(var ae=0,se;ae<this.iterations;++ae)se=this.propagate(te),this.backpropagation(te,ie,se)}propagate(te){for(var ie=te,ne=0;ne<this.model.length;++ne)ie=this.model[ne].forward(ie);return ie.divColumnVector(Z.sumRow(ie))}backpropagation(te,ie,ne){for(var oe=0;oe<ne.length;++oe)ne[oe][this.dicts.inputs[ie[oe]]]-=1;var ae=ne;for(oe=this.model.length-1;0<=oe;--oe){var se=0<oe?this.model[oe-1].a:te;ae=this.model[oe].backpropagation(ae,se)}for(oe=0;oe<this.model.length;++oe)this.model[oe].update()}predict(te){te=E.checkMatrix(te);for(var ie=Array(te.rows),ne=this.propagate(te),oe=0;oe<te.rows;++oe)ie[oe]=this.dicts.outputs[ne.maxRowIndex(oe)[1]];return ie}toJSON(){for(var te={model:'FNN',hiddenLayers:this.hiddenLayers,iterations:this.iterations,learningRate:this.learningRate,regularization:this.regularization,activation:this.activation,activationParam:this.activationParam,dicts:this.dicts,layers:Array(this.model.length)},ie=0;ie<this.model.length;++ie)te.layers[ie]=this.model[ie].toJSON();return te}static load(te){if('FNN'!==te.model)throw new RangeError('the current model is not a feed forward network');return new ee(te)}}R.exports=ee},function(R,I,D){'use strict';var E=D(33);class O extends E{constructor(G){super(G),this.activationFunction=function(Z,$){this[Z][$]=Math.exp(this[Z][$])}}static load(G){if('Layer'!==G.model)throw new RangeError('the current model is not a Layer model');return new O(G)}}R.exports=O},function(module,exports,__webpack_require__){'use strict';function SOM(R,I,D,E){for(var O in this.x=R,this.y=I,D=D||{},this.options={},defaultOptions)this.options[O]=D.hasOwnProperty(O)?D[O]:defaultOptions[O];if('number'==typeof this.options.fields)this.numWeights=this.options.fields;else if(Array.isArray(this.options.fields)){this.numWeights=this.options.fields.length;var G=getConverters(this.options.fields);this.extractor=G.extractor,this.creator=G.creator}else throw new Error('Invalid fields definition');if('rect'===this.options.gridType)this.nodeType=NodeSquare,this.gridDim={x:R,y:I};else{this.nodeType=NodeHexagonal;var Z=this.x-Math.floor(this.y/2);this.gridDim={x:Z,y:this.y,z:-(0-Z-this.y)}}if(this.torus=this.options.torus,this.distanceMethod=this.torus?'getDistanceTorus':'getDistance',this.distance=this.options.distance,this.maxDistance=getMaxDistance(this.distance,this.numWeights),!0===E)return void(this.done=!0);if(!(0<R&&0<I))throw new Error('x and y must be positive');this.times={findBMU:0,adjust:0},this.randomizer=this.options.randomizer,this.iterationCount=0,this.iterations=this.options.iterations,this.startLearningRate=this.learningRate=this.options.learningRate,this.mapRadius=Math.floor(Math.max(R,I)/2),this.algorithmMethod=this.options.method,this._initNodes(),this.done=!1}function getConverters(R){for(var I=R.length,D=Array(I),E=Array(I),O=0;O<I;O++)D[O]=getNormalizer(R[O].range),E[O]=getDenormalizer(R[O].range);return{extractor:function(Z){for(var $=Array(I),ee=0;ee<I;ee++)$[ee]=D[ee](Z[R[ee].name]);return $},creator:function(Z){for(var $={},ee=0;ee<I;ee++)$[R[ee].name]=E[ee](Z[ee]);return $}}}function getNormalizer(R){return function(D){return(D-R[0])/(R[1]-R[0])}}function getDenormalizer(R){return function(D){return R[0]+D*(R[1]-R[0])}}function getRandomValue(R,I){return R[Math.floor(I()*R.length)]}function getMaxDistance(R,I){for(var D=Array(I),E=Array(I),O=0;O<I;O++)D[O]=0,E[O]=1;return R(D,E)}var NodeSquare=__webpack_require__(36),NodeHexagonal=__webpack_require__(120),defaultOptions={fields:3,randomizer:Math.random,distance:function(R,I){for(var D=0,E=0,O=R.length;E<O;E++)D+=(R[E]-I[E])*(R[E]-I[E]);return D},iterations:10,learningRate:0.1,gridType:'rect',torus:!0,method:'random'};SOM.load=function(model,distance){if('SOM'===model.name){var x=model.data.length,y=model.data[0].length;distance?model.options.distance=distance:model.options.distance&&(model.options.distance=eval('('+model.options.distance+')'));var som=new SOM(x,y,model.options,!0);som.nodes=Array(x);for(var i=0;i<x;i++){som.nodes[i]=Array(y);for(var j=0;j<y;j++)som.nodes[i][j]=new som.nodeType(i,j,model.data[i][j],som)}return som}throw new Error('expecting a SOM model')},SOM.prototype.export=function(I){if(!this.done)throw new Error('model is not ready yet');for(var D={name:'SOM',options:{fields:this.options.fields,gridType:this.options.gridType,torus:this.options.torus},data:Array(this.x)},E=0;E<this.x;E++){D.data[E]=Array(this.y);for(var O=0;O<this.y;O++)D.data[E][O]=this.nodes[E][O].weights}return I&&(D.options.distance=this.distance.toString()),D},SOM.prototype._initNodes=function(){var I=Date.now(),D,E,O;for(this.nodes=Array(this.x),D=0;D<this.x;D++)for(this.nodes[D]=Array(this.y),E=0;E<this.y;E++){var G=Array(this.numWeights);for(O=0;O<this.numWeights;O++)G[O]=this.randomizer();this.nodes[D][E]=new this.nodeType(D,E,G,this)}this.times.initNodes=Date.now()-I},SOM.prototype.setTraining=function(I){if(this.trainingSet)throw new Error('training set has already been set');var D=Date.now(),E=I,O,G=I.length;if(this.extractor)for(E=Array(G),O=0;O<G;O++)E[O]=this.extractor(I[O]);this.numIterations=this.iterations*G,this.timeConstant='random'===this.algorithmMethod?this.numIterations/Math.log(this.mapRadius):G/Math.log(this.mapRadius),this.trainingSet=E,this.times.setTraining=Date.now()-D},SOM.prototype.trainOne=function(){if(this.done)return!1;if(0<this.numIterations--){var I,D,E;return'random'===this.algorithmMethod?(I=this.mapRadius*Math.exp(-this.iterationCount/this.timeConstant),D=getRandomValue(this.trainingSet,this.randomizer),this._adjust(D,I),this.learningRate=this.startLearningRate*Math.exp(-this.iterationCount/this.numIterations)):(E=-Math.floor(this.iterationCount/this.trainingSet.length),I=this.mapRadius*Math.exp(E/this.timeConstant),D=this.trainingSet[this.iterationCount%this.trainingSet.length],this._adjust(D,I),0==(this.iterationCount+1)%this.trainingSet.length&&(this.learningRate=this.startLearningRate*Math.exp(E/Math.floor(this.numIterations/this.trainingSet.length)))),this.iterationCount++,!0}return this.done=!0,!1},SOM.prototype._adjust=function(I,D){var E=Date.now(),O,G,Z,$,ee=this._findBestMatchingUnit(I),te=Date.now();this.times.findBMU+=te-E;var ie=Math.floor(D),ne=ee.x-ie,oe=ee.x+ie,ae=ee.y-ie,se=ee.y+ie;for(O=ne;O<=oe;O++){var le=O;for(0>O?le+=this.x:O>=this.x&&(le-=this.x),G=ae;G<=se;G++){var de=G;0>G?de+=this.y:G>=this.y&&(de-=this.y),Z=ee[this.distanceMethod](this.nodes[le][de]),Z<D&&($=Math.exp(-Z/(2*D)),this.nodes[le][de].adjustWeights(I,this.learningRate,$))}}this.times.adjust+=Date.now()-te},SOM.prototype.train=function(I){if(!this.done)for(this.setTraining(I);this.trainOne(););},SOM.prototype.getConvertedNodes=function(){for(var I=Array(this.x),D=0;D<this.x;D++){I[D]=Array(this.y);for(var E=0,O;E<this.y;E++)O=this.nodes[D][E],I[D][E]=this.creator?this.creator(O.weights):O.weights}return I},SOM.prototype._findBestMatchingUnit=function(I){for(var E=Infinity,G=0,D,O;G<this.x;G++)for(var Z=0;Z<this.y;Z++)O=this.distance(this.nodes[G][Z].weights,I),O<E&&(E=O,D=this.nodes[G][Z]);return D},SOM.prototype.predict=function(I,D){if('boolean'==typeof I&&(D=I,I=null),I||(I=this.trainingSet),Array.isArray(I)&&(Array.isArray(I[0])||'object'==typeof I[0])){var E=this;return I.map(function(O){return E._predict(O,D)})}return this._predict(I,D)},SOM.prototype._predict=function(I,D){Array.isArray(I)||(I=this.extractor(I));var E=this._findBestMatchingUnit(I),O=[E.x,E.y];return D&&(O[2]=E.getPosition(I)),O},SOM.prototype.getQuantizationError=function(){for(var I=this.getFit(),D=I.length,E=0,O=0;O<D;O++)E+=I[O];return E/D},SOM.prototype.getFit=function(I){I||(I=this.trainingSet);for(var D=I.length,O=Array(D),G=0,E;G<D;G++)E=this._findBestMatchingUnit(I[G]),O[G]=Math.sqrt(this.distance(I[G],E.weights));return O},module.exports=SOM},function(R,I,D){'use strict';function E(G,Z,$,ee){O.call(this,G,Z,$,ee),this.hX=G-Math.floor(Z/2),this.z=0-this.hX-Z}var O=D(36);E.prototype=new O,E.prototype.constructor=E,E.prototype.getDistance=function(Z){return Math.max(Math.abs(this.hX-Z.hX),Math.abs(this.y-Z.y),Math.abs(this.z-Z.z))},E.prototype.getDistanceTorus=function(Z){var $=Math.abs(this.hX-Z.hX),ee=Math.abs(this.y-Z.y),te=Math.abs(this.z-Z.z);return Math.max(Math.min($,this.som.gridDim.x-$),Math.min(ee,this.som.gridDim.y-ee),Math.min(te,this.som.gridDim.z-te))},E.prototype.getPosition=function(){throw new Error('Unimplemented : cannot get position of the points for hexagonal grid')},R.exports=E},function(R,I){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(O,G){return 0>O?(O=0-O,'number'==typeof G?'- '+O.toPrecision(G):'- '+O.toString()):'number'==typeof G?O.toPrecision(G):O.toString()}},function(R,I){'use strict';Object.defineProperty(I,'__esModule',{value:!0}),I.default=function(O,G){if(!Array.isArray(O)||!Array.isArray(G))throw new TypeError('x and y must be arrays');if(O.length!==G.length)throw new RangeError('x and y arrays must have the same length')}},function(R,I,D){'use strict';function E(ie){return ie&&ie.__esModule?ie:{default:ie}}function O(ie,ne,oe){for(var ae=ne.length,se=Array(ae),le=0;le<ae;le++)se[le]=Math.log(oe[le]);var de=new ee.default(ne,se);ie.A=de.slope,ie.B=Math.exp(de.intercept)}Object.defineProperty(I,'__esModule',{value:!0});var G=D(2),Z=E(G),$=D(15),ee=E($);class te extends Z.default{constructor(ie,ne){super(),!0===ie?(this.A=ne.A,this.B=ne.B):((0,G.checkArrayLength)(ie,ne),O(this,ie,ne))}_predict(ie){return this.B*Math.exp(ie*this.A)}toJSON(){return{name:'exponentialRegression',A:this.A,B:this.B}}toString(ie){return'f(x) = '+(0,G.maybeToPrecision)(this.B,ie)+' * e^('+(0,G.maybeToPrecision)(this.A,ie)+' * x)'}toLaTeX(ie){return 0<=this.A?'f(x) = '+(0,G.maybeToPrecision)(this.B,ie)+'e^{'+(0,G.maybeToPrecision)(this.A,ie)+'x}':'f(x) = \\frac{'+(0,G.maybeToPrecision)(this.B,ie)+'}{e^{'+(0,G.maybeToPrecision)(-this.A,ie)+'x}}'}static load(ie){if('exponentialRegression'!==ie.name)throw new TypeError('not a exponential regression model');return new te(!0,ie)}}I.default=te},function(R,I,D){'use strict';function E(ie){return ie&&ie.__esModule?ie:{default:ie}}function O(ie,ne,oe){for(var ae=ne.length,se=Array(ae),le=Array(ae),de=0;de<ae;de++)se[de]=Math.log(ne[de]),le[de]=Math.log(oe[de]);var ue=new ee.default(se,le);ie.A=Math.exp(ue.intercept),ie.B=ue.slope}Object.defineProperty(I,'__esModule',{value:!0});var G=D(2),Z=E(G),$=D(15),ee=E($);class te extends Z.default{constructor(ie,ne){super(),!0===ie?(this.A=ne.A,this.B=ne.B):((0,G.checkArrayLength)(ie,ne),O(this,ie,ne))}_predict(ie){return this.A*Math.pow(ie,this.B)}toJSON(){return{name:'powerRegression',A:this.A,B:this.B}}toString(ie){return'f(x) = '+(0,G.maybeToPrecision)(this.A,ie)+' * x^'+(0,G.maybeToPrecision)(this.B,ie)}toLaTeX(ie){return 0<=this.B?'f(x) = '+(0,G.maybeToPrecision)(this.A,ie)+'x^{'+(0,G.maybeToPrecision)(this.B,ie)+'}':'f(x) = \\frac{'+(0,G.maybeToPrecision)(this.A,ie)+'}{x^{'+(0,G.maybeToPrecision)(-this.B,ie)+'}}'}static load(ie){if('powerRegression'!==ie.name)throw new TypeError('not a power regression model');return new te(!0,ie)}}I.default=te},function(R,I,D){'use strict';function E(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(0),G=E(O),Z=D(2),$=E(Z);class ee extends $.default{constructor(te,ie,ne={}){var oe=ne.intercept,ae=void 0===oe||oe,se=ne.statistics,le=void 0===se||se;if(super(),this.statistics=le,!0===te)this.weights=ie.weights,this.inputs=ie.inputs,this.outputs=ie.outputs,this.intercept=ie.intercept;else{te=new G.default(te),ae&&te.addColumn(Array(te.length).fill(1));var de=new O.SVD(te,{autoTranspose:!0}).solve(ie);if(this.weights=de.to2DArray(),this.inputs=te[0].length,this.outputs=ie[0].length,ae&&this.inputs--,this.intercept=ae,le){var ue=te.mmul(de),ce=new G.default(ie).addM(ue.neg()),me=ce.to2DArray().map(ge=>Math.pow(ge[0],2)).reduce((ge,pe)=>ge+pe)/(ie.length-te.columns);this.stdError=Math.sqrt(me),this.stdErrorMatrix=te.transposeView().mmul(te).pseudoInverse().mul(me),this.stdErrors=this.stdErrorMatrix.diagonal().map(ge=>Math.sqrt(ge)),this.tStats=this.weights.map((ge,pe)=>0===this.stdErrors[pe]?0:ge[0]/this.stdErrors[pe])}}}predict(te){if(Array.isArray(te)){if('number'==typeof te[0])return this._predict(te);if(Array.isArray(te[0])){for(var ie=Array(te.length),ne=0;ne<te.length;ne++)ie[ne]=this._predict(te[ne]);return ie}}throw new TypeError('x must be a matrix or array of numbers')}_predict(te){var ie=Array(this.outputs);if(this.intercept)for(var ne=0;ne<this.outputs;ne++)ie[ne]=this.weights[this.inputs][ne];else ie.fill(0);for(var oe=0;oe<this.inputs;oe++)for(var ae=0;ae<this.outputs;ae++)ie[ae]+=this.weights[oe][ae]*te[oe];return ie}score(){throw new Error('score method is not implemented yet')}toJSON(){return{name:'multivariateLinearRegression',weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((te,ie)=>{return{label:ie===this.weights.length-1?'Intercept':`X Variable ${ie+1}`,coefficients:te,standardError:this.stdErrors[ie],tStat:this.tStats[ie]}})}:void 0}}static load(te){if('multivariateLinearRegression'!==te.name)throw new Error('not a MLR model');return new ee(!0,te)}}I.default=ee},function(R,I,D){'use strict';function E(ne){return ne&&ne.__esModule?ne:{default:ne}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(0),G=D(14),Z=E(G),$=D(2),ee=E($),te={lambda:0.1,kernelType:'gaussian',kernelOptions:{},computeCoefficient:!1};class ie extends ee.default{constructor(ne,oe,ae){if(super(),!0===ne)this.alpha=oe.alpha,this.inputs=oe.inputs,this.kernelType=oe.kernelType,this.kernelOptions=oe.kernelOptions,this.kernel=new Z.default(oe.kernelType,oe.kernelOptions);else{ae=Object.assign({},te,ae);var se=new Z.default(ae.kernelType,ae.kernelOptions),le=se.compute(ne),de=ne.length;le.add(O.Matrix.eye(de,de).mul(ae.lambda)),this.alpha=(0,O.solve)(le,oe),this.inputs=ne,this.kernelType=ae.kernelType,this.kernelOptions=ae.kernelOptions,this.kernel=se}}_predict(ne){return this.kernel.compute([ne],this.inputs).mmul(this.alpha)[0]}toJSON(){return{name:'kernelRidgeRegression',alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(ne){if('kernelRidgeRegression'!==ne.name)throw new TypeError('not a KRR model');return new ie(!0,ne)}}I.default=ie},function(R,I,D){'use strict';function O(ne,oe){for(var ae=ne.clone(),se=0;se<ne.rows;++se)ae[se][0]=Math.pow(ae[se][0],oe);return ae}function G(ne,oe){this[ne][oe]=Math.abs(this[ne][oe])}Object.defineProperty(I,'__esModule',{value:!0});var Z=D(0),$=D(2),ee=function(ne){return ne&&ne.__esModule?ne:{default:ne}}($),te={order:2};class ie extends ee.default{constructor(ne,oe,ae){super(),!0===ne?(this.coefficients=Z.Matrix.columnVector(oe.coefficients),this.order=oe.order,oe.r&&(this.r=oe.r,this.r2=oe.r2),oe.chi2&&(this.chi2=oe.chi2)):(ae=Object.assign({},te,ae),this.order=ae.order,this.coefficients=[],this.X=ne,this.y=oe,this.train(this.X,this.y,ae))}train(ne,oe){if(Z.Matrix.isMatrix(ne)||(ne=new Z.Matrix(ne)),Z.Matrix.isMatrix(oe)||(oe=Z.Matrix.columnVector(oe)),oe.rows!==ne.rows&&(oe=oe.transpose()),2!==ne.columns)throw new RangeError('You give X with '+ne.columns+' columns and it must be 2');if(ne.rows!==oe.rows)throw new RangeError('X and y must have the same rows');var ae=ne.rows,se=(this.order+2)*(this.order+1)/2;this.coefficients=Array(se);var le=ne.getColumnVector(0),de=ne.getColumnVector(1),ue=1/le.clone().apply(G).max(),ce=1/de.clone().apply(G).max(),me=1/oe.clone().apply(G).max();le.mulColumn(0,ue),de.mulColumn(0,ce),oe.mulColumn(0,me);for(var ge=new Z.Matrix(ae,se),pe=0,he=0,fe;he<=this.order;++he){fe=this.order-he;for(var xe=0,ye;xe<=fe;++xe)ye=O(le,he).mulColumnVector(O(de,xe)),ge.setColumn(pe,ye),pe++}var be=new Z.SVD(ge.transpose(),{computeLeftSingularVectors:!0,computeRightSingularVectors:!0,autoTranspose:!1}),we=Z.Matrix.rowVector(be.diagonal);we=we.apply(function(je,Me){this[je][Me]=1e-15<=this[je][Me]?1/this[je][Me]:0});var _e=Z.Matrix.zeros(ae,se);for(he=0;he<se;++he)_e[he][he]=we[0][he];we=_e;var ve=be.rightSingularVectors,ke=be.leftSingularVectors;for(this.coefficients=ke.mmul(we.transpose()).mmul(ve.transpose()).mmul(oe),pe=0,he=0;he<=se;++he)for(fe=this.order-he,xe=0;xe<=fe;++xe)this.coefficients[pe][0]=this.coefficients[pe][0]*Math.pow(ue,he)*Math.pow(ce,xe)/me,pe++}_predict(ne){for(var oe=ne[0],ae=ne[1],se=0,le=0,de=0;de<=this.order;de++)for(var ue=0;ue<=this.order-de;ue++)se+=Math.pow(oe,de)*Math.pow(ae,ue)*this.coefficients[le][0],le++;return se}toJSON(){return{name:'polyfit2D',order:this.order,coefficients:this.coefficients}}static load(ne){if('polyfit2D'!==ne.name)throw new TypeError('not a polyfit2D model');return new ie(!0,ne)}}I.default=ie},function(R,I,D){'use strict';function O(ie,ne,oe){for(var ae=ne.length,se=Array(ae*ae),le=0,de=0;de<ae;++de)for(var ue=de+1;ue<ae;++ue)ne[de]!==ne[ue]&&(se[le++]=(oe[ue]-oe[de])/(ne[ue]-ne[de]));se.length=le;for(var ce=ee(se),me=Array(ae),ge=0;ge<ae;++ge)me[ge]=oe[ge]-ce*ne[ge];ie.slope=ce,ie.intercept=ee(me),ie.coefficients=[ie.intercept,ie.slope]}Object.defineProperty(I,'__esModule',{value:!0});var G=D(2),Z=function(ie){return ie&&ie.__esModule?ie:{default:ie}}(G),$=D(4),ee=$.array.median;class te extends Z.default{constructor(ie,ne){super(),!0===ie?(this.slope=ne.slope,this.intercept=ne.intercept,this.coefficients=ne.coefficients):((0,G.checkArrayLength)(ie,ne),O(this,ie,ne))}toJSON(){return{name:'TheilSenRegression',slope:this.slope,intercept:this.intercept}}_predict(ie){return this.slope*ie+this.intercept}computeX(ie){return(ie-this.intercept)/this.slope}toString(ie){var ne='f(x) = ';if(this.slope){var oe=(0,G.maybeToPrecision)(this.slope,ie);if(ne+=(1e-5>Math.abs(oe-1)?'':oe+' * ')+'x',this.intercept){var ae=Math.abs(this.intercept),se=ae===this.intercept?'+':'-';ne+=' '+se+' '+(0,G.maybeToPrecision)(ae,ie)}}else ne+=(0,G.maybeToPrecision)(this.intercept,ie);return ne}toLaTeX(ie){return this.toString(ie)}static load(ie){if('TheilSenRegression'!==ie.name)throw new TypeError('not a Theil-Sen model');return new te(!0,ie)}}I.default=te},function(R,I,D){'use strict';function O(ae,se,le,de){for(var ue=Array(de),ce=0;ce<de;ce++)ue[ce]=ce;for(var me=G(se,le,de),pe=0,ge;pe<me.length;pe++){for(var he=me[pe],fe=Z(he,ue),xe=se.slice(),ye=0;ye<se.length;ye++)xe[ye]=le[ye]-$(se[ye],ue,fe),xe[ye]={residual:xe[ye]*xe[ye],coefficients:fe};var be=ee(xe);(!ge||be.residual<ge.residual)&&(ge=be)}ae.degree=de,ae.powers=ue,ae.coefficients=ge.coefficients}function G(ae,se,le){for(var de=Math.floor(ae.length/le),ue=Array(de),ce=0;ce<ae.length;ce++){for(var me=Math.floor(Math.random()*de),ge=0;ge<ae.length;)if(!ue[me]){ue[me]=[{x:ae[ce],y:se[ce]}];break}else if(ue[me].length<le){ue[me].push({x:ae[ce],y:se[ce]});break}else ge++,me=(me+1)%de;if(ge===ae.length)return ue}return ue}function Z(ae,se){for(var le=ae.slice(),de=ae.slice(),ue=0;ue<le.length;ue++){de[ue]=[ae[ue].y],le[ue]=Array(se.length);for(var ce=0;ce<se.length;ce++)le[ue][ce]=Math.pow(ae[ue].x,se[ce])}return(0,ne.solve)(le,de).to1DArray()}function $(ae,se,le){for(var de=0,ue=0;ue<se.length;ue++)de+=le[ue]*Math.pow(ae,se[ue]);return de}function ee(ae){ae.sort((de,ue)=>de.residual-ue.residual);var se=ae.length,le=Math.floor(se/2);return 0==se%2?ae[le-1]:ae[le]}Object.defineProperty(I,'__esModule',{value:!0});var te=D(2),ie=function(ae){return ae&&ae.__esModule?ae:{default:ae}}(te),ne=D(0);class oe extends ie.default{constructor(ae,se,le){super(),!0===ae?(this.degree=se.degree,this.powers=se.powers,this.coefficients=se.coefficients):((0,te.checkArrayLength)(ae,se),O(this,ae,se,le))}toJSON(){return{name:'robustPolynomialRegression',degree:this.degree,powers:this.powers,coefficients:this.coefficients}}_predict(ae){return $(ae,this.powers,this.coefficients)}toString(ae){return this._toFormula(ae,!1)}toLaTeX(ae){return this._toFormula(ae,!0)}_toFormula(ae,se){var le='^',de='',ue=' * ';se&&(le='^{',de='}',ue='');for(var ce='',me='',ge=0;ge<this.coefficients.length;ge++)me='',0!==this.coefficients[ge]&&(me=0===this.powers[ge]?(0,te.maybeToPrecision)(this.coefficients[ge],ae):1===this.powers[ge]?(0,te.maybeToPrecision)(this.coefficients[ge],ae)+ue+'x':(0,te.maybeToPrecision)(this.coefficients[ge],ae)+ue+'x'+le+this.powers[ge]+de,0<this.coefficients[ge]&&ge!==this.coefficients.length-1?me=' + '+me:ge!==this.coefficients.length-1&&(me=' '+me)),ce=me+ce;return'+'===ce.charAt(0)&&(ce=ce.slice(1)),'f(x) = '+ce}static load(ae){if('robustPolynomialRegression'!==ae.name)throw new TypeError('not a RobustPolynomialRegression model');return new oe(!0,ae)}}I.default=oe},function(R,I,D){'use strict';function E(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(I,'__esModule',{value:!0});var O=D(2),G=E(O),Z=D(38),$=E(Z);class ee extends G.default{constructor(te,ie,ne){if(super(),!0===te)this.A=ie.A,this.M=ie.M;else{var oe=te.length;if(oe!==ie.length)throw new RangeError('input and output array have a different length');var ae=new $.default(te,ie,[ne]);this.A=ae.coefficients[0],this.M=ne}}_predict(te){return this.A*Math.pow(te,this.M)}toJSON(){return{name:'potentialRegression',A:this.A,M:this.M}}toString(te){return'f(x) = '+(0,O.maybeToPrecision)(this.A,te)+' * x^'+this.M}toLaTeX(te){return 0<=this.M?'f(x) = '+(0,O.maybeToPrecision)(this.A,te)+'x^{'+this.M+'}':'f(x) = \\frac{'+(0,O.maybeToPrecision)(this.A,te)+'}{x^{'+-this.M+'}}'}static load(te){if('potentialRegression'!==te.name)throw new TypeError('not a potential regression model');return new ee(!0,te)}}I.default=ee},function(R,I,D){'use strict';function E(te,ie,ne){for(var oe=0,ae=ne(ie),se=0;se<te.x.length;se++)oe+=Math.abs(te.y[se]-ae(te.x[se]));return oe}function O(te,ie,ne,oe,ae){for(var se=ne.length,le=te.x.length,de=Array(se),ue=0;ue<se;ue++){de[ue]=Array(le);var ce=ne.concat();ce[ue]+=oe;for(var me=ae(ce),ge=0;ge<le;ge++)de[ue][ge]=ie[ge]-me(te.x[ge])}return new ee.Matrix(de)}function G(te,ie){for(var ne=te.x.length,oe=Array(ne),ae=0;ae<ne;ae++)oe[ae]=te.y[ae]-ie[ae];return new ee.Matrix([oe])}function Z(te,ie,ne,oe,ae){for(var se=ee.Matrix.eye(ie.length).mul(ne*oe*oe),le=te.x.length,de=Array(le),ue=ae(ie),ce=0;ce<le;ce++)de[ce]=ue(te.x[ce]);var me=O(te,de,ie,oe,ae),ge=G(te,de).transposeView(),pe=ee.inverse(se.add(me.mmul(me.transposeView())));return ie=new ee.Matrix([ie]),ie=ie.sub(pe.mmul(me).mmul(ge).mul(oe).transposeView()),ie.to1DArray()}var ee=D(0);R.exports=function(te,ie,ne={}){var oe=ne.maxIterations,ae=oe===void 0?100:oe,se=ne.gradientDifference,le=se===void 0?0.1:se,de=ne.damping,ue=de===void 0?0:de,ce=ne.errorTolerance,me=ce===void 0?0.01:ce,ge=ne.initialValues;if(0>=ue)throw new Error('The damping option must be a positive number');else if(!te.x||!te.y)throw new Error('The data parameter must have x and y elements');else if(!Array.isArray(te.x)||2>te.x.length||!Array.isArray(te.y)||2>te.y.length)throw new Error('The data parameter elements must be an array with more than 2 points');else{var pe=te.x.length;if(pe!==te.y.length)throw new Error('The data parameter elements must have the same size')}var he=ge||Array(ie.length).fill(1);if(!Array.isArray(he))throw new Error('initialValues must be an array');for(var fe=E(te,he,ie),xe=fe<=me,ye=0;ye<ae&&!xe;ye++)he=Z(te,he,ue,le,ie),fe=E(te,he,ie),xe=fe<=me;return{parameterValues:he,parameterError:fe,iterations:ye}}},function(module,exports,__webpack_require__){'use strict';function fillTemplateFunction(R,I){for(var D in I)R=R.replace(new RegExp('%'+D+'%','g'),I[D]);return R}Object.defineProperty(exports,'__esModule',{value:!0}),exports.SparseMatrix=void 0;var _mlHashTable=__webpack_require__(39),_mlHashTable2=function(R){return R&&R.__esModule?R:{default:R}}(_mlHashTable);class R{constructor(I,D,E={}){if(I instanceof R){var O=I;return void this._init(O.rows,O.columns,O.elements.clone(),O.threshold)}if(Array.isArray(I)){var G=I;I=G.length,E=D||{},D=G[0].length,this._init(I,D,new _mlHashTable2.default(E),E.threshold);for(var Z=0;Z<I;Z++)for(var $=0,ee;$<D;$++)ee=G[Z][$],this.threshold&&Math.abs(ee)<this.threshold&&(ee=0),0!==ee&&this.elements.set(Z*D+$,G[Z][$])}else this._init(I,D,new _mlHashTable2.default(E),E.threshold)}_init(I,D,E,O){this.rows=I,this.columns=D,this.elements=E,this.threshold=O||0}static eye(I=1,D=I){for(var E=Math.min(I,D),O=new R(I,D,{initialCapacity:E}),G=0;G<E;G++)O.set(G,G,1);return O}clone(){return new R(this)}to2DArray(){for(var I=Array(this.rows),D=0;D<this.rows;D++){I[D]=Array(this.columns);for(var E=0;E<this.columns;E++)I[D][E]=this.get(D,E)}return I}isSquare(){return this.rows===this.columns}isSymmetric(){if(!this.isSquare())return!1;var I=!0;return this.forEachNonZero((D,E,O)=>{return this.get(E,D)===O?O:(I=!1,!1)}),I}bandWidth(){var I=this.columns,D=-1;return this.forEachNonZero((E,O,G)=>{var Z=E-O;return I=Math.min(I,Z),D=Math.max(D,Z),G}),D-I}isBanded(I){var D=this.bandWidth();return D<=I}get cardinality(){return this.elements.size}get size(){return this.rows*this.columns}get(I,D){return this.elements.get(I*this.columns+D)}set(I,D,E){return this.threshold&&Math.abs(E)<this.threshold&&(E=0),0===E?this.elements.remove(I*this.columns+D):this.elements.set(I*this.columns+D,E),this}mmul(I){this.columns!==I.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');var D=this.rows,E=I.columns,O=new R(D,E);return this.forEachNonZero((G,Z,$)=>{return I.forEachNonZero((ee,te,ie)=>{return Z===ee&&O.set(G,te,O.get(G,te)+$*ie),ie}),$}),O}kroneckerProduct(I){var D=this.rows,E=this.columns,O=I.rows,G=I.columns,Z=new R(D*O,E*G,{initialCapacity:this.cardinality*I.cardinality});return this.forEachNonZero(($,ee,te)=>{return I.forEachNonZero((ie,ne,oe)=>{return Z.set(O*$+ie,G*ee+ne,te*oe),oe}),te}),Z}forEachNonZero(I){return this.elements.forEachPair((D,E)=>{var O=0|D/this.columns,G=D%this.columns,Z=I(O,G,E);return!1!==Z&&(this.threshold&&Math.abs(Z)<this.threshold&&(Z=0),Z!==E&&(0===Z?this.elements.remove(D,!0):this.elements.set(D,Z)),!0)}),this.elements.maybeShrinkCapacity(),this}getNonZeros(){var I=this.cardinality,D=Array(I),E=Array(I),O=Array(I),G=0;return this.forEachNonZero((Z,$,ee)=>{return D[G]=Z,E[G]=$,O[G]=ee,G++,ee}),{rows:D,columns:E,values:O}}setThreshold(I){return 0!==I&&I!==this.threshold&&(this.threshold=I,this.forEachNonZero((D,E,O)=>O)),this}transpose(){var I=new R(this.columns,this.rows,{initialCapacity:this.cardinality});return this.forEachNonZero((D,E,O)=>{return I.set(E,D,O),O}),I}}exports.SparseMatrix=R,R.prototype.klass='Matrix',R.identity=R.eye,R.prototype.tensorProduct=R.prototype.kroneckerProduct;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    this.forEachNonZero((i, j, v) => v %op% value);
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix.forEachNonZero((i, j, v) => {
        this.set(i, j, this.get(i, j) %op% v);
        return v;
    });
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    this.forEachNonZero((i, j, v) => %method%(v));
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%();
})
`,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var operator of operators)for(var i=1;i<operator.length;i++)R.prototype[operator[i]]=eval(fillTemplateFunction(inplaceOperator,{name:operator[i],op:operator[0]})),R.prototype[operator[i]+'S']=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[i]+'S',op:operator[0]})),R.prototype[operator[i]+'M']=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[i]+'M',op:operator[0]})),R[operator[i]]=eval(fillTemplateFunction(staticOperator,{name:operator[i]}));var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(R){methods.push(['Math.'+R,R])});for(var method of methods)for(var _i=1;_i<method.length;_i++)R.prototype[method[_i]]=eval(fillTemplateFunction(inplaceMethod,{name:method[_i],method:method[0]})),R[method[_i]]=eval(fillTemplateFunction(staticMethod,{name:method[_i]}))},function(R){'use strict';R.exports=function(O,G){O=O||0;for(var Z=Array(O),$=0;$<O;$++)Z[$]=G;return Z}},function(R,I,D){'use strict';var O=D(40),G=D(41).asc,Z=2147483647,$=[Z,5,11,23,47,97,197,397,797,1597,3203,6421,12853,25717,51437,102877,205759,411527,823117,1646237,3292489,6584983,13169977,26339969,52679969,105359939,210719881,421439783,842879579,1685759167,433,877,1759,3527,7057,14143,28289,56591,113189,226379,452759,905551,1811107,3622219,7244441,14488931,28977863,57955739,115911563,231823147,463646329,927292699,1854585413,953,1907,3821,7643,15287,30577,61169,122347,244703,489407,978821,1957651,3915341,7830701,15661423,31322867,62645741,125291483,250582987,501165979,1002331963,2004663929,1039,2081,4177,8363,16729,33461,66923,133853,267713,535481,1070981,2141977,4283963,8567929,17135863,34271747,68543509,137087021,274174111,548348231,1096696463,31,67,137,277,557,1117,2237,4481,8963,17929,35863,71741,143483,286973,573953,1147921,2295859,4591721,9183457,18366923,36733847,73467739,146935499,293871013,587742049,1175484103,599,1201,2411,4831,9677,19373,38747,77509,155027,310081,620171,1240361,2480729,4961459,9922933,19845871,39691759,79383533,158767069,317534141,635068283,1270136683,311,631,1277,2557,5119,10243,20507,41017,82037,164089,328213,656429,1312867,2625761,5251529,10503061,21006137,42012281,84024581,168049163,336098327,672196673,1344393353,3,7,17,37,79,163,331,673,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,43,89,179,359,719,1439,2879,5779,11579,23159,46327,92657,185323,370661,741337,1482707,2965421,5930887,11861791,23723597,47447201,94894427,189788857,379577741,759155483,1518310967,379,761,1523,3049,6101,12203,24407,48817,97649,195311,390647,781301,1562611,3125257,6250537,12501169,25002389,50004791,100009607,200019221,400038451,800076929,1600153859,13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,19,41,83,167,337,677,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,53,107,223,449,907,1823,3659,7321,14653,29311,58631,117269,234539,469099,938207,1876417,3752839,7505681,15011389,30022781,60045577,120091177,240182359,480364727,960729461,1921458943];$.sort(G),I.nextPrime=function(ee){var te=O($,ee,G);return 0>te&&(te=~te),$[te]},I.largestPrime=Z},function(R){'use strict';R.exports=Number.isNaN||function(E){return E!==E}},function(R,I,D){'use strict';I.additiveSymmetric=D(137),I.avg=D(138),I.bhattacharyya=D(139),I.canberra=D(140),I.chebyshev=D(141),I.clark=D(142),I.czekanowski=D(143),I.dice=D(44),I.divergence=D(144),I.euclidean=D(1),I.fidelity=D(145),I.gower=D(146),I.harmonicMean=D(147),I.hellinger=D(148),I.innerProduct=D(149),I.intersection=D(45),I.jaccard=D(46),I.jeffreys=D(150),I.jensenDifference=D(151),I.jensenShannon=D(152),I.kdivergence=D(153),I.kulczynski=D(47),I.kullbackLeibler=D(154),I.kumarHassebrook=D(155),I.kumarJohnson=D(156),I.lorentzian=D(157),I.manhattan=D(158),I.matusita=D(159),I.minkowski=D(160),I.motyka=D(48),I.neyman=D(161),I.pearson=D(162),I.probabilisticSymmetric=D(163),I.ruzicka=D(164),I.soergel=D(165),I.sorensen=D(166),I.squared=D(167),I.squaredChord=D(49),I.squaredEuclidean=D(1).squared,I.taneja=D(168),I.tanimoto=D(169),I.topsoe=D(170),I.tree=D(171),I.waveHedges=D(172)},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=(O[Z]-G[Z])*(O[Z]-G[Z])*(O[Z]+G[Z])/(O[Z]*G[Z]);return 2*ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0,ie=0;ie<Z;ie++)te=Math.abs(O[ie]-G[ie]),ee+=te,$<te&&($=te);return($+ee)/2}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.sqrt(O[ee]*G[ee]);return-Math.log($)}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.abs(O[ee]-G[ee])/(O[ee]+G[ee]);return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0;te<Z;te++)ee=Math.abs(O[te]-G[te]),$<ee&&($=ee);return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=Math.sqrt((O[Z]-G[Z])*(O[Z]-G[Z])/((O[Z]+G[Z])*(O[Z]+G[Z])));return 2*ee}},function(R,I,D){'use strict';var E=D(43);R.exports=function(G,Z){return 1-E(G,Z)}},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=(O[Z]-G[Z])*(O[Z]-G[Z])/((O[Z]+G[Z])*(O[Z]+G[Z]));return 2*ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.sqrt(O[ee]*G[ee]);return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.abs(O[ee]-G[ee]);return $/Z}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=O[ee]*G[ee]/(O[ee]+G[ee]);return 2*$}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.sqrt(O[ee]*G[ee]);return 2*Math.sqrt(1-$)}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=O[ee]*G[ee];return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=(O[ee]-G[ee])*Math.log(O[ee]/G[ee]);return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=(O[ee]*Math.log(O[ee])+G[ee]*Math.log(G[ee]))/2-(O[ee]+G[ee])/2*Math.log((O[ee]+G[ee])/2);return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0;te<Z;te++)$+=O[te]*Math.log(2*O[te]/(O[te]+G[te])),ee+=G[te]*Math.log(2*G[te]/(O[te]+G[te]));return($+ee)/2}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=O[ee]*Math.log(2*O[ee]/(O[ee]+G[ee]));return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=O[ee]*Math.log(O[ee]/G[ee]);return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0,ie=0;ie<Z;ie++)$+=O[ie]*G[ie],ee+=O[ie]*O[ie],te+=G[ie]*G[ie];return $/(ee+te-$)}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.pow(O[ee]*O[ee]-G[ee]*G[ee],2)/(2*Math.pow(O[ee]*G[ee],1.5));return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.log(Math.abs(O[ee]-G[ee])+1);return $}},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=Math.abs(O[Z]-G[Z]);return ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=Math.sqrt(O[ee]*G[ee]);return Math.sqrt(2-2*$)}},function(R){'use strict';R.exports=function(O,G,Z){for(var $=0,ee=O.length,te=0;$<ee;$++)te+=Math.pow(Math.abs(O[$]-G[$]),Z);return Math.pow(te,1/Z)}},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=(O[Z]-G[Z])*(O[Z]-G[Z])/O[Z];return ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=(O[Z]-G[Z])*(O[Z]-G[Z])/G[Z];return ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=(O[Z]-G[Z])*(O[Z]-G[Z])/(O[Z]+G[Z]);return 2*ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0;te<Z;te++)$+=Math.min(O[te],G[te]),ee+=Math.max(O[te],G[te]);return $/ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0;te<Z;te++)$+=Math.abs(O[te]-G[te]),ee+=Math.max(O[te],G[te]);return $/ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0,te=0;te<Z;te++)$+=Math.abs(O[te]-G[te]),ee+=O[te]+G[te];return $/ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=(O[Z]-G[Z])*(O[Z]-G[Z])/(O[Z]+G[Z]);return ee}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=(O[ee]+G[ee])/2*Math.log((O[ee]+G[ee])/(2*Math.sqrt(O[ee]*G[ee])));return $}},function(R,I,D){'use strict';var E=D(50);R.exports=function(G,Z,$){if($)return 1-E(G,Z,$);for(var ee=G.length,te=0,ie=0,ne=0,oe=0;oe<ee;oe++)te+=G[oe],ie+=Z[oe],ne+=Math.min(G[oe],Z[oe]);return(te+ie-2*ne)/(te+ie-ne)}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=O[ee]*Math.log(2*O[ee]/(O[ee]+G[ee]))+G[ee]*Math.log(2*G[ee]/(O[ee]+G[ee]));return $}},function(R){'use strict';function E($,ee,te,ie,ne,oe){if(ne=ne||0.16,oe=oe||0.01,!(ie-te<ne)){for(var ae=0,se=0;$[se]<ie;se++)$[se]>te&&(ae+=ee[se]);if(!(ae<oe)){for(var le=0,de=0;$[de]<ie;de++)$[se]>te&&(le+=$[de]*ee[de]);return le/=ae,1e-5>le-te||1e-5>ie-le?void 0:le-te<ne/4?E($,ee,le,ie,ne,oe):ie-le<ne/4?E($,ee,te,le,ne,oe):{sum:ae,center:le,left:E($,ee,te,le,ne,oe),right:E($,ee,le,ie,ne,oe)}}}}function O($,ee,te,ie,ne){if($===void 0||ee===void 0)return 0;var oe=te*Math.min($.sum,ee.sum)/Math.max($.sum,ee.sum)+(1-te)*Math.exp(-ne*Math.abs($.center-ee.center));return ie*oe+(1-ie)*(O($.left,ee.left,te,ie,ne)+O($.right,ee.right,te,ie,ne))}var Z={minWindow:0.16,threshold:0.01,alpha:0.1,beta:0.33,gamma:1e-3};R.exports={calc:function($,ee,te,ie,ne){for(var oe in ne=ne||{},Z)ne.hasOwnProperty(oe)||(ne[oe]=Z[oe]);var ae,se;return ae=$.sum?$:E($.x,$.y,te,ie,ne.minWindow,ne.threshold),se=ee.sum?ee:E(ee.x,ee.y,te,ie,ne.minWindow,ne.threshold),O(ae,se,ne.alpha,ne.beta,ne.gamma)},createTree:E}},function(R){'use strict';R.exports=function(O,G){for(var Z=O.length,$=0,ee=0;ee<Z;ee++)$+=1-Math.min(O[ee],G[ee])/Math.max(O[ee],G[ee]);return $}},function(R,I,D){'use strict';I.cosine=D(51),I.czekanowski=D(43),I.dice=D(174),I.intersection=D(175),I.jaccard=D(176),I.kulczynski=D(177),I.motyka=D(178),I.pearson=D(179),I.squaredChord=D(180),I.tanimoto=D(50)},function(R,I,D){'use strict';var E=D(44);R.exports=function(G,Z){return 1-E(G,Z)}},function(R,I,D){'use strict';var E=D(45);R.exports=function(G,Z){return 1-E(G,Z)}},function(R,I,D){'use strict';var E=D(46);R.exports=function(G,Z){return 1-E(G,Z)}},function(R,I,D){'use strict';var E=D(47);R.exports=function(G,Z){return 1/E(G,Z)}},function(R,I,D){'use strict';var E=D(48);R.exports=function(G,Z){return 1-E(G,Z)}},function(R,I,D){'use strict';var E=D(4).array,O=D(51);R.exports=function(Z,$){for(var ee=E.mean(Z),te=E.mean($),ie=Array(Z.length),ne=Array($.length),oe=0;oe<ie.length;oe++)ie[oe]=Z[oe]-ee,ne[oe]=$[oe]-te;return O(ie,ne)}},function(R,I,D){'use strict';var E=D(49);R.exports=function(G,Z){return 1-E(G,Z)}},function(R,I,D){'use strict';var E=D(182);class O{constructor(G,Z,$){if($=$||{},G.length!==Z.length||G[0].length!==Z[0].length)throw new Error('dimensions of prediction and target do not match');var ee=G.length,te=G[0].length,ie=!$.max,ne=[];if($.all)for(var oe=0;oe<ee;oe++)for(var ae=0;ae<te;ae++)ne.push({pred:G[oe][ae],targ:Z[oe][ae]});else{if(3>ee||ee!==te)throw new Error('When "all" option is false, the prediction matrix must be square and have at least 3 columns');for(var oe=0;oe<ee-1;oe++)for(var ae=oe+1;ae<te;ae++)ne.push({pred:G[oe][ae],targ:Z[oe][ae]})}ie?ne.sort((we,_e)=>we.pred-_e.pred):ne.sort((we,_e)=>_e.pred-we.pred);for(var se=this.cutoffs=[ie?Number.MIN_VALUE:Number.MAX_VALUE],le=this.fp=[0],de=this.tp=[0],ue=0,ce=0,me=ne[0].pred,ge=0,pe=0,oe=0;oe<ne.length;oe++)ne[oe].pred!==me&&(se.push(me),le.push(pe),de.push(ge),me=ne[oe].pred),ne[oe].targ?(ue++,ge++):(ce++,pe++);se.push(me),le.push(pe),de.push(ge);for(var he=se.length,fe=this.fn=Array(he),xe=this.tn=Array(he),ye=this.nPosPred=Array(he),be=this.nNegPred=Array(he),oe=0;oe<he;oe++)fe[oe]=ue-de[oe],xe[oe]=ce-le[oe],ye[oe]=de[oe]+le[oe],be[oe]=xe[oe]+fe[oe];this.nPos=ue,this.nNeg=ce,this.nSamples=ue+ce}getMeasure(G){if('string'!=typeof G)throw new Error('No measure specified');if(!E[G])throw new Error(`The specified measure (${G}) does not exist`);return E[G](this)}getAURC(){for(var G=this.cutoffs.length,Z=Array(G),$=Array(G),ee=0;ee<G;ee++)Z[ee]=this.fp[ee]/this.nNeg,$[ee]=this.tp[ee]/this.nPos;var te=0;for(ee=1;ee<G;ee++)te+=0.5*(Z[ee]-Z[ee-1])*($[ee]+$[ee-1]);return te}getAUDC(){for(var G=this.cutoffs.length,Z=Array(G),$=Array(G),ee=0;ee<G;ee++)Z[ee]=this.fn[ee]/this.nPos,$[ee]=this.fp[ee]/this.nNeg;var te=0;for(ee=1;ee<G;ee++)te+=0.5*(Z[ee]+Z[ee-1])*($[ee]-$[ee-1]);return te}getDistribution(G){G=G||{};for(var Z=this.cutoffs.length,$=G.xMin||Math.floor(100*this.cutoffs[Z-1])/100,ee=G.xMax||Math.ceil(100*this.cutoffs[1])/100,te=G.interval||Math.floor(1e7*((ee-$)/20)-1)/1e7,ie=[],ne=[],oe=[],ae=[],se=[],le=this.tp[Z-1],de=0,ue=this.fp[Z-1],ce=0,me=$,ge=Z-1;me<=ee;me+=te){for(;this.cutoffs[ge]<me;)ge--;ie.push(me);var pe=le-de-this.tp[ge],he=ue-ce-this.fp[ge];de+=pe,ce+=he,ne.push(he),oe.push(pe),ae.push(100-100*((ue-this.fp[ge])/ue)),se.push(100-100*((le-this.tp[ge])/le))}return{xLabels:ie,interValues:ne,intraValues:oe,interCumPercent:ae,intraCumPercent:se}}}O.names={acc:'Accuracy',err:'Error rate',fpr:'False positive rate',tpr:'True positive rate',fnr:'False negative rate',tnr:'True negative rate',ppv:'Positive predictive value',npv:'Negative predictive value',pcfall:'Prediction-conditioned fallout',pcmiss:'Prediction-conditioned miss',lift:'Lift value',rpp:'Rate of positive predictions',rnp:'Rate of negative predictions',threshold:'Threshold'},R.exports=O},function(R,I){'use strict';I.acc=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=(E.tn[Z]+E.tp[Z])/(O-1);return G},I.err=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=E.fn[Z]+E.fp[Z]/(O-1);return G},I.fpr=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=E.fp[Z]/E.nNeg;return G},I.tpr=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=E.tp[Z]/E.nPos;return G},I.fnr=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=E.fn[Z]/E.nPos;return G},I.tnr=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=E.tn[Z]/E.nNeg;return G},I.ppv=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=0===E.fp[Z]+E.tp[Z]?0:E.tp[Z]/(E.fp[Z]+E.tp[Z]);return G},I.npv=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=0===E.fn[Z]+E.tn[Z]?0:E.tn[Z]/(E.fn[Z]+E.tn[Z]);return G},I.pcfall=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=0===E.fp[Z]+E.tp[Z]?1:1-E.tp[Z]/(E.fp[Z]+E.tp[Z]);return G},I.pcmiss=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=0===E.fn[Z]+E.tn[Z]?1:1-E.tn[Z]/(E.fn[Z]+E.tn[Z]);return G},I.lift=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=0===E.nPosPred[Z]?0:E.tp[Z]/E.nPos/(E.nPosPred[Z]/E.nSamples);return G},I.rpp=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=E.nPosPred[Z]/E.nSamples;return G},I.rnp=E=>{for(var O=E.cutoffs.length,G=Array(O),Z=0;Z<O;Z++)G[Z]=E.nNegPred[Z]/E.nSamples;return G},I.threshold=E=>{var O=E.cutoffs.slice();return O[0]=O[1],O}},function(R,I,D){'use strict';var O=D(0),G=O.Matrix,Z=O.inverse,$=D(52),ee=D(16),te={windowSize:5,derivative:1,polynomial:2,pad:'none',padValue:'replicate'};R.exports=function(ie,ne,oe){if(oe=ee({},te,oe),0==oe.windowSize%2||5>oe.windowSize||!Number.isInteger(oe.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(0>oe.derivative||!Number.isInteger(oe.derivative))throw new RangeError('Derivative should be a positive integer');if(1>oe.polynomial||!Number.isInteger(oe.polynomial))throw new RangeError('Polynomial should be a positive integer');var le=Math.floor(oe.windowSize/2),ae,se;'pre'===oe.pad&&(ie=$(ie,{size:le,value:oe.padValue}));var de=Array(ie.length-2*le);if(5===oe.windowSize&&2===oe.polynomial&&(1===oe.derivative||2===oe.derivative))1===oe.derivative?(ae=[-2,-1,0,1,2],se=10):(ae=[2,-1,-2,-1,2],se=7);else{for(var ue=G.ones(oe.windowSize,oe.polynomial+1),ce=-(oe.windowSize-1)/2,me=0;me<ue.length;me++)for(var ge=0;ge<ue[me].length;ge++)(0!=ce+1||0!==ge)&&(ue[me][ge]=Math.pow(ce+me,ge));var pe=ue.transposeView(),he=Z(pe.mmul(ue));ae=he.mmul(pe),ae=ae[oe.derivative],se=1}for(var fe=se*Math.pow(ne,oe.derivative),xe=le,ye;xe<ie.length-le;xe++){ye=0;for(var be=0;be<ae.length;be++)ye+=ae[be]*ie[be+xe-le]/fe;de[xe-le]=ye}return'post'===oe.pad&&(de=$(de,{size:le,value:oe.padValue})),de}},function(R,I,D){'use strict';function O(oe,ae,se,le){for(var de=0,ue=0,ce=ae-se;ce<ae+se;ce++)0<=ce&&ce<oe.length-1&&(de+=oe[ce+1]-oe[ce],ue++);return Math.pow(de/ue,le)}function G(oe,ae,se,le){var de=0;return de=0<se?(4*se-2)/(se*(2*ae-se+1))*(oe*G(oe,ae,se-1,le)+le*G(oe,ae,se-1,le-1))-(se-1)*(2*ae+se)/(se*(2*ae-se+1))*G(oe,ae,se-2,le):0==se&&0==le?1:0,de}function Z(oe,ae){var se=1;if(oe>=ae)for(var le=oe-ae+1;le<=oe;le++)se*=le;return se}function $(oe,ae,se,le,de){for(var ue=0,ce=0;ce<=le;ce++)ue+=(2*ce+1)*(Z(2*se,ce)/Z(2*se+ce+1,ce+1))*G(oe,se,ce,0)*G(ae,se,ce,de);return ue}function ee(oe,ae,se){for(var le=Array(oe),de=Math.floor(oe/2),ue=-de;ue<=de;ue++){le[ue+de]=Array(oe);for(var ce=-de;ce<=de;ce++)le[ue+de][ce+de]=$(ce,ue,de,ae,se)}return le}var te=D(16),ie=D(4),ne={windowSize:9,derivative:0,polynomial:3};R.exports=function(oe,ae,se){if(se=te({},ne,se),0==se.windowSize%2||5>se.windowSize||!Number.isInteger(se.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(se.windowSize>oe.length)throw new RangeError('Window size is higher than the data length '+se.windowSize+'>'+oe.length);if(0>se.derivative||!Number.isInteger(se.derivative))throw new RangeError('Derivative should be a positive integer');if(1>se.polynomial||!Number.isInteger(se.polynomial))throw new RangeError('Polynomial should be a positive integer');6<=se.polynomial&&console.warn('You should not use polynomial grade higher than 5 if you are not sure that your data arises from such a model. Possible polynomial oscillation problems');var le=se.windowSize,de=Math.floor(le/2),ue=oe.length,ce=Array(ue),me=ee(le,se.polynomial,se.derivative),ge=0,pe=!0;'[object Array]'===Object.prototype.toString.call(ae)?pe=!1:ge=Math.pow(ae,se.derivative);for(var he=0;he<de;he++){for(var fe=me[de-he-1],xe=me[de+he+1],ye=0,be=0,we=0;we<le;we++)ye+=fe[we]*oe[we],be+=xe[we]*oe[ue-le+we-1];pe?(ce[de-he-1]=ye/ge,ce[ue-de+he]=be/ge):(ge=O(ae,de-he-1,de,se.derivative),ce[de-he-1]=ye/ge,ge=O(ae,ue-de+he,de,se.derivative),ce[ue-de+he]=be/ge)}for(var _e=me[de],he=le,ve;he<ue+1;he++){ve=0;for(var we=0;we<le;we++)ve+=_e[we]*oe[we+he-le];pe||(ge=O(ae,he-de-1,de,se.derivative)),ce[he-de-1]=ve/ge}return ce}},function(R,I,D){'use strict';function ie(de){for(var ue='',ce=0,me;ce<de.length;ce++)me=(de[ce]>>>0).toString(2),ue+='00000000000000000000000000000000'.substr(me.length)+me;return ue}var le=D(186);R.exports={count:function(de){for(var ue=0,ce=0;ce<de.length;ce++)ue+=le[255&de[ce]]+le[255&de[ce]>>8]+le[255&de[ce]>>16]+le[255&de[ce]>>24];return ue},and:function(de,ue){for(var ce=Array(de.length),me=0;me<de.length;me++)ce[me]=de[me]&ue[me];return ce},or:function(de,ue){for(var ce=Array(de.length),me=0;me<de.length;me++)ce[me]=de[me]|ue[me];return ce},xor:function(de,ue){for(var ce=Array(de.length),me=0;me<de.length;me++)ce[me]=de[me]^ue[me];return ce},not:function(de){for(var ue=Array(de.length),ce=0;ce<ue.length;ce++)ue[ce]=~de[ce];return ue},getBit:function(de,ue){return!!(de[ue>>5]&1<<31-ue%32)},setBit:function(de,ue,ce){var me=ue>>5,ge=1<<31-ue%32;return de[me]=ce?ge|de[me]:~ge&de[me],de},toBinaryString:ie,parseBinaryString:function(de){for(var ue=de.length/32,ce=Array(ue),me=0;me<ue;me++)ce[me]=0|parseInt(de.substr(32*me,32),2);return ce},toHexString:function(de){for(var ue='',ce=0,me;ce<de.length;ce++)me=(de[ce]>>>0).toString(16),ue+='00000000'.substr(me.length)+me;return ue},parseHexString:function(de){for(var ue=de.length/8,ce=Array(ue),me=0;me<ue;me++)ce[me]=0|parseInt(de.substr(8*me,8),16);return ce},toDebug:function(de){for(var ue=ie(de),ce='',me=0;me<de.length;me++){ce+='0000'.substr((32*me).toString(16).length)+(32*me).toString(16)+':';for(var ge=0;32>ge;ge+=4)ce+=' '+ue.substr(32*me+ge,4);me<de.length-1&&(ce+='\n')}return ce}}},function(R){'use strict';for(var E=Array(256),O=0;256>O;O++){for(var G=O,Z=0;G;)G&=G-1,Z++;E[O]=Z}R.exports=E},function(R,I,D){'use strict';R.exports=I=D(188),I.getEquallySpacedData=D(189).getEquallySpacedData,I.SNV=D(190).SNV},function(R,I,D){'use strict';function Z(ne){for(var oe=Array(ne[0].length),ae=0;ae<oe.length;++ae)oe[ae]=Array(ne.length);for(ae=0;ae<ne.length;++ae)for(var se=0;se<ne[0].length;++se)oe[se][ae]=ne[ae][se];return oe}function te(ne,oe={}){var ae=oe.min,se=oe.max,le=oe.inPlace?ne:Array(ne.length),de=ie.minMax(ne);if('number'==typeof se){if('number'==typeof ae)for(var ue=(se-ae)/(de.max-de.min),ce=0;ce<le.length;ce++)le[ce]=(ne[ce]-de.min)*ue+ae;else if(0!==de.max)for(var me=se/de.max,ge=0;ge<le.length;ge++)le[ge]=ne[ge]*me;else oe.min=de.min,le=te(ne,oe);}else if('number'==typeof ae)if(0!==de.min)for(var pe=ae/de.min,he=0;he<le.length;he++)le[he]=ne[he]*pe;else oe.max=de.max,le=te(ne,oe);return le}var ie=D(4).array;R.exports={coordArrayToPoints:function(ne,oe){if(0!=ne.length%oe)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var ae=ne.length/oe,se=Array(ae),le=0,de=0,ue;de<ne.length;de+=oe){ue=Array(oe);for(var ce=0;ce<oe;++ce)ue[ce]=ne[de+ce];se[le]=ue,le++}return se},coordArrayToCoordMatrix:function(ne,oe){if(0!=ne.length%oe)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var ae=Array(oe),se=ne.length/oe,le=0;le<ae.length;le++)ae[le]=Array(se);for(le=0;le<ne.length;le+=oe)for(var de=0,ue;de<oe;++de)ue=Math.floor(le/oe),ae[de][ue]=ne[le+de];return ae},coordMatrixToCoordArray:function(ne){for(var oe=Array(ne.length*ne[0].length),ae=0,se=0;se<ne[0].length;++se)for(var le=0;le<ne.length;++le)oe[ae]=ne[le][se],++ae;return oe},coordMatrixToPoints:Z,pointsToCoordArray:function(ne){for(var oe=Array(ne.length*ne[0].length),ae=0,se=0;se<ne.length;++se)for(var le=0;le<ne[0].length;++le)oe[ae]=ne[se][le],++ae;return oe},pointsToCoordMatrix:Z,applyDotProduct:function(ne,oe){var ae,se;ne.length<=oe.length?(se=ne,ae=oe):(se=oe,ae=ne);for(var le=ae.length-se.length+1,de=Array(le),ue=0,ce;ue<le;++ue){ce=0;for(var me=0;me<se.length;++me)ce+=se[me]*ae[ue+me];de[ue]=ce}return de},scale:te}},function(R,I){'use strict';function O($,ee,te,ie,ne){function oe(Pe,Se,Re,Ce){return(Ce-Se)/(Re-Pe)}var ae=$.length,se=(ie-te)/(ne-1),le=se/2,de=Array(ne),ue=$[1]-$[0],ce=$[ae-1]-$[ae-2],me=te-le,ge=te+le,pe=Number.MIN_VALUE,he=0,fe=$[0]-ue,xe=0,ye=0,be=0,we=0,_e=0,ve=0,ke=0,je=0;main:for(;;){for(pe<=me&&me<=fe&&(Me=Z(0,me-pe,be,he),_e=ye+Me);0<=fe-ge;){var Me=Z(0,ge-pe,be,he);if(ve=ye+Me,de[je++]=(ve-_e)/se,je===ne)break main;me=ge,ge+=se,_e=ve}ye+=Z(pe,fe,be,we),pe=fe,he=xe,ke<ae?(fe=$[ke],xe=ee[ke],ke++):ke===ae&&(fe+=ce,xe=0),be=oe(pe,he,fe,xe),we=-be*pe+he}return de}function G($,ee,te,ie,ne){var oe=$.length,ae=(ie-te)/(ne-1),le=$[$.length-1]-$[$.length-2],de=te-ae/2,ue=Array(ne),ce=de,me=de+ae,ge=-Number.MAX_VALUE,pe=0,he=$[0],fe=ee[0],xe=0,ye=!0,be=0,we=0,_e=1,ve=0;main:for(;;){if(ge>=he)throw new Error('x must be an increasing serie');for(;0<ge-me;){if(ye&&(we++,ye=!1),ue[ve]=0>=we?0:be/we,ve++,ve===ne)break main;ce=me,me+=ae,be=0,we=0}ge>ce&&(be+=pe,we++),(ge==-Number.MAX_VALUE||1<xe)&&we--,ge=he,pe=fe,_e<oe?(he=$[_e],fe=ee[_e],_e++):(he+=le,fe=0,xe++)}return ue}function Z($,ee,te,ie){return 0.5*te*ee*ee+ie*ee-(0.5*te*$*$+ie*$)}I.getEquallySpacedData=function($,ee,te={}){var ie=$.length;1<$.length&&$[0]>$[1]&&($=$.slice().reverse(),ee=ee.slice().reverse());var ne=te.from,oe=ne===void 0?$[0]:ne,ae=te.to,se=ae===void 0?$[ie-1]:ae,le=te.variant,de=le===void 0?'smooth':le,ue=te.numberOfPoints,ce=ue===void 0?100:ue;if(ie!==ee.length)throw new RangeError('the x and y vector doesn\'t have the same size.');if('number'!=typeof oe||isNaN(oe))throw new RangeError('\'from\' option must be a number');if('number'!=typeof se||isNaN(se))throw new RangeError('\'to\' option must be a number');var me=oe>se;if(me){var ge=[se,oe];oe=ge[0],se=ge[1]}if('number'!=typeof ce||isNaN(ce))throw new RangeError('\'numberOfPoints\' option must be a number');if(1>ce)throw new RangeError('the number of points must be at least 1');var pe='slot'===de?G($,ee,oe,se,ce):O($,ee,oe,se,ce);return me?pe.reverse():pe},I.integral=Z},function(R,I,D){'use strict';I.SNV=function(G){for(var Z=O.mean(G),$=O.standardDeviation(G),ee=G.slice(),te=0;te<G.length;te++)ee[te]=(ee[te]-Z)/$;return ee};var O=D(4).array}])});